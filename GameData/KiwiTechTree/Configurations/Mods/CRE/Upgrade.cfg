// Kiwi's Tech Tree Overhaul (CRE Stockalike British Rocketry by Beale Upgrades)
// Version 1.2
// Created: 27-28 October 2020 for KSP 1.9.1 to 1.10.1
// Last Updated: 23 November 2020
// 11 November 2020: Upgrade Cleanup
// 23 November 2020: Added support to disable engine upgrades

//// ********* Engines ********* \\\\

// ***** Liquid Fuel ***** \\

// Tier 0 - start, just the small jet engine to allow for the aeronautics branch

// Tier 1 - basicRocketry , a basic 0.625m engine that helps get us off the ground

// Tier 2 - generalRocketry ; Stronger 0.625m engine and initial 1.25m engine

// Tier 3 - advRocketry ; Intro of the 1.875m engine in Making History
PARTUPGRADE:NEEDS[CRE]
{
	type = engine
	name = ngalindiUpgrade
	partIcon = black_knight_engine_s1_1
	techRequired = advRocketry
	entryCost = 1
	cost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.
	title = 
	basicInfo = Increased Thrust, Increased Specific Impulse.
	manufacturer = Kiwi Imagineers
	description = 
}
@PARTUPGRADE[ngalindiUpgrade]:NEEDS[CRE]:FOR[zKiwiTechTree]
{
	@entryCost = #$@PART[black_knight_engine_s1_1]/entryCost$
	@entryCost *= #$@KIWI_ENGINE_MULTIPLIERS/KEROLOX/UPGRADE_ENTRYCOST_MULTIPLIER$
	@title = #$@PART[black_knight_engine_s1_1]/title$ Upgrade
	@description = #Our imagineers dreamt about making the $@PART[black_knight_engine_s1_1]/engineName$ thrustier and efficientier and have "made it so".
}
@PART[black_knight_engine_s1_1]:NEEDS[CRE]:HAS[~engineUpgrade[off]]:AFTER[zzKiwiTechTree]
{
	@description = #$description$ \n\n<color=#ff0000>This engine has an upgrade in $@PARTUPGRADE[ngalindiUpgrade]/techRequired$!</color> 
}

// Tier 4 - heavyRocketry Heavy Rocketry, Intro of 2.5m engines
PARTUPGRADE:NEEDS[CRE]
{
	type = engine
	name = waitahaUpgrade
	partIcon = black_arrow_engine_s1_3
	techRequired = heavyRocketry
	entryCost = 1
	cost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.
	title = 
	basicInfo = Increased Thrust, Increased Specific Impulse.
	manufacturer = Kiwi Imagineers
	description = 
}
@PARTUPGRADE[waitahaUpgrade]:NEEDS[CRE]:FOR[zKiwiTechTree]
{
	@entryCost = #$@PART[black_arrow_engine_s1_3]/entryCost$
	@entryCost *= #$@KIWI_ENGINE_MULTIPLIERS/KEROLOX/UPGRADE_ENTRYCOST_MULTIPLIER$
	@title = #$@PART[black_arrow_engine_s1_3]/title$ Upgrade
	@description = #Our imagineers dreamt about making the $@PART[black_arrow_engine_s1_3]/engineName$ thrustier and efficientier and have "made it so".
}
@PART[black_arrow_engine_s1_3]:NEEDS[CRE]:HAS[~engineUpgrade[off]]:AFTER[zzKiwiTechTree]
{
	@description = #$description$ \n\n<color=#ff0000>This engine has an upgrade in $@PARTUPGRADE[waitahaUpgrade]/techRequired$!</color> 
}

PARTUPGRADE:NEEDS[CRE]
{
	type = engine
	name = ginabonbearpUpgrade
	partIcon = blue_steel_engine_s1_1
	techRequired = heavyRocketry
	entryCost = 1
	cost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.
	title = 
	basicInfo = Increased Thrust, Increased Specific Impulse.
	manufacturer = Kiwi Imagineers
	description = 
}
@PARTUPGRADE[ginabonbearpUpgrade]:NEEDS[CRE]:FOR[zKiwiTechTree]
{
	@entryCost = #$@PART[blue_steel_engine_s1_1]/entryCost$
	@entryCost *= #$@KIWI_ENGINE_MULTIPLIERS/KEROLOX/UPGRADE_ENTRYCOST_MULTIPLIER$
	@title = #$@PART[blue_steel_engine_s1_1]/title$ Upgrade
	@description = #Our imagineers dreamt about making the $@PART[blue_steel_engine_s1_1]/engineName$ thrustier and efficientier and have "made it so".
}
@PART[blue_steel_engine_s1_1]:NEEDS[CRE]:HAS[~engineUpgrade[off]]:AFTER[zzKiwiTechTree]
{
	@description = #$description$ \n\n<color=#ff0000>This engine has an upgrade in $@PARTUPGRADE[ginabonbearpUpgrade]/techRequired$!</color> 
}


PARTUPGRADE:NEEDS[CRE]
{
	type = engine
	name = macaroniUpgrade
	partIcon = black_arrow_engine_s1_2
	techRequired = heavyRocketry
	entryCost = 1
	cost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.
	title = 
	basicInfo = Increased Thrust, Increased Specific Impulse.
	manufacturer = Kiwi Imagineers
	description = 
}
@PARTUPGRADE[macaroniUpgrade]:NEEDS[CRE]:FOR[zKiwiTechTree]
{
	@entryCost = #$@PART[black_arrow_engine_s1_2]/entryCost$
	@entryCost *= #$@KIWI_ENGINE_MULTIPLIERS/KEROLOX/UPGRADE_ENTRYCOST_MULTIPLIER$
	@title = #$@PART[black_arrow_engine_s1_2]/title$ Upgrade
	@description = #Our imagineers dreamt about making the $@PART[black_arrow_engine_s1_2]/engineName$ thrustier and efficientier and have "made it so".
}
@PART[black_arrow_engine_s1_2]:NEEDS[CRE]:HAS[~engineUpgrade[off]]:AFTER[zzKiwiTechTree]
{
	@description = #$description$ \n\n<color=#ff0000>This engine has an upgrade in $@PARTUPGRADE[macaroniUpgrade]/techRequired$!</color> 
}

PARTUPGRADE:NEEDS[CRE]
{
	type = engine
	name = littleUpgrade
	partIcon = black_arrow_engine_s1_1
	techRequired = heavyRocketry
	entryCost = 1
	cost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.
	title = 
	basicInfo = Increased Thrust, Increased Specific Impulse.
	manufacturer = Kiwi Imagineers
	description = 
}
@PARTUPGRADE[littleUpgrade]:NEEDS[CRE]:FOR[zKiwiTechTree]
{
	@entryCost = #$@PART[black_arrow_engine_s1_1]/entryCost$
	@entryCost *= #$@KIWI_ENGINE_MULTIPLIERS/KEROLOX/UPGRADE_ENTRYCOST_MULTIPLIER$
	@title = #$@PART[black_arrow_engine_s1_1]/title$ Upgrade
	@description = #Our imagineers dreamt about making the $@PART[black_arrow_engine_s1_1]/engineName$ thrustier and efficientier and have "made it so".
}
@PART[black_arrow_engine_s1_1]:NEEDS[CRE]:HAS[~engineUpgrade[off]]:AFTER[zzKiwiTechTree]
{
	@description = #$description$ \n\n<color=#ff0000>This engine has an upgrade in $@PARTUPGRADE[littleUpgrade]/techRequired$!</color> 
}

// Tier 5 - heavierRocketry Heavier Rocketry
PARTUPGRADE:NEEDS[CRE]
{
	type = engine
	name = tattlerUpgrade
	partIcon = blue_streak_engine_s1_3
	techRequired = heavierRocketry
	entryCost = 1
	cost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.
	title = 
	basicInfo = Increased Thrust, Increased Specific Impulse.
	manufacturer = Kiwi Imagineers
	description = 
}
@PARTUPGRADE[tattlerUpgrade]:NEEDS[CRE]:FOR[zKiwiTechTree]
{
	@entryCost = #$@PART[blue_streak_engine_s1_3]/entryCost$
	@entryCost *= #$@KIWI_ENGINE_MULTIPLIERS/KEROLOX/UPGRADE_ENTRYCOST_MULTIPLIER$
	@title = #$@PART[blue_streak_engine_s1_3]/title$ Upgrade
	@description = #Our imagineers dreamt about making the $@PART[blue_streak_engine_s1_3]/engineName$ thrustier and efficientier and have "made it so".
}
@PART[blue_streak_engine_s1_3]:NEEDS[CRE]:HAS[~engineUpgrade[off]]:AFTER[zzKiwiTechTree]
{
	@description = #$description$ \n\n<color=#ff0000>This engine has an upgrade in $@PARTUPGRADE[tattlerUpgrade]/techRequired$!</color> 
}

PARTUPGRADE:NEEDS[CRE]
{
	type = engine
	name = sandpiperUpgrade
	partIcon = blue_streak_engine_s1_2
	techRequired = heavierRocketry
	entryCost = 1
	cost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.
	title = 
	basicInfo = Increased Thrust, Increased Specific Impulse.
	manufacturer = Kiwi Imagineers
	description = 
}
@PARTUPGRADE[sandpiperUpgrade]:NEEDS[CRE]:FOR[zKiwiTechTree]
{
	@entryCost = #$@PART[blue_streak_engine_s1_2]/entryCost$
	@entryCost *= #$@KIWI_ENGINE_MULTIPLIERS/KEROLOX/UPGRADE_ENTRYCOST_MULTIPLIER$
	@title = #$@PART[blue_streak_engine_s1_2]/title$ Upgrade
	@description = #Our imagineers dreamt about making the $@PART[blue_streak_engine_s1_2]/engineName$ thrustier and efficientier and have "made it so".
}
@PART[blue_streak_engine_s1_2]:NEEDS[CRE]:HAS[~engineUpgrade[off]]:AFTER[zzKiwiTechTree]
{
	@description = #$description$ \n\n<color=#ff0000>This engine has an upgrade in $@PARTUPGRADE[sandpiperUpgrade]/techRequired$!</color> 
}

PARTUPGRADE:NEEDS[CRE]
{
	type = engine
	name = ploverUpgrade
	partIcon = blue_streak_engine_s1_1
	techRequired = heavierRocketry
	entryCost = 1
	cost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.
	title = 
	basicInfo = Increased Thrust, Increased Specific Impulse.
	manufacturer = Kiwi Imagineers
	description = 
}
@PARTUPGRADE[ploverUpgrade]:NEEDS[CRE]:FOR[zKiwiTechTree]
{
	@entryCost = #$@PART[blue_streak_engine_s1_1]/entryCost$
	@entryCost *= #$@KIWI_ENGINE_MULTIPLIERS/KEROLOX/UPGRADE_ENTRYCOST_MULTIPLIER$
	@title = #$@PART[blue_streak_engine_s1_1]/title$ Upgrade
	@description = #Our imagineers dreamt about making the $@PART[blue_streak_engine_s1_1]/engineName$ thrustier and efficientier and have "made it so".
}
@PART[blue_streak_engine_s1_1]:NEEDS[CRE]:HAS[~engineUpgrade[off]]:AFTER[zzKiwiTechTree]
{
	@description = #$description$ \n\n<color=#ff0000>This engine has an upgrade in $@PARTUPGRADE[ploverUpgrade]/techRequired$!</color> 
}

// Tier 6 - evenHeavierRocketry Even Heavier Rocketry Intro of 3.75m engines

// Tier 7 - veryHeavyRocketry Very Heavy Rocketry

// Tier 8 - experimentalRocketry Experimental Rocketry

// Tier 9 - giganticRocketry

// Tier 10 - colossalRocketry


// ***** Liquid Hydrogen / Liquid Methane ***** \\

// Tier 0 - start, just the small jet engine to allow for the aeronautics branch

// Tier 1 - basicCryoRocketry , a basic 0.625m engine that helps get us off the ground

// Tier 2 - generalCryoRocketry ; Stronger 0.625m engine and initial 1.25m engine

// Tier 3 - advancedCryoRocketry ; Intro of the 1.875m engine in Making History

// Tier 4 - heavyCryoRocketry Heavy Rocketry, Intro of 2.5m engines

// Tier 5 - heavierCryoRocketry Heavier Rocketry
PARTUPGRADE:NEEDS[CRE]
{
	type = engine
	name = dafodilUpgrade
	partIcon = black_anvil_engine_s1_1
	techRequired = heavierCryoRocketry
	entryCost = 1
	cost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.
	title = 
	basicInfo = Increased Thrust, Increased Specific Impulse.
	manufacturer = Kiwi Imagineers
	description = 
}
@PARTUPGRADE[dafodilUpgrade]:NEEDS[CRE]:FOR[zKiwiTechTree]
{
	@entryCost = #$@PART[black_anvil_engine_s1_1]/entryCost$
	@entryCost *= #$@KIWI_ENGINE_MULTIPLIERS/HYDROLOX/UPGRADE_ENTRYCOST_MULTIPLIER$
	@title = #$@PART[black_anvil_engine_s1_1]/title$ Upgrade
	@description = #Our imagineers dreamt about making the $@PART[black_anvil_engine_s1_1]/engineName$ thrustier and efficientier and have "made it so".
}
@PART[black_anvil_engine_s1_1]:NEEDS[CRE]:HAS[~engineUpgrade[off]]:AFTER[zzKiwiTechTree]
{
	@description = #$description$ \n\n<color=#ff0000>This engine has an upgrade in $@PARTUPGRADE[dafodilUpgrade]/techRequired$!</color> 
}

// Tier 6 - evenHeavierCryoRocketry Even Heavier Rocketry Intro of 3.75m engines

// Tier 7 - veryHeavyCryoRocketry Very Heavy Rocketry

// Tier 8 - experimentalCryoRocketry Experimental Rocketry

// Tier 9 - giganticCryoRocketry

// Tier 10 - colossalCryoRocketry
