// Kiwi's Tech Tree Overhaul (Cryotanks 1.5.2 by Nertea Fuel Tank Switcher Patch)
// Version 0.9
// Created: 2 September 2020 for KSP 1.9.1
// Add composite versions of the fuel tanks 
// 1 November 2020: Added general upgrades to fuel tanks.

+B9_TANK_TYPE[LH2O]:NEEDS[CryoTanks]
{
	@name = #$name$_Composite
	massDifference = 1
	@massDifference -= #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_MASS_MULTIPLIER$
	
	@tankMass *=  #$massDifference$
	!massDifference = DELETE
	costDifference = 1
	@costDifference += #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_COST_MULTIPLIER$
	@costDifference -= 0.1
	@tankCost *= #$costDifference$
	!costDifference = DELETE
}

+B9_TANK_TYPE[LH2O]:NEEDS[CryoTanks]
{
	@name = #$name$_NoMassNoCost
	@tankMass = 0
	@tankCost = 0
}

+B9_TANK_TYPE[LH2]:NEEDS[CryoTanks]
{
	@name = #$name$_Composite
	massDifference = 1
	@massDifference -= #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_MASS_MULTIPLIER$
	
	@tankMass *=  #$massDifference$
	!massDifference = DELETE
	costDifference = 1
	@costDifference += #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_COST_MULTIPLIER$
	@costDifference -= 0.1
	@tankCost *= #$costDifference$
	!costDifference = DELETE
}

+B9_TANK_TYPE[LH2]:NEEDS[CryoTanks]
{
	@name = #$name$_NoMassNoCost
	@tankMass = 0
	@tankCost = 0
}

+B9_TANK_TYPE[LH2OCryo]:NEEDS[CryoTanks]
{
	@name = #$name$_Composite
	massDifference = 1
	@massDifference -= #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_MASS_MULTIPLIER$
	
	@tankMass *=  #$massDifference$
	!massDifference = DELETE
	costDifference = 1
	@costDifference += #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_COST_MULTIPLIER$
	@costDifference -= 0.1
	@tankCost *= #$costDifference$
	!costDifference = DELETE
}

+B9_TANK_TYPE[LH2Cryo]:NEEDS[CryoTanks]
{
	@name = #$name$_Composite
	massDifference = 1
	@massDifference -= #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_MASS_MULTIPLIER$
	
	@tankMass *=  #$massDifference$
	!massDifference = DELETE
	costDifference = 1
	@costDifference += #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_COST_MULTIPLIER$
	@costDifference -= 0.1
	@tankCost *= #$costDifference$
	!costDifference = DELETE
}

+B9_TANK_TYPE[OX]:NEEDS[CryoTanks]
{
	@name = #$name$_Composite
	massDifference = 1
	@massDifference -= #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_MASS_MULTIPLIER$
	
	@tankMass *=  #$massDifference$
	!massDifference = DELETE
	costDifference = 1
	@costDifference += #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_COST_MULTIPLIER$
	@costDifference -= 0.1
	@tankCost *= #$costDifference$
	!costDifference = DELETE
}

+B9_TANK_TYPE[OX]:NEEDS[CryoTanks]
{
	@name = #$name$_NoMassNoCost
	@tankMass = 0
	@tankCost = 0
}

+B9_TANK_TYPE[LF]:NEEDS[CryoTanks]
{
	@name = #$name$_Composite
	massDifference = 1
	@massDifference -= #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_MASS_MULTIPLIER$
	
	@tankMass *=  #$massDifference$
	!massDifference = DELETE
	costDifference = 1
	@costDifference += #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_COST_MULTIPLIER$
	@costDifference -= 0.1
	@tankCost *= #$costDifference$
	!costDifference = DELETE
}

+B9_TANK_TYPE[LF]:NEEDS[CryoTanks]
{
	@name = #$name$_NoMassNoCost
	@tankMass = 0
	@tankCost = 0
}

+B9_TANK_TYPE[LFOX]:NEEDS[CryoTanks]
{
	@name = #$name$_Composite
	massDifference = 1
	@massDifference -= #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_MASS_MULTIPLIER$
	
	@tankMass *=  #$massDifference$
	!massDifference = DELETE
	costDifference = 1
	@costDifference += #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_COST_MULTIPLIER$
	@costDifference -= 0.1
	@tankCost *= #$costDifference$
	!costDifference = DELETE
}

+B9_TANK_TYPE[LFOX]:NEEDS[CryoTanks]
{
	@name = #$name$_NoMassNoCost
	@tankMass = 0
	@tankCost = 0
}

+B9_TANK_TYPE[LM]:NEEDS[CryoTanks]
{
	@name = #$name$_Composite
	massDifference = 1
	@massDifference -= #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_MASS_MULTIPLIER$
	
	@tankMass *=  #$massDifference$
	!massDifference = DELETE
	costDifference = 1
	@costDifference += #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_COST_MULTIPLIER$
	@costDifference -= 0.1
	@tankCost *= #$costDifference$
	!costDifference = DELETE
}

+B9_TANK_TYPE[LM]:NEEDS[CryoTanks]
{
	@name = #$name$_NoMassNoCost
	@tankMass = 0
	@tankCost = 0
}

+B9_TANK_TYPE[LMOx]:NEEDS[CryoTanks]
{
	@name = #$name$_Composite
	massDifference = 1
	@massDifference -= #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_MASS_MULTIPLIER$
	
	@tankMass *=  #$massDifference$
	!massDifference = DELETE
	costDifference = 1
	@costDifference += #$@KIWI_FUELTANK_MULTIPLIERS/LIQUIDFUEL/UPGRADE_COST_MULTIPLIER$
	@costDifference -= 0.1
	@tankCost *= #$costDifference$
	!costDifference = DELETE
}

+B9_TANK_TYPE[LMOx]:NEEDS[CryoTanks]
{
	@name = #$name$_NoMassNoCost
	@tankMass = 0
	@tankCost = 0
}
