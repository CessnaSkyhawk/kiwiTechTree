// Kiwi's Tech Tree Overhaul (Coatl Aerospace by Akron Kerbalism Experiments Patch)
// Version 1.2
// Created: 23 October 2020 for KSP 1.9.1 to 1.10.1
// Last Updated: 23 November 2020
// 19 November 2020: Fixed incorrect FOR KerbalismDefault pass
// 23 November 2020: Added correct NEEDS to kdex science experiment

// Define some custom experiments
//KDEX Experiment and definitions by mastertorch, spelling corrections and additional definitions by Akron
!EXPERIMENT_DEFINITION:HAS[#id[ca_kdex]]:NEEDS[CoatlAerospace,FeatureScience] {} // This will get deleted if KDEX mod is installed, so just making an alternate
EXPERIMENT_DEFINITION:NEEDS[FeatureScience,CoatlAerospace]
{
	id = kiwi_kdex // Ensure we don't lose this
	title = Dust Analysis
	baseValue = 10
	scienceCap = 10
	dataScale = 2

	requireAtmosphere = False
	situationMask = 63
	biomeMask = 21

	RESULTS
	{
		default = The collided grains seem to be rather small.
		InSpace= The dust forms to a pancake-shaped cloud. This could cause a counterglow.

		KerbinSrfLandedLaunchpad = The entering grains consists of burnt rocket fuel particles.
		KerbinSrfLandedRunway = The dust seems consists of pollution particles.
		KerbinSrfLandedKSC = There is evidence that the dust consists of pollen, Kerbal hairs and spacesuit fibers.
		KerbinFlyingLowGrasslands = The density of the grains seems to be the same of pollen. Achoo..
		KerbinFlyingLowDeserts = Lots of collisions, quite a dusty place.
		KerbinFlyingLowBadlands = The same dust you can find on our bookshelves.
		KerbinFlyingLowShores = A loose granular material. Probably the same you can find blanketing the beaches, riverbeds and deserts of Kerbin.
		KerbinFlyingLowIceCaps = Dust with a complex spectral signature incoming.
		KerbinInSpaceLow = We found evidence of extremely fine particles of mineral dust.
		KerbinInSpaceLow = A different dust up here. It seems to form a shape.
		//KerbinFlyingLowWater =
		//KerbinFlyingLowTundra =

		MunInSpaceHigh = This dust is not like talcum powder. It is kind of evil. It follows electric field lines, it works its way in equipment.
		MunInSpaceLow = High Densities! Good impact rate. Dust on low altitude should be able to cast a glow on sunset.
		MunInSpaceLowTwinCraters = After every grain collision follows a collision with the same charge.
		MunInSpaceLowEastFarsideCrater = Lower collision rate, but heavy impacts.
		MunInSpaceLowMidlandCraters = Lower collision rate and weak impacts.
		MunInSpaceLowMidlands = Collision rate and impacts on an mean level.
		MunInSpaceLowHighlands = The grains have a high charge.
		MunInSpaceLowPolarLowlands = No grains are entering the sensor. Perhaps it is too cold.
		MunInSpaceLowFarsideCrater = Almost no collision, weak impacts.
		MunSrfLanded = Truth! The munar exosphere contains dust due to electrostatic levitation.

		MinmusInSpaceHigh = Almost no impacts. Density is lower than the density of water. But higher than the density of our cafeteria mint ice.
		MinmusInSpaceLowHighlands = We did find sulfate coatings on the ionized dust particles.
		MinmusInSpaceLowMidlands = The can of our instrument looks like a mint sundae.
		MinmusInSpaceLowLowlands = These results suggest that the particles being deposited have different composition to those still at higher altitudes.
		MinmusInSpaceLowSlopes = Low level dust.
		MinmusInSpaceLowGreatFlats = Notably no sulphate particles are present in the dust sampled. Indicating a lack of anthropogenic pollution.
		MinmusInSpaceLowGreaterFlats = Traces of dust from gypsum, quartz, NaCl (which may be sea salt or mineral halite), calcium rich particles, and calcium carbonates.
		MinmusInSpaceLowLesserFlats = Moderate dust storm.
		MinmusInSpaceLowFlats = Composition of particles with diameter greater than 1my.
		MinmusInSpaceLowPoles = Finding a lack of coatings on the ionized dust particles.

		GillyInSpaceLow = Dust with silicate cores colliding in the back of the instrument.
		GillySrfLanded = These grains have a sooty mantle consisting of amorphous carbon.

		MohoInSpaceLow = Density is almost as high as the density of flying ash.
		MohoSrfLanded = Fine powder made up of glassy spheres from sub-micron to more than 100 microns in size. Specific gravity 1.9 to 2.4 and a bulk density of 0.8-1 ton per cubic meter.

		EveInSpaceLow = The dust is glass like. Strong impacts incoming.
		EveFlying = The heavy impacts and the high collision rate are quite a stress test.

		DunaInSpaceLow = Incoming Grains vary in size between a few tenths of a nanometer to a few microns.
		DunaSrfLanded = The dust is quite grainy and shows sand like collisions.

		IkeInSpaceLow = Dust particles are few and far between.
		IkeSrfLanded = Only a few dust particles are entering the sensor. We should have brought a shovel.

		DresInSpaceLow = The dust seems to be composed of carbonaceous, silicate, and metallic grains.
		DresSrfLanded = The dust is so dense that it absorbs and scatters sun light.

		JoolInSpaceLow = No dust or the grains are too small to be recognized by the instrument.

		LaytheInSpaceLow = The dust tries to from a shape. We observed the same behavior near Kerbin.
		LaytheSrfLanded = A loose granular material. Probably it consists of calcium carbonate.
		LaytheSrfSplashed = No grains are entering the sensor.

		VallInSpaceLow = Dust tries to form a shape. Lower density than water.
		VallSrfLanded = The cold seems to trap the dust particles on the surface.

		TyloInSpaceLow = Avoid this one, it is just a lot of dust and drag and means nothing in the end.
		TyloSrfLanded = Due to the high gravity the dust clumps together to spheres.

		BopInSpaceLow = The dust is clustering to dense cores.
		BopSrfLanded = Too much dust in the sensor.

		PolInSpaceLow = Dusting this one would be a good start.
		PolSrfLanded = Weak impacts. Probably phosphoric or sulfuric origin.

		EelooInSpaceLow = Dust particles are few and far between.
		EelooSrfLanded = The Dust consists of CO, silicon carbide, amorphous silicate and lots of ice.

		//Outer Planets Mod

		SarnusInSpaceLow = Very small particles detected and seem to have been deflected from the ring plane
		SarnusInSpaceHigh = There appears to be a ring of dust particles around Sarnus
		
			TektoInSpace = There is only a small amount of particles detected
			TektoInSpace = Tekto's inclination does not appear to allow it to capture many ring particles
			
			SlateInSpace = Incoming Grains vary in size between a few tenths of a nanometer to a few microns
			SlateLanded = The cold seems to trap the dust particles on the surface
			SlateLanded = Density is almost as high as the density of flying ash
			
			HaleInSpace = Incoming Grains vary in size between a few tenths of a nanometer to a few microns
			HaleInSpacelow = Detected particles are rapidly increasing in frequency the closer we are to the planet's ring plane
			HaleLanded = The detected grains are certainly material from the rings given their proximity
			
			OvokInSpace = Dust tries to form a shape. Lower density than water
			OvokLanded = Dust appears to be a very fine and fluffy material. It could just be snow...
			
		UrlumInSpace =  No dust or the grains are too small to be recognized by the instrument
		UrlumInSpaceHigh = Some particles are detected and could be part of a faint ring around the planet
		
			WalInSpace = The dust tries to from a shape. We observed the same behavior near Kerbin
			WalInSpace = Weak impacts. Probably phosphoric or sulfuric origin
			
				TalInSpace = Very fine impacts, could be snowflakes
				TalInSpace = Fine, powdery impacts detected at the highest sensitivity
				
			PriaxInSpace = Some dust particles detected, likely deflected by the Priax-Polta resonance
			PriaxInSpaceLow = Dust measurements are similar to what we expect around rocky asteroids
			
			PoltaInSpace = Some dust particles detected, likely deflected by the Priax-Polta resonance
			PoltaInSpaceLow = Very fine impacts, could be snowflakes
			
		NeidonInSpace = No dust or the grains are too small to be recognized by the instrument.
		NeidonInSpace = Dust particles are few and far between
		
			ThatmoInSpaceHigh = Faint snowy particles detected, which could be Thatmo's atmosphere being blown away
			ThatmoInSpaceLow = Ice, ice, baby! But likely not vanilla. We're thinking Nitrogen
	}
}

!EXPERIMENT_DEFINITION:HAS[#id[ca_orbitalScope]]:NEEDS[CoatlAerospace,FeatureScience] {} // This will get deleted  if Orbital Science is installed, so just making an alternate
EXPERIMENT_DEFINITION:NEEDS[FeatureScience,CoatlAerospace]
{
	id = ca_orbitalScope2
	title = Imaging Science System
	baseValue = 1
	scienceCap = 1
	dataScale = 1
	
	requireAtmosphere = False
	situationMask = 48
	biomeMask = 16
	RESULTS
	{
	default = Surface images are taken in a mosaic for digital stitching
	default = A sequence of surface images are takes as the craft flies overhead
	default = KSC Scientists eagerly start reviewing all the surface features on the pictures

	SunInSpace = The image is completely washed out in white
	SunInSpace = Images are archived after an intern reviewed them and screamed "My eyes!"


	MohoInSpace = Varying colors pictured suggest Moho might have once been volcanically active
	MohoInSpaceLow = Surface features hint at an interesting past but now only a weathered wasteland is left, heavily battered by solar particles
	MohoInSpaceHigh = Telescope images start coming in from Moho
	MohoInSpaceLowNorthernSinkhole = A lot of surface erosion is visible in this huge topographic depression
	MohoInSpaceLowNorthPole = A very sharp and dangerously deep depression is detected. Scientists discuss a future mission there

	EveInSpace = There are many intriguing purple features on the surface and atmosphere
	EveInSpaceLowPoles = Crystallized material covers the surface forming interesting patterns as it is buffeted by surface winds
	EveInSpaceLowHighlands = Tall dunes of purple sand gentle break up large areas or mostly flat terrain
	EveInSpaceLowPeaks = The mountain ranges challenge the heavy gravity to rise up high above sea level
	EveInSpaceLowExplodiumSea = The albedo of this intriguing liquid body gives rise to discussion as to its chemical composition
	EveInSpaceLow = Varied topology is visible, from mountain ranges to large purple lakes
	EveInSpaceHigh = Eve's thick purple atmosphere allows little surface features to be seen at this distance

		GillyInSpace = The telescope is slowly slewed into position to avoid scaring the tiny moon
		GillyInSpaceLow = Very small rocks are visible on the surface. Barely kept there by the weak gravity
		GillyInSpaceHigh = No mayor craters are visible on Gilly's surface. The moon must be incapable of pulling anything down towards it
		GillyInSpaceLowHighlands = Gilly's taller areas form a very uneven terrain

	KerbinInSpace = Kerbin! Our home!
	KerbinInSpaceLowWater = Kerbin's large oceans look very wet from orbit
	KerbinInSpaceLowDeserts = The sand is found to have very interesting designs painted by the wind, depositing beds of it on lower altitude areas
	KerbinInSpaceLowMountains = Kerbin's mountain ridges are very tall. Clearly visible from space.
	KerbinInSpaceLowShores = The Kerbin coast is washed by the oceans and broken up by erosion and the occasional tourist
	KerbinInSpaceLowGrasslands = Many trees and plant life are found covering the lush grasslands
	KerbinInSpaceLow = KSC gathers images to forecast weather for the nest launch
	KerbinInSpaceLow = Cloud pattern are photographed and sent to the weather office
	KerbinInSpaceHigh = Blue sunlight scattering gives the atmosphere a blue-ish hue

		MunInSpace = The Mun is peppered with craters all over its surface
		MunInSpace = The Mun has very cratered and interesting topography
		MunInSpaceLowTwinCraters = Did these two impact together?
		MunInSpaceLowFarsideCrater = The dark side of the Mun also has large crater impacts!
		MunInSpaceLowMidlands = Very uneven terrain is visible, sometimes eroded to a smooth dune
		MunInSpaceLowHighlands = The Mun's highlands are fairly high above the lowlands. Climbing looks really difficult!
		MunInSpaceLowCanyons = Crater impacts and surface erosion looks to have created some interesting canyons on the surface
		MunInSpaceLow = Up close, more crater features are visible. Some have very high walls, suggesting a very powerful impact
		MunInSpaceLow = There is a lot of interesting rocks and dust visible on the surface

		MinmusInSpace = The surface is very green, giving rise to speculation about it's correlation with Kerbal DNA
		MinmusInSpaceLow = Most of the surface is fairly flat which is easy for landings
		MinmusInSpaceLow = The surface appears to be covered in a crystal-like, tasty material
		MinmusInSpaceLowPoles = The poles have very tall, flat mesa-like structures
		MinmusInSpaceLowLesserFlats = The topography here is far less exciting than on the midlands
		MinmusInSpaceLowGreatFlats = Big areas or incredibly boring topography!
		MinmusInSpaceLowGreaterFlats = Massive areas or incredibly boring topography!

	DunaInSpace = Duna's surface is visible with a very reddish-orange, rusty hue
	DunaInSpace = The bright white icecaps give a very stark contrast to the strong color of the surface soil
	DunaInSpaceLow = Very dusty sand is visible on the surface, forming some fairly tall dunes at times
	DunaInSpaceLowPolarHighlands = Very tall ice shelf rise above the ice caps
	DunaInSpaceLowPoles = Very cold and slippery ice is found below
	DunaInSpaceLowPoles = Massive amounts of water and carbon dioxide appear to be frozen on the Dunan poles
	DunaInSpaceLowCraters = many craters on the surface have at least been partially filled with sand by wind and erosion
	DunaInSpaceLowMidlandSea = This very large depression looks to cover half the planet and appears to an ancient lake bed
	DunaInSpaceLowMidlandCanyon = Photograph analysis suggests that the canyon may have been at least partially carved by flowing water long ago
	DunaInSpaceLowEasternCanyon = Photograph analysis suggests that the canyon may have been at least partially carved by flowing water long ago
	DunaInSpaceLowWesternCanyon = Photograph analysis suggests that the canyon may have been at least partially carved by flowing water long ago

		IkeInSpace = Surface picture mosaics taken for analysis
		IkeInSpaceLow = Closer analysis of the surface shows a mysterious lack of surface craters
		IkeInSpaceLow = Unlike the Mun, Ike appears to have very few impact craters
		IkeInSpaceHigh = Ike has a very gray and rocky surface
		IkeInSpaceLowLowlands = The lowlands are surrounded by some often steep inclines. Large boulders look to have rolled downhill and settled here

	DresInSpace = The gray and uneven surface is imaged by the telescope
	DresInSpace = Patches of ice break up the otherwise Mun-like surface
	DresInSpaceLow = Dres' surface is very similar to that of the Mun
	DresInSpaceLowCanyons = The deep canyons have highly irregular edges and look difficult to navigate

	JoolInSpaceLow = Close up of the top cloud layers reveal very interesting composition separated into belts
	JoolInSpaceLow = Artifacts and interference is found on some of the photos. Looks like radiation is affecting the intruments
	JoolInSpaceHigh = Jool looks majestic from orbit

		LaytheInSpace = Just like Kerbin, Laythe has blue hue to its atmosphere
		LaytheInSpace = Laythe looks like a beautiful, extremely salty, freezing vacation spot. Right next door to a radiation-trapping gas giant
		LaytheInSpaceHigh = Laythe looks to be entirely covered by an ocean. No, wait, Land!
		LaytheInSpaceLow = Many islands are found below forming archipelagos
		LaytheInSpaceLowTheSagenSea = Most of Laythe is covered by this massive salty sea
		LaytheInSpaceLowDeGrasseSea = Woah, we got a bad-ass sea over here!

		VallInSpace = Vall's surface is highly uneven with many frequent elevation changes
		VallInSpace = Impact craters are heavily eroded and could hint at some sort of geological activity
		VallInSpaceLow = Vall's icy surface has few rocks and other features
		VallInSpaceLow = Photograph analysis has revealed that the icy terrain was recently resurfaced suggesting the presence of cryo-volcanoes

		TyloInSpace = The surface is rather bare of craters. Only a few large craters are found
		TyloInSpace = Tylo looks like a rockier Mun with much less craters
		TyloInSpaceLow = Close inspection of images reveal some ice particles scattered throughout the surface regolith
		TyloInSpaceLow = The moon's higher albedo is thought to be due to ice particles found on the surface
		TyloInSpaceLowMara = Dark basaltic material covers these areas hinting that Tylo might have once been volcanically active

		PolInSpaceLow = The surface has some highly irregular terrain
		PolInSpaceLow = Surface detail imaging show spikes scattered on the surface, puzzling geologists who demand a sample
		PolInSpace = Images show a very bright and varied surface coloration which could be sulfates or minerals exposed by impacts or volcanoes

		BopInSpace = Images of Bop show a very irregular and rocky body, likely a captured asteroid
		BopInSpaceLow = The brown surface is very rocky, with little material scattered about
		BopInSpaceLowPeaks = Bop's peak tower massively above sea level

	EelooInSpace = Pictures show a surface covered in ice with some cracks and craters showing brown rock below
	EelooInSpaceLow = The icy top-most layer looks very smooth and slippery
	EelooInSpaceLowFragipan = Images show some cracks in the ice where the rocky surface below is exposed
	EelooInSpaceLowIceCanyons = These ice-covered canyons looks to be very deep at times. A few patches of the rocky surface are visible
	EelooInSpaceLowMidlands = Some areas of the surface have shaped into icy dunes and suggest some form of erosion

	//Outer Planets Mod

	SarnusInSpace = The telescope captures some breathtaking images of Sarnus
	SarnusInSpace = The majestic ring system is imaged, reveling incredible detail not visible by ground-based telescopes
	SarnusInSpaceLow = More detail of the bands and disturbances in the atmosphere is captured by the instrument
	SarnusInSpaceLow = Close-up images of the rings show waves of icy material in the gaps in front and behind the shepherd moons
	SarnusInSpaceHigh = The different rings are very clearly discernible from these images
	
		TektoInSpaceHigh = The moon is mostly obscured by a soft green haze that hides its surface features
		TektoInSpaceHigh = The soft glow of the atmosphere is occasionally interrupted by what appears to be colorful aurora lights
		TektoInSpaceLow = Images show clouds moving at different speeds and altitudes
		TektoInSpaceLow = Some surface features are visible in images. A science team member writes "sogal" over a picture of one of the darker ones
		TektoInSpaceLow = The surface is broken up by darker patches which are sure to spark a lot of debate and speculation about their composition
		TektoInSpaceLowMedikohlLake = A reflective surface is visible below, hinting at the presence of a large liquid body
		TektoInSpaceLowAntenorLake = A reflective surface is visible below, it appears that the lake is actually filled with some form of liquid
		TektoInSpaceLowVexxusLake = A reflective surface is visible below, hinting at the presence of a large liquid body
		TektoInSpaceLowSiliskoSea = A reflective surface is visible below, confirming the presence of some form of liquid
		TektoInSpaceLowTwinLakes = A reflective surface is visible below, it appears that the lakes are actually filled with some form of liquid
		
		SlateInSpace = The telescope transmits a mosaic of images from Slate's yelloish-brown surface
		SlateInSpaceHigh = There are large depressions which do not appear caused by impact craters and could hint at ancient lake beds
		SlateInSpaceHigh = Images show a very dry and rocky moon
		SlateInSpaceLow = The amount and age of impact craters suggest that the moon only recently lost its atmosphere
		SlateInSpaceLow = Surface material looks to have bee deposited recently either by some volcanic activity, or impact ejecta 
		SlateInSpaceLowMountNehelennia = Given the topography, and the material on the surface, this is very likely an active volcanoes
		SlateInSpaceLowYahelMountains = Slate is found to have interesting mountain ranges; further evidence of very active past geology
		SlateInSpaceLowSomborMountains = Slate is found to have interesting mountain ranges; further evidence of very active past geology
		SlateInSpaceLowNorthernSea = Images show a depression that could have once held a hydrocarbon sea 
		SlateInSpaceLowSouthernSea = Images show a depression that could have once held a hydrocarbon sea
		SlateInSpaceLowEudaeBay = Images show a depression that could have once held a hydrocarbon sea
		SlateInSpaceLowRobauBay = Images show a depression that could have once held a hydrocarbon sea
		
		HaleInSpaceHigh = Images show the moon both absorbing and clearing material in its path as it orbits through the ring, generating a gap in the ring's particles
		HaleInSpaceHigh = Shadows on the rings reveal that the moon creates small waves of material as it passes; pushing and pulling ring materials above and below the ring's plane
		HaleInSpaceLow = Images show a highly irregular surface and should generate a very interesting topographic map
		HaleInSpaceLow = The moon appears to be mostly very bright. A few dark patches could indicate areas of carbonaceous rock in between the ice
		HaleInSpaceLowMacula = The telescope images very dark rocky regions demanding further inspection
		HaleInSpaceLowAmariusRegion = The pictures show a bright icy region below, with craters are covered with a snowy material
		
		OvokInSpaceHigh = The science team originally suspects they are being pranked, but it turns out Ovok really is that smooth
		OvokInSpaceHigh = Ovok images reveal the moon to be surprisingly smooth and deliciously egg shaped
		OvokInSpaceLow = Images of the surface show a rather unexpected lack of craters
		OvokInSpaceLowMaculaOblongata = This is certainly the  most interesting topography on the moon's otherwise smooth surface
		OvokInSpaceLowTasiRegion = This is undoubtedly the solar system's largest ice rink
		
	UrlumInSpace = The telescope sends back beautiful images of Urlum's soft blue atmosphere
	UrlumInSpaceLow = Bands of lighter material are barely visible in Urlum's atmosphere
	UrlumInSpaceHigh = A very faint ring system is visible around the gas giant
	UrlumInSpaceHigh = As the craft approaches Urlum, faint bands in its atmosphere begin to be visible 

		WalInSpace = Images of Wal show a rich and varied surface
		WalInSpace = The telescope sends back picture of this delicious moon. The adorable Tal is also spotted transitioning across Wal
		WalInSpaceHigh = Images show Tal and Wal's interesting dance as they orbit around Urlum
		WalInSpaceLow = The varied and colorful terrain appears to be multiple layers of its crust exposed by powerful impacts and tidal forces
		WalInSpaceLow = The moon's equatorial bulge definitely seems to be correlated to tidal pull by it's subsatellite, Tall
		WalInSpaceLow = Wal's surface material looks to be a mix of rocky and metallic materials with some sulfuric deposits
		
			TalInSpace = Pictures received showing Tal's smooth surface
			TalInSpace = Comparison of Tal and Wal's surface does show striking similarity, further supporting the theory that Tal was produced by a powerful impact on Wal long ago
			TalInSpaceLow = Tal's surface is surprisingly smooth. Some process must be constantly resurfacing it
			
		PriaxInSpace = Priax really just looks like an asteroid
		PriaxInSpaceLow = Priax's surface shows signs of constant impacts and some of the craters look very old
		PriaxInSpaceLowLeadingCraters = This region appears to be more heavily impacted than others on Priax
		PriaxInSpaceLowTrailingCraters = Compared to its leading side, this area seems devoid of impact craters
		PriaxInSpaceLowBadieRegion = This area seems to be a target of micrometeorites deflected by Polta
		
		PoltaInSpace = Are we sure we're not looking at Minmus?
		PoltaInSpace = Polta looks just like Minmus. Mission Control quietly re-checks the tracking station's data
		PoltaInSpaceHigh = Polta shows its intricate grayish-green surface with swirls resembling desert dunes
		PoltaInSpaceLow = Images show a very intricate and unique topography likely formed by a combination of craters, tidal forces, and water vapor geyser
		
	NeidonInSpace = Neidon's fantastic images are sure to be a hit on social media
	NeidonInSpaceLow = Cloud and gas bands on Neidon are much more striking than the other gas giants
	NeidonInSpaceLow = Very careful analysis of an image sequence have allowed Neidon's clouds to be measured moving at up to 500 m/s!!!
	NeidonInSpaceHigh = Neidon's purple color could hint at some chemical similarity with Eve
	NeidonInSpaceHigh = Some violent storms are visible near the poles. It is uncertain what could cause them but reveal a rich weather system
	
		ThatmoInSpaceHigh = The telescope exposure has to be drastically lowered to prevent washed out images of the surface
		ThatmoInSpaceHigh = A very bright snowball looking world is coming into view, a faint haze over the horizon offers clear evidence of the moon's atmosphere
		ThatmoInSpaceLow = Large, bright frozen wastes expand the length of Neidon's largest moon
		ThatmoInSpaceLow = With some clever tweaks, the telescope manages to capture some geysers spewing material into Thatmo's atmosphere
		ThatmoInSpace = Woah! Thatmo is really bright!
	}
}

EXPERIMENT_DEFINITION:NEEDS[FeatureScience,CoatlAerospace]
{
	id = ca_kerbalism_interstellar
	title = Interstellar Solar Wind Experiment
	baseValue = 1
	scienceCap = 1
	dataScale = 1
	RESULTS
	{
		default = We can really feel the interstellar wind on our shiny metal cheeks!
	}
}

EXPERIMENT_DEFINITION:NEEDS[FeatureScience,CoatlAerospace]
{
	id = ca_UVtelescope
	title = Long-Term Ultraviolet Spectrum Exploration
	baseValue = 1
	scienceCap = 1
	dataScale = 1
	RESULTS
	{
		default = These results will allow us to learn about star formations in distant galaxies which coincidentally also has valuable applications for building better hydrolox engines.
	}
}

EXPERIMENT_DEFINITION:NEEDS[CoatlAerospace,FeatureScience]
{
	id = digitalVideoLow
	title = Vidicon Sensor Video
	baseValue = 9
	scienceCap = 9
	dataScale = 1
	
	requireAtmosphere = False
	situationMask = 61
	biomeMask = 61
	
	RESULTS
	{
		default = You take a video of the surroundings.
	}
}

EXPERIMENT_DEFINITION:NEEDS[CoatlAerospace,FeatureScience]
{
	id = digitalFilm
	title = Vidicon Sensor Images
	baseValue = 6
	scienceCap = 6
	dataScale = 1
	
	requireAtmosphere = False
	situationMask = 61
	biomeMask = 61
	
	RESULTS
	{
		default = You take a photo.
	}
}



@KERBALISM_EXPERIMENT_VALUES:NEEDS[FeatureScience,CoatlAerospace]
{
	CoatlAerospace
	{
		ca_orbitalScope2
		{
			ECCost = 0.1
			size = 400
			value = 4
			duration = 3600 // Hour per biome
			requirements = Sunlight
			ResourceRates =
		}
		ca_SiteSurvey
		{
			ECCost = 1.0
			size = 100								
			value = 2
			duration = 5
			requirements = Sunlight,AltitudeMax:10000
			ResourceRates =
			samples = 3
		}
		ca_gammaRay
		{
			ECCost = 2.5
			size = 500
			value = 5 // Pretty valuable experiment, just will take a long time
			duration = 3295
			requirements = 
			ResourceRates =
		}
		ca_UVtelescope
		{
			ECCost = 2.0
			size = 750000
			value = 600 // Pretty valuable experiment, just will take a long time
			duration = 47520000
			requirements = 
			ResourceRates =
		}
		ca_IRspec
		{
			ECCost = 0.15
			size = 650
			value = 6
			duration = 3900
			requirements =
			ResourceRates =
		}
		
		ca_UVspec
		{
			ECCost = 0.15
			size = 700
			value = 6
			duration = 3800
			requirements =
			ResourceRates =
		}
		
		ca_solarWind
		{
			ECCost = 0.08
			size = 50
			value = 4
			duration = 7200
			requirements =
			ResourceRates =
		}
		
		ca_kerbalism_interstellar
		{
			ECCost = 0.08
			size = 50000
			value = 500 // If the player gets a satelite to interstellar space, they should be rewarded for the effort
			duration = 8640000 // But will force the science to trickle in over a year
			requirements =
			ResourceRates =
		}
		
		kiwi_kdex
		{
			ECCost = 0.35
			size = 50
			value = 3
			duration = 7200
			requirements =
			ResourceRates =
			samples = 1
		}
		
		ca_ionElec
		{
			ECCost = 0.15
			size = 100
			value = 3
			duration = 240
			requirements =
			ResourceRates =
		}
		
		ca_soilScoop
		{
			ECCost = 0.08
			size = 1000
			value = 3
			duration = 17
			requirements =
			ResourceRates =
			samples = 5 // Can do it five times before it "breaks"...
		}
		ca_filmCamera
		{
			ECCost = 9
			size = 10								//same as above, massive data scale for lab processing.
			value = 3								// nerfed (13->6), also nuked biome mask (makes no sense that the samples would be different)
			duration = 4
			requirements = Sunlight
			ResourceRates =
			samples = 5
		}
		digitalFilm // Low quality electronically converted film
		{
			ECCost = 9
			size = 10
			value = 1
			duration = 4
			requirements = Sunlight
			ResourceRates =
		}
		digitalVideoLow // Early era quality video
		{
			ECCost = 9.0
			size = 300
			value = 3
			duration = 120
			requirements = Sunlight
			ResourceRates =
		}
	}
}


@KERBALISM_GROUP_SETTINGS:NEEDS[FeatureScience,CoatlAerospace]
{
	CAMERA_EXPERIMENTS
	{
		BaseSlots = 3
		
		ca_orbitalScope2
		{
			ECCost = 0.1
			size = 450
			value = 4
			duration = 3600 // Hour per biome
			requirements = Sunlight
			ResourceRates =
			UnlockTech = scienceTech
			SetupMass = 0.02
			SetupCost = 1000
		}
		
		ca_IRspec
		{
			ECCost = 0.15
			size = 450
			value = 6
			duration = 3600
			requirements =
			ResourceRates =
			UnlockTech = scienceTech
			SetupMass = 0.02
			SetupCost = 1000
		}
		
		ca_UVspec
		{
			ECCost = 0.15
			size = 450
			value = 6
			duration = 3600
			requirements =
			ResourceRates =
			UnlockTech = scienceTech
			SetupMass = 0.02
			SetupCost = 1000
		}
	}
}

@KERBALISM_GROUP_SETTINGS:NEEDS[FeatureScience,CoatlAerospace]
{
	SOLARWIND_EXPERIMENTS
	{
		BaseSlots = 2
		
		ca_solarWind
		{
			ECCost = 0.08
			size = 50
			value = 4
			duration = 7200
			requirements =
			ResourceRates =
			UnlockTech = exactScience
			SetupMass = 0.02
			SetupCost = 1000
		}
		
		ca_kerbalism_interstellar
		{
			ECCost = 0.08
			size = 50000
			value = 500 // If the player gets a satelite to interstellar space, they should be rewarded for the effort
			duration = 8640000 // But will force the science to trickle in over a year
			requirements =
			ResourceRates =
			UnlockTech = advScienceTech
			SetupMass = 0.02
			SetupCost = 2000
		}
	}
}

@KERBALISM_GROUP_SETTINGS:NEEDS[FeatureScience,CoatlAerospace]
{
	ARGOMAST_EXPERIMENTS
	{
		BaseSlots = 2
				
		magnetometer
		{
			ECCost = 0.2							
			size = 550
			value = 5								
			duration = 151200
			SetupMass = 0.01
			SetupCost = 1000
			UnlockTech = basicScience
			requirements = 
			CrewRequirement = 
			ResourceRates = 			
		}
		geigerCounter
		{
			ECCost = 0.005						
			size = 0.5
			value = 4							
			duration = 497
			SetupMass = 0.005
			SetupCost = 400
			UnlockTech = engineering101
			requirements = 
			CrewRequirement = 
			ResourceRates = 			
		}
	}
}

@KERBALISM_GROUP_SETTINGS:NEEDS[FeatureScience,CoatlAerospace]
{
	MK2CAM_EXPERIMENTS
	{
		BaseSlots = 1
		UpgradeTech = exactScience
		UpgradedSlots = 2
		UpgradeEntryCost = 30000

		ca_filmCamera								
		{
			ECCost = 9.0
			size = 60
			value = 5
			duration = 120
			requirements = Sunlight
			ResourceRates =
			samples = 5
			SetupMass = 0.01
			SetupCost = 500
			UnlockTech = basicScience
			CrewRequirement =
		}
		digitalFilm // Low quality electronically converted film
		{
			ECCost = 9
			size = 10
			value = 1
			duration = 4
			requirements = Sunlight
			ResourceRates =
			SetupMass = 0.01
			SetupCost = 1000
			UnlockTech = exactScience
			CrewRequirement =
		}
		digitalVideoLow // Early era quality video
		{
			ECCost = 9.0
			size = 300
			value = 3
			duration = 120
			requirements = Sunlight
			ResourceRates =
			SetupMass = 0.02
			SetupCost = 2000
			UnlockTech = scienceTech
			CrewRequirement =
		}
	}
}



// Make sure the experiments are set correctly for Kerbalism Feature Science
@EXPERIMENT_DEFINITION:HAS[#id[ca_UVtelescope]]:NEEDS[FeatureScience,CoatlAerospace]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_UVtelescope/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_UVtelescope/size$
	@dataScale /= #$baseValue$
	
	KERBALISM_EXPERIMENT
	{
    Situation = InSpaceHigh
	BodyAllowed = HomeBody // Will only have this done once, but will increase the science value due to that.
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[digitalFilm]]:NEEDS[FeatureScience,CoatlAerospace]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/digitalFilm/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/digitalFilm/size$
	@dataScale /= #$baseValue$
	
	KERBALISM_EXPERIMENT
	{
		Situation = SrfLanded@Biomes
		Situation = SrfSplashed
		Situation = FlyingLow@Biomes
		Situation = FlyingHigh
		Situation = InSpaceLow@Biomes
		Situation = InSpaceHigh
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[digitalVideoLow]]:NEEDS[FeatureScience,CoatlAerospace]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/digitalVideoLow/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/digitalVideoLow/size$
	@dataScale /= #$baseValue$
	
	KERBALISM_EXPERIMENT
	{
		Situation = SrfLanded@Biomes
		Situation = SrfSplashed
		Situation = FlyingLow
		Situation = FlyingHigh
		Situation = InSpaceHigh
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[ca_kerbalism_interstellar]]:NEEDS[FeatureScience,CoatlAerospace]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_kerbalism_interstellar/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_kerbalism_interstellar/size$
	@dataScale /= #$baseValue$
	
	KERBALISM_EXPERIMENT
	{
		VirtualBiome = Interstellar
		Situation = InSpaceHigh
		BodyAllowed = Suns
	}
}


// Orbital Scope
@EXPERIMENT_DEFINITION:HAS[#id[ca_orbitalScope2]]:NEEDS[FeatureScience,CoatlAerospace]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_orbitalScope2/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_orbitalScope2/size$
	@dataScale /= #$baseValue$
	
  KERBALISM_EXPERIMENT
	{
    Situation = InSpaceHigh@Biomes
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[ca_filmCamera]]:NEEDS[FeatureScience,CoatlAerospace]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_filmCamera/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_filmCamera/size$
	@dataScale /= #$baseValue$
	
	KERBALISM_EXPERIMENT
	{
		SampleMass = 0.0003
		Situation = SrfLanded@Biomes
		Situation = SrfSplashed
		Situation = FlyingHigh@Biomes
		Situation = InSpaceLow@Biomes
		Situation = InSpaceHigh
		BodyAllowed = HomeBodyAndMoons
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[ca_SiteSurvey]]:NEEDS[FeatureScience,CoatlAerospace]
{
	@title = VIEU
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_SiteSurvey/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_SiteSurvey/size$
	@dataScale /= #$baseValue$

  KERBALISM_EXPERIMENT
	{
	SampleMass = 0.0003
    Situation = InSpaceLow@Biomes
	Situation = FlyingLow@Biomes
	BodyNotAllowed = HomeBody
	BodyNotAllowed = Suns // Not looking to land on the sun...
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[ca_soilScoop]]:NEEDS[FeatureScience,CoatlAerospace]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_soilScoop/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_soilScoop/size$
	@dataScale /= #$baseValue$

  KERBALISM_EXPERIMENT
	{
	SampleMass = 0.01
    Situation = Surface@Biomes
	BodyNotAllowed = HomeBody
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[ca_gammaRay]]:NEEDS[FeatureScience,CoatlAerospace]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_gammaRay/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_gammaRay/size$
	@dataScale /= #$baseValue$

  KERBALISM_EXPERIMENT
	{
    Situation = InSpaceHigh@Biomes
	}
}
@EXPERIMENT_DEFINITION:HAS[#id[ca_IRspec]]:NEEDS[FeatureScience,CoatlAerospace]
{

	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_IRspec/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_IRspec/size$
	@dataScale /= #$baseValue$
  KERBALISM_EXPERIMENT
	{
    Situation = InSpaceHigh@Biomes
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[ca_UVspec]]:NEEDS[FeatureScience,CoatlAerospace]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_UVspec/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_UVspec/size$
	@dataScale /= #$baseValue$

  KERBALISM_EXPERIMENT
	{
    Situation = InSpaceHigh@Biomes
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[ca_solarWind]]:NEEDS[FeatureScience,CoatlAerospace]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_solarWind/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_solarWind/size$
	@dataScale /= #$baseValue$

  KERBALISM_EXPERIMENT
	{
    Situation = InSpaceHigh
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[ca_ionElec]]:NEEDS[FeatureScience,CoatlAerospace]
{

	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_ionElec/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_ionElec/size$
	@dataScale /= #$baseValue$

  KERBALISM_EXPERIMENT
	{
    Situation = FlyingHigh
	Situation = InSpaceLow
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[kiwi_kdex]]:NEEDS[FeatureScience,CoatlAerospace]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/kiwi_kdex/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/kiwi_kdex/size$
	@dataScale /= #$baseValue$

  KERBALISM_EXPERIMENT
	{
	SampleMass = 0.005
    Situation = Surface@Biomes
	Situation = InSpaceLow@Biomes
	Situation = InSpaceHigh
	}
}

@PART[ca_DUSTC]:NEEDS[CoatlAerospace,FeatureScience] // Dust Experiment
{
	!MODULE[*ModuleScience*],* {}
	
	MODULE
	{
		name = Experiment
		experiment_id = kiwi_kdex
		anim_deploy = deploy
	}
}

@PART[ca_DUSTX]:NEEDS[CoatlAerospace,FeatureScience] // Dust Experiment
{
	!MODULE[*ModuleScience*],* {}
	
	MODULE
	{
		name = Experiment
		experiment_id = kiwi_kdex
	}
}

@PART[ca_DUSTX|ca_DUSTC]:HAS[@MODULE[Experiment]]:NEEDS[CoatlAerospace,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	MODULE
	{
		name = HardDrive
		experiment_id = kiwi_kdex
		dataCapacity = 0
		sampleCapacity = 1
	}
}

@PART[ca_ELIX]:NEEDS[CoatlAerospace,FeatureScience]
{
	!MODULE[*ModuleScience*],* {}
	MODULE
	{
		name = Experiment
		experiment_id = ca_ionElec
		anim_deploy = deploy
	}
}

@PART[ca_GRS]:NEEDS[CoatlAerospace,FeatureScience]
{
	!MODULE[*ModuleScience*],* {}
	MODULE
	{
		name = Experiment
		experiment_id = ca_gammaRay
		anim_deploy = deploy
	}
}

@PART[ca_LUV]:NEEDS[CoatlAerospace,FeatureScience]
{
	!MODULE[*ModuleScience*],* {}
	!MODULE[ModuleAnimateGeneric] {}
	MODULE
	{
		name = Experiment
		experiment_id = ca_UVspec
		anim_deploy = deploy
	}
}

@PART[ca_KLIR]:NEEDS[CoatlAerospace,FeatureScience]
{
	!MODULE[*ModuleScience*],* {}
	MODULE
	{
		name = Experiment
		experiment_id = ca_IRspec
	}	
}

@PART[ca_telescope_a]:NEEDS[CoatlAerospace,FeatureScience]
{
	!MODULE[*ModuleScience*],* {}
	MODULE
	{
		name = Experiment
		experiment_id = ca_orbitalScope2
	}
}


// Juno/Maven Solar Panel and Magnetometer
// Didn't seem to get picked up through the default patches
@PART[sp_juno_mag|sp_maven]:NEEDS[CoatlAerospace,FeatureScience]
{
	!MODULE[*ModuleScience*],* {}
	!MODULE[DMMagBoomModule],* {}
	
	MODULE
	{
		name = Experiment
		experiment_id = magnetometer
	}
}


@PART[ca_landv_cam_s1]:NEEDS[CoatlAerospace,FeatureScience] // Landing Site Cam
{
	!MODULE[DMModuleScienceAnimateGeneric]:HAS[#experimentID[ca_SiteSurvey]] {}
	
	MODULE
	{
		name = Experiment
		experiment_id = ca_SiteSurvey
		anim_deploy = deploy
	}
}

@PART[*]:HAS[@MODULE[Experiment]]:NEEDS[CoatlAerospace,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	@MODULE[Experiment]:HAS[#experiment_id[ca_SiteSurvey]]
	{
		UPGRADES
		{
			UPGRADE
			{
				name__ = ca_SiteSurveyUpgrade
				techRequired__ = scienceTech
				sample_amount = 5
			}
		}
	}
}

@PART[ca_landv_cam_s1]:HAS[@MODULE[Experiment]]:NEEDS[CoatlAerospace,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	MODULE
	{
		name = HardDrive
		experiment_id = ca_SiteSurvey
		dataCapacity = 0
		sampleCapacity = 1
	}
}

@PART[ca_draco]:HAS[@MODULE[Experiment]]:NEEDS[CoatlAerospace,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@sampleCapacity = 1
	}
}

PARTUPGRADE:NEEDS[FeatureScience,CoatlAerospace]
{
  name = ca_SiteSurveyUpgrade
  partIcon = ca_landv_soilScoop
  title =  Site Survey Capacity Upgrade
  manufacturer = Spacegate Technology
  description = Increase the film canister capacity for the Site Survey (VIEU) Experiment
  techRequired = scienceTech
  entryCost = 15000
}

@PART[ca_explorer]:NEEDS[CoatlAerospace,FeatureScience]
{
	!MODULE[ModuleScienceExperiment]:HAS[#experimentID[ca_UVspec]] {}
	
	MODULE
	{
		name = Experiment
		experiment_id = ca_UVtelescope
	}
}

@PART[ca_explorer]:NEEDS[CoatlAerospace,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = 128
	}
}



@PART[ca_landv_soilScoop]:NEEDS[CoatlAerospace,FeatureScience] // Soil Scoop
{
	!MODULE[DMModuleScienceAnimateGeneric]:HAS[#experimentID[ca_soilScoop]] {}
	
	MODULE
	{
		name = Experiment
		experiment_id = ca_soilScoop
		anim_deploy = deploy
	}
}

@PART[ca_landv_soilScoop]:HAS[@MODULE[Experiment]]:NEEDS[CoatlAerospace,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	MODULE
	{
		name = HardDrive
		experiment_id = ca_SiteSurvey
		dataCapacity = 0
		sampleCapacity = 1
	}
}




@PART[ca_SWIS|ca_stereoBoom]:NEEDS[FeatureScience,CoatlAerospace]:FIRST
{
	!MODULE[ModuleScienceExperiment],* {}// Get rid of the pre-configured experiments
	
	MODULE
	{
		name = Configure
		title = Solar Wind Experiments
	}
}

@PART[ca_SWIS|ca_stereoBoom]:HAS[@MODULE[Configure]:HAS[#title[Solar?Wind?Experiments]]]:NEEDS[FeatureScience,CoatlAerospace]
{
//adding the experiment modules. The other parameters get added/overwritten later, thus it's pointless to add them here.
	MODULE
	{
		name = Experiment
		experiment_id = ca_solarWind
	}		
	MODULE
	{
		name = Experiment
		experiment_id = ca_kerbalism_interstellar
	}
	@MODULE[Configure]:HAS[#title[Solar?Wind?Experiments]]
	{
		SETUP
		{
			name = None
			desc = Empty slot for mass and cost savings, should you not require any experiments installed.
		}
		SETUP
		{
			name = Solar Wind Experiment
			desc = Installs a solar wind science unit allowing you to analyze solar wind science!
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = ca_solarWind
			}
		}
		SETUP
		{
			name = Interstellar Wind Experiment
			desc = Installs further instruments to detect when the vessel is leaving the Sun's heliopause, for MOAR science!
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = ca_kerbalism_interstellar
			}
		}		
	}
}

// ============================================================================
// The experiments were just added above, but not configured. This section takes care of that
// Patching the SETUPs along the way.
// ============================================================================
@PART[ca_SWIS|ca_stereoBoom]:HAS[@MODULE[Configure]:HAS[#title[Solar?Wind?Experiments]]]:NEEDS[FeatureScience,CoatlAerospace]:AFTER[KerbalismDefault]
{
	@MODULE[Configure]:HAS[#title[Solar?Wind?Experiments]]
	{
		%slots = #$@KERBALISM_GROUP_SETTINGS/SOLARWIND_EXPERIMENTS/BaseSlots$
			
		@SETUP:HAS[#name[Solar?Wind?Experiment]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/SOLARWIND_EXPERIMENTS/ca_solarWind/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/SOLARWIND_EXPERIMENTS/ca_solarWind/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/SOLARWIND_EXPERIMENTS/ca_solarWind/SetupCost$
		}
		
		@SETUP:HAS[#name[Interstellar?Wind?Experiment]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/SOLARWIND_EXPERIMENTS/ca_kerbalism_interstellar/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/SOLARWIND_EXPERIMENTS/ca_kerbalism_interstellar/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/SOLARWIND_EXPERIMENTS/ca_kerbalism_interstellar/SetupCost$
		}
	}
}


@PART[ca_argo-mk2-mast]:NEEDS[FeatureScience,CoatlAerospace]:FIRST
{
	!MODULE[ModuleScienceExperiment],* {}// Get rid of the pre-configured experiments
	
	MODULE
	{
		name = Configure
		title = Argo Mast Experiments
	}
}

@PART[ca_argo-mk2-mast]:HAS[@MODULE[Configure]:HAS[#title[Argo?Mast?Experiments]]]:NEEDS[FeatureScience,CoatlAerospace]
{
//adding the experiment modules. The other parameters get added/overwritten later, thus it's pointless to add them here.
	MODULE
	{
		name = Experiment
		experiment_id = geigerCounter
	}		
	MODULE
	{
		name = Experiment
		experiment_id = magnetometer
	}
	@MODULE[Configure]:HAS[#title[Argo?Mast?Experiments]]
	{
		SETUP
		{
			name = None
			desc = Empty slot for mass and cost savings, should you not require any experiments installed.
		}
		SETUP
		{
			name = Geiger Counter
			desc = Installs a Geiger Counter on the Mast, allowing you to perform radiation scans.
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = geigerCounter
			}
		}
		SETUP
		{
			name = Magnetometer
			desc = Installs a Magnetometer on the mast, allowing you to explore magnetic fields.
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = magnetometer
			}
		}		
	}
}

// ============================================================================
// The experiments were just added above, but not configured. This section takes care of that
// Patching the SETUPs along the way.
// ============================================================================
@PART[ca_argo-mk2-mast]:HAS[@MODULE[Configure]:HAS[#title[Argo?Mast?Experiments]]]:NEEDS[FeatureScience,CoatlAerospace]:AFTER[KerbalismDefault]
{
	@MODULE[Configure]:HAS[#title[Argo?Mast?Experiments]]
	{
		%slots = #$@KERBALISM_GROUP_SETTINGS/ARGOMAST_EXPERIMENTS/BaseSlots$
			
		@SETUP:HAS[#name[Geiger?Counter]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/ARGOMAST_EXPERIMENTS/geigerCounter/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/ARGOMAST_EXPERIMENTS/geigerCounter/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/ARGOMAST_EXPERIMENTS/geigerCounter/SetupCost$
		}
		
		@SETUP:HAS[#name[Magnetometer]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/ARGOMAST_EXPERIMENTS/magnetometer/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/ARGOMAST_EXPERIMENTS/magnetometer/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/ARGOMAST_EXPERIMENTS/magnetometer/SetupCost$
		}
	}
}






@PART[ca_argo-mk4-cam|mer_rsp|ca_vor_camera|ca_sciBoom]:NEEDS[FeatureScience,CoatlAerospace]:FIRST
{

	!MODULE[ModuleScienceExperiment],* {} // Get rid of the pre-configured experiments
	MODULE
	{
		name = Configure
		title = Camera Experiments
	}
}

@PART[ca_argo-mk4-cam|mer_rsp|ca_vor_camera|ca_sciBoom]:HAS[@MODULE[Configure]:HAS[#title[Camera?Experiments]]]:NEEDS[FeatureScience,CoatlAerospace]
{
//adding the experiment modules. The other parameters get added/overwritten later, thus it's pointless to add them here.
	MODULE
	{
		name = Experiment
		experiment_id = ca_orbitalScope2
	}		
	MODULE
	{
		name = Experiment
		experiment_id = ca_IRspec
	}
	MODULE
	{
		name = Experiment
		experiment_id = ca_UVspec
	}
	
	@MODULE[Configure]:HAS[#title[Camera?Experiments]]
	{
		SETUP
		{
			name = None
			desc = Empty slot for mass and cost savings, should you not require any experiments installed.
		}
		SETUP
		{
			name = Orbital Images
			desc = Installs a two-camera system (narrow-angle/wide-angle) to provide imagery of planets and moons.
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = ca_orbitalScope2
			}
		}
		SETUP
		{
			name = Infrared Spectrometry
			desc = Installs an infrared interferometer spectrometer to investigate atmospheric composition, vertical temperature profilesfrom planets and satellites as well as composition, thermal properties, and size of particles in planetary rings.
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = ca_IRspec
			}
		}
		
		SETUP
		{
			name = Ultraviolet Spectrometry
			desc = Installs an ultraviolet spectrometer to investigate atmospheric properties and to measure radiation.
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = ca_UVspec
			}
		}
	}
}

// ============================================================================
// The experiments were just added above, but not configured. This section takes care of that
// Patching the SETUPs along the way.
// ============================================================================
@PART[ca_argo-mk4-cam|mer_rsp|ca_vor_camera|ca_sciBoom]:HAS[@MODULE[Configure]:HAS[#title[Camera?Experiments]]]:NEEDS[FeatureScience,CoatlAerospace]:AFTER[KerbalismDefault]
{
	@MODULE[Configure]:HAS[#title[Camera?Experiments]]
	{
		%slots = #$@KERBALISM_GROUP_SETTINGS/CAMERA_EXPERIMENTS/BaseSlots$
			
		@SETUP:HAS[#name[Orbital?Images]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/CAMERA_EXPERIMENTS/ca_orbitalScope2/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/CAMERA_EXPERIMENTS/ca_orbitalScope2/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/CAMERA_EXPERIMENTS/ca_orbitalScope2/SetupCost$
		}
		
		@SETUP:HAS[#name[Infrared?Spectrometry]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/CAMERA_EXPERIMENTS/ca_IRspec/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/CAMERA_EXPERIMENTS/ca_IRspec/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/CAMERA_EXPERIMENTS/ca_IRspec/SetupCost$
		}
		
		@SETUP:HAS[#name[Ultraviolet?Spectrometry]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/CAMERA_EXPERIMENTS/ca_UVspec/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/CAMERA_EXPERIMENTS/ca_UVspec/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/CAMERA_EXPERIMENTS/ca_UVspec/SetupCost$
		}
	}
}


@PART[ca_argo-mk2-cam]:NEEDS[FeatureScience,CoatlAerospace]:FIRST
{

	!MODULE[DMModuleScienceAnimateGeneric],* {} // Get rid of the pre-configured experiments
	MODULE
	{
		name = Configure
		title = Mk2 Camera Experiments
	}
	
	MODULE
	{
		name = HardDrive
		experiment_id = ca_filmCamera
		dataCapacity = 2
		sampleCapacity = 5
	}
}

@PART[ca_argo-mk2-cam]:HAS[@MODULE[Configure]:HAS[#title[Mk2?Camera?Experiments]]]:NEEDS[FeatureScience,CoatlAerospace]
{
//adding the experiment modules. The other parameters get added/overwritten later, thus it's pointless to add them here.
	MODULE
	{
		name = Experiment
		experiment_id = ca_filmCamera
	}		
	MODULE
	{
		name = Experiment
		experiment_id = digitalFilm
	}
	MODULE
	{
		name = Experiment
		experiment_id = digitalVideoLow
	}
	@MODULE[Configure]:HAS[#title[Mk2?Camera?Experiments]]
	{
		SETUP
		{
			name = None
			desc = Empty slot for mass and cost savings, should you not require any experiments installed.
		}
		SETUP
		{
			name = Film Camera
			desc = Installs a film-based camera to photograph images.
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = ca_filmCamera
			}
		}
		SETUP
		{
			name = Digital Camera
			desc = Installs a camera with a 1024x1024 Vidicon sensor to create photographic composites of the surroundings.
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = digitalFilm
			}
		}
		
		SETUP
		{
			name = Digital Video
			desc = Installs a video camera with the capability to record interlaced video!
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = digitalVideoLow
			}
		}
	}
}

// ============================================================================
// The experiments were just added above, but not configured. This section takes care of that
// Patching the SETUPs along the way.
// ============================================================================
@PART[ca_argo-mk2-cam]:HAS[@MODULE[Configure]:HAS[#title[Mk2?Camera?Experiments]]]:NEEDS[FeatureScience,CoatlAerospace]:AFTER[KerbalismDefault]
{
	@MODULE[Configure]:HAS[#title[Mk2?Camera?Experiments]]
	{
		%slots = #$@KERBALISM_GROUP_SETTINGS/MK2CAM_EXPERIMENTS/BaseSlots$
		UPGRADES
		{
			UPGRADE
			{
				name__ = mk2camUpgrade1
				techRequired__ = #$../../../@KERBALISM_GROUP_SETTINGS/MK2CAM_EXPERIMENTS/UpgradeTech$
				slots = #$../../../@KERBALISM_GROUP_SETTINGS/MK2CAM_EXPERIMENTS/UpgradedSlots$
			}
		}
			
		@SETUP:HAS[#name[Film?Camera]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/MK2CAM_EXPERIMENTS/ca_filmCamera/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/MK2CAM_EXPERIMENTS/ca_filmCamera/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/MK2CAM_EXPERIMENTS/ca_filmCamera/SetupCost$
		}
		@SETUP:HAS[#name[Digital?Camera]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/MK2CAM_EXPERIMENTS/digitalFilm/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/MK2CAM_EXPERIMENTS/digitalFilm/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/MK2CAM_EXPERIMENTS/digitalFilm/SetupCost$
		}
		@SETUP:HAS[#name[Digital?Video]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/MK2CAM_EXPERIMENTS/digitalVideoLow/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/MK2CAM_EXPERIMENTS/digitalVideoLow/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/MK2CAM_EXPERIMENTS/digitalVideoLow/SetupCost$
		}
	}
}


// Mk2 Camera functionality upgrade.
PARTUPGRADE:NEEDS[FeatureScience,CoatlAerospace]
{
  name = mk2camUpgrade1
  partIcon = ca_argo-mk2-cam
  title =  Argo Mk2 Camera Upgrade
  manufacturer = Spacegate Technology
  description = Increase the capabilities of the Argo Mk2 Camera
}
@PARTUPGRADE[mk2camUpgrade1]:NEEDS[FeatureScience,CoatlAerospace]:AFTER[KerbalismDefault]
{
  %techRequired = exactScience
  %entryCost = 30000
}

@PART[ca_draco]:NEEDS[FeatureScience,CoatlAerospace]
{
	!MODULE[ModuleEnviroSensor],* {}
	!MODULE[ModuleScienceExperiment],2 {} // Order is important here.
	!MODULE[ModuleScienceExperiment],1 {}
	!MODULE[ModuleScienceExperiment],0 {}
	
	
}


@KERBALISM_GROUP_SETTINGS:NEEDS[FeatureScience,CoatlAerospace]
{
	@UNMANNED_EXPERIMENTS
	{
		VIEU								
		{
			ECCost = 1.0
			size = 100								
			value = 2
			duration = 5
			samples = 3
			requirements = Sunlight,AltitudeMax:10000
			SetupMass = 0.02
			SetupCost = 200
			UnlockTech = appliedScience
			CrewRequirement =
			ResourceRates =
		}
	}
}

@PART[*]:HAS[@MODULE[Configure]:HAS[#title[Unmanned?Experiments]]]:NEEDS[FeatureScience,CoatlAerospace]
{
	MODULE
	{
		name = Experiment
		experiment_id = ca_SiteSurvey
	}
	
	@MODULE[Configure]:HAS[#title[Unmanned?Experiments]]
	{
		SETUP
		{
			name = VIEU
			desc = Visual Inspection for Elevation Unconcealment. Uses a small camera installed in the probe to seek safe landing sites for future missions. Requires the film to return to a lab or Kerbin.
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = ca_SiteSurvey
			}
		}
	}
}

@PART[*]:HAS[@MODULE[Configure]:HAS[#title[Unmanned?Experiments]]]:NEEDS[FeatureScience,CoatlAerospace]:AFTER[KerbalismDefault]
{
	@MODULE[Configure]:HAS[#title[Unmanned?Experiments]]
	{
		@SETUP:HAS[#name[VIEU]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/UNMANNED_EXPERIMENTS/VIEU/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/UNMANNED_EXPERIMENTS/VIEU/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/UNMANNED_EXPERIMENTS/VIEU/SetupCost$
		}
	}

	@MODULE[Experiment]:HAS[#experiment_id[ca_SiteSurvey]]
	{
		%ec_rate = #$@KERBALISM_GROUP_SETTINGS/UNMANNED_EXPERIMENTS/VIEU/ECCost$
		%requires = #$@KERBALISM_GROUP_SETTINGS/UNMANNED_EXPERIMENTS/VIEU/requirements$
		%data_rate = #$@KERBALISM_GROUP_SETTINGS/UNMANNED_EXPERIMENTS/VIEU/size$
		@data_rate /= #$@KERBALISM_GROUP_SETTINGS/UNMANNED_EXPERIMENTS/VIEU/duration$
		%resources = #$@KERBALISM_GROUP_SETTINGS/UNMANNED_EXPERIMENTS/VIEU/ResourceRates$
		%crew_operate = #$@KERBALISM_GROUP_SETTINGS/UNMANNED_EXPERIMENTS/VIEU/CrewRequirement$
		%sample_amount = #$@KERBALISM_GROUP_SETTINGS/UNMANNED_EXPERIMENTS/VIEU/samples$
		%allow_shrouded = False
	}
}




@PART[*]:HAS[@MODULE[Experiment]]:NEEDS[FeatureScience,CoatlAerospace]:AFTER[KerbalismDefault]
{
	@MODULE[Experiment]:HAS[#experiment_id[ca_SiteSurvey]]
	{
		%sample_amount = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_SiteSurvey/samples$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_SiteSurvey/ECCost$
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_SiteSurvey/requirements$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_SiteSurvey/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_SiteSurvey/duration$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_SiteSurvey/ResourceRates$
		%allow_shrouded = False
	}
	
	@MODULE[Experiment]:HAS[#experiment_id[ca_soilScoop]]
	{
		%sample_amount = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_soilScoop/samples$
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_soilScoop/requirements$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_soilScoop/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_soilScoop/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_soilScoop/duration$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_soilScoop/ResourceRates$
		%allow_shrouded = False
	}
	
	@MODULE[Experiment]:HAS[#experiment_id[ca_orbitalScope2]]
	{
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_orbitalScope2/requirements$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_orbitalScope2/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_orbitalScope2/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_orbitalScope2/duration$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_orbitalScope2/ResourceRates$
		%allow_shrouded = False
	}
	
	@MODULE[Experiment]:HAS[#experiment_id[ca_IRspec]]
	{
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_IRspec/requirements$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_IRspec/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_IRspec/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_IRspec/duration$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_IRspec/ResourceRates$
		%allow_shrouded = False
	}
	
	@MODULE[Experiment]:HAS[#experiment_id[ca_UVspec]]
	{
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_UVspec/requirements$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_UVspec/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_UVspec/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_UVspec/duration$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_UVspec/ResourceRates$
		%allow_shrouded = False
	}
	
	@MODULE[Experiment]:HAS[#experiment_id[ca_filmCamera]]
	{
		%sample_amount = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_filmCamera/samples$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_filmCamera/ECCost$
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_filmCamera/requirements$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_filmCamera/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_filmCamera/duration$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_filmCamera/ResourceRates$
		%allow_shrouded = False
	}
	
	@MODULE[Experiment]:HAS[#experiment_id[digitalFilm]]
	{
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/digitalFilm/requirements$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/digitalFilm/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/digitalFilm/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/digitalFilm/duration$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/digitalFilm/ResourceRates$
		%allow_shrouded = False
	}
	@MODULE[Experiment]:HAS[#experiment_id[digitalVideoLow]]
	{
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/digitalVideoLow/requirements$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/digitalVideoLow/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/digitalVideoLow/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/digitalVideoLow/duration$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/digitalVideoLow/ResourceRates$
		%allow_shrouded = False
	}
	@MODULE[Experiment]:HAS[#experiment_id[ca_UVtelescope]]
	{
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_UVtelescope/requirements$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_UVtelescope/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_UVtelescope/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_UVtelescope/duration$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_UVtelescope/ResourceRates$
		%allow_shrouded = False
	}
	
	@MODULE[Experiment]:HAS[#experiment_id[ca_solarWind]]
	{
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_solarWind/requirements$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_solarWind/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_solarWind/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_solarWind/duration$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_solarWind/ResourceRates$
		%allow_shrouded = False
	}
	
	@MODULE[Experiment]:HAS[#experiment_id[ca_kerbalism_interstellar]]
	{
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_kerbalism_interstellar/requirements$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_kerbalism_interstellar/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_kerbalism_interstellar/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_kerbalism_interstellar/duration$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_kerbalism_interstellar/ResourceRates$
		%allow_shrouded = False
	}
	
	@MODULE[Experiment]:HAS[#experiment_id[ca_gammaRay]]
	{
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_gammaRay/requirements$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_gammaRay/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_gammaRay/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_gammaRay/duration$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_gammaRay/ResourceRates$
		%allow_shrouded = False
	}
	
	@MODULE[Experiment]:HAS[#experiment_id[ca_ionElec]]
	{
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_ionElec/requirements$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_ionElec/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_ionElec/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_ionElec/duration$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/ca_ionElec/ResourceRates$
		%allow_shrouded = False
	}
	
	@MODULE[Experiment]:HAS[#experiment_id[kiwi_kdex]]
	{
		%sample_amount = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/kiwi_kdex/samples$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/kiwi_kdex/ECCost$
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/kiwi_kdex/requirements$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/kiwi_kdex/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/kiwi_kdex/duration$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/CoatlAerospace/kiwi_kdex/ResourceRates$
		%allow_shrouded = False
	}
}


