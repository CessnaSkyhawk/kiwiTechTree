// Kiwi's Tech Tree Overhaul (Knes by Well Patch)
// Version 1.0
// Created: 23 September 2020 for KSP 1.9.1 - 1.10.1
// Last Updated: 15 November 2020
// 27 September 2020: Fixed tech node for Multi Role Kapsule DM and Rescue SM
// 12 October 2020: Added entry cost to Knes Vesta 0.625 adapter entry cost balance of P80 Booster
// 18 October 2020: Moved Boop Monoprop Fuel Tank to Basic Flight Control; Moved 1.875-1.25 Abort Adapter
// 24 October 2020: Moved Anubis SRB to Sounding Rockets if CNAR is installed.
// 25 October 2020: Added Upgrades to MonoPropellant Engines and rebalanced; Fixed 0 cost for STEAM Blamont MonoPropellant Module
// 26 October 2020: Changed KiwiAerospace to KiwiTechTree
// 28 October 2020: Altered location of the Hathor Solid Fuel Booster depending on the placement of CNAR
// 29 October 2020: Generalized the ModuleEngines Identifier in B9
// 1 November 2020: Added general framework for fuel tank upgrades.
// 6 November 2020: Added general upgrades
// 12 November 2020: Lowered entry cost of air brake
// 15 November 2020: Standardized RCS Thruster Upgrade

// General Patch
@PART[*]:NEEDS[Knes]:HAS[#manufacturer[Knes]]
{
	@manufacturer = Kerbal aeroNautical Exploration Society Pty. Ltd.
}

// These parts did not move from the default placement in the tech tree, but have structural upgrades.
@PART[_Knes_L3S_Fin|_Knes_Diamant_Aileron]:AFTER[Knes]
{
	structuralUpgradeType = 0_2
}
@PART[Knes_Structural_Guepiere|_Knes_Vesta_Aileron|Knes_Catherine_Adapter_Quad_250|_Knes_Cora_Adapter_125_09375|_Knes_Structural_Adapter_125_09375|_Knes_Structural_Adapter_09375_0625|_Knes_Structural_EndCap_0625|_Knes_Structural_Node_0625|Knes_Hera_Grapple]:AFTER[Knes]
{
	structuralUpgradeType = 3_4
}

@PART[_Knes_ATV_RCS_*|_Knes_RCS_3way|_Knes_mrk_Thruster]:AFTER[Knes]
{
	rcsUpgradeType = coldGas
}


//// Other \\\\
// Tier 0 - otherParts
@PART[KIS_snacks_knes]:AFTER[Knes]
{
	@TechRequired = otherParts
}

//// ********* Probes and Communication ********* \\\\

// ***** Probes ***** \\

// Tier 0 - start

// Tier 1 - engineering101

// Tier 2 - science201

// Tier 3 - basicScience

// Tier 4 - earlyProbes

// Tier 5 - communicationSatellites
@PART[_Knes_Vesta_Avionic_03125]:AFTER[Knes]
{
	@TechRequired = communicationSatellites // It's a probe
	@cost *= 1
	@entryCost *= 2
}

@PART[_Knes_ATV_Adapter]:AFTER[Knes]
{
	@TechRequired = communicationSatellites // It's a probe
	@cost *= 1
	@entryCost *= 2
	spacePlaneSystemUpgradeType = knes25
}

@PART[_Knes_DiamantB_Avionics_0625]:AFTER[Knes]
{
	@TechRequired = communicationSatellites // It's a probe
	@cost *= 3
	@entryCost *= 2.5
}

// Tier 6 - unmannedTech
@PART[_Knes_Sat_Starlette|_Knes_Sat_Asterix|_Knes_Vega_Avum_Avionics_125|_Knes_DiamantBP4_Avionics_09375]:AFTER[Knes]
{
	@TechRequired = unmannedTech
	@cost *= 4
	@entryCost *= 3
}
// Tier 7 - advUnmanned or automation
@PART[_Knes_Sat_NanoSat|Knes_Command_Cortex]:AFTER[Knes]
{
	@TechRequired = advUnmanned
}

@PART[Knes_Command_Minus|_Knes_L3S_AR4_Avionics|_Knes_L3S_Avionics_250]:AFTER[Knes]
{
	@TechRequired = advUnmanned // It's a probe
	@cost *= 5
	@entryCost *= 2
}
// Tier 8 - largeUnmanned or mechatronics


// Tier 9 - artificialIntelligence



// ***** Adapters, Fairings, Rocket Nose Cones ***** \\
// Tier 0 - start

// Tier 1 - basicRocketry
@PART[Knes_Structural_Kylda_0625]:AFTER[Knes]
{
	@TechRequired = basicRocketry
	structuralUpgradeType = 0_2
}
@PART[_Knes_Vesta_Adapter_0625to03125]:AFTER[Knes]
{
	%entryCost = 1500
	%cost = 300
	@TechRequired = basicRocketry
	structuralUpgradeType = 0_2
}

// Tier 2 - basicConstruction
@PART[Knes_Structural_Kylda_125|_Knes_Diamant_Fairing_0625]:AFTER[Knes]
{
	@TechRequired = basicConstruction
	structuralUpgradeType = 0_2
}

// Tier 3 - generalConstruction
@PART[Knes_Aero_Fairing_09375|Knes_Aero_Fairing_125]:AFTER[Knes]
{
	@TechRequired = generalConstruction
}

@PART[_Knes_Diamant_Fairing_09375|_Knes_Diamant_NoseCone_09375|Knes_Catherine_Adapter_Quad_1875|_Knes_Station_Module_EndCap_0625]:AFTER[Knes]
{
	@TechRequired = generalConstruction
	structuralUpgradeType = 3_4
}


// Tier 4 - Advanced Construction - advConstruction
@PART[Knes_Structural_Kylda|_Knes_Station_Module_EndCap_09375]:AFTER[Knes]
{
	@TechRequired = advConstruction // Doesn't Change
	@cost *= 1
	@entryCost *= 2
	structuralUpgradeType = 3_4
}
@PART[_Knes_ATV_Flat_Adapter]:AFTER[Knes]
{
	@TechRequired = advConstruction // Doesn't Change
	@cost *= 1
	@entryCost *= 2
	spacePlaneSystemUpgradeType = knes25
}

@PART[Knes_Aero_Fairing_1875]:AFTER[Knes]
{
	@TechRequired = advConstruction
	@cost *= 1
	@entryCost *= 1
}
@PART[Knes_Aero_NoseCone_A|Knes_Aero_NoseCone_B|_Knes_Cora_Adapter_1875_125]:AFTER[Knes]
{
	@TechRequired = advConstruction
	@cost *= 1
	@entryCost *= 1
	structuralUpgradeType = 3_4
}


// Tier 5 - Specialized Construction - specializedConstruction
@PART[Knes_Aero_Fairing_250]:AFTER[Knes]
{
	@TechRequired = specializedConstruction
	@cost *= 1
	@entryCost *= 1
}

@PART[_Knes_STEAM_Node]:AFTER[Knes]
{
	@TechRequired = specializedConstruction
	@cost *= 0.5
	@entryCost *= 2
	spacePlaneSystemUpgradeType = knes125
}

// Tier 6 - Advanced MetalWorks - advMetalworks
@PART[Knes_MultiPayload_Adapter_Sylda_AR5_375]:AFTER[Knes]
{
	@TechRequired = advMetalworks
	@cost *= 3
	@entryCost *= 3
	structuralUpgradeType = 5_6
}
@PART[Knes_Aero_Fairing_375]:AFTER[Knes]
{
	@TechRequired = advMetalworks
	@cost *= 1
	@entryCost *= 1
}



// Tier 7 - Nanolathing - nanolathing

// Tier 8 - Exotic Alloys - exoticAlloys

// Tier 9 - aerographite





//// ********* Aerodynamics ********* \\\\

// ***** Cockpits and Engines and Air Intakes ***** \\

// Tier 0 - start

// Tier 1 - earlyFlight

// Tier 2 - stability

// Tier 3 - aviation

// Tier 4 - streamlinedFlight

// Tier 5 - supersonicFlight

// Tier 6 - highAltitudeFlight
@PART[Knes_Command_K-IXV]:AFTER[Knes]
{
	@entryCost = 55000
	@cost = 10000
	@TechRequired = highAltitudeFlight
	@maxTemp = 1500
	@skinMaxTemp = 1700
	@RESOURCE[ElectricCharge]
	{
		@amount = 1000
		@maxAmount = 1000
	}
	spaceplaneUpgradeType = spaceCapable
	baseSkinTemp = 1700
	upgradeSkinTemp = 2700	
	
	spacePlaneSystemUpgradeType = knesLiftingBody
}


// Tier 7 - hypersonicFlight
@PART[Knes_Command_K-CEV]:AFTER[Knes]
{
	@entryCost = 60000
	@cost = 12000
	@TechRequired = hypersonicFlight
	@maxTemp = 1500
	@skinMaxTemp = 1700
	@RESOURCE[ElectricCharge]
	{
		@amount = 1000
		@maxAmount = 1000
	}
	spaceplaneUpgradeType = spaceCapable
	baseSkinTemp = 1700
	upgradeSkinTemp = 2700	
	spacePlaneSystemUpgradeType = knesLiftingBody
}

@PART[Knes_Hermes]:AFTER[Knes]
{
	@entryCost = 75000
	@cost = 19000
	@TechRequired = hypersonicFlight
	@maxTemp = 1500
	@skinMaxTemp = 1700
	@RESOURCE[ElectricCharge]
	{
		@amount = 3500
		@maxAmount = 3500
	}
	spaceplaneUpgradeType = spaceCapable
	baseSkinTemp = 1700
	upgradeSkinTemp = 2850
	spacePlaneSystemUpgradeType = knesLiftingBody
}

// Tier 8 - aerospaceTech

// Tier 9 - experimentalAerospaceTech




// ***** Structural & Wings & Plane Fuel Tanks ***** \\
// Tier 0 - start

// Tier 1 - earlyFlight

// Tier 2 - stability

// Tier 3 - aviation

// Tier 4 - aerodynamicSystems
@PART[Knes_IXV_Elevon]:AFTER[Knes]
{
	@TechRequired = aerodynamicSystems
	@cost *= 1
	@entryCost *= 1
	spacePlaneSystemUpgradeType = knesLiftingBody
}

@PART[_Knes_Vesta_AirBrake]:AFTER[Knes]
{
	@TechRequired = aerodynamicSystems
	@cost /= 2
	@entryCost /= 4
	structuralUpgradeType = 3_4
}

// Tier 5 - advAerodynamics

// Tier 6 - heavyAerodynamics
@PART[Knes_Airbrake|_Knes_Hermes_Adapter|Knes_Hermes_Aileron*|Knes_Hermes_Rudder*]:AFTER[Knes]
{
	@TechRequired = aerodynamicSystems
	@cost *= 1
	@entryCost *= 1
	spacePlaneSystemUpgradeType = knesLiftingBody
}

// Tier 7 - experimentalAerodynamics
@PART[Knes_Hermes_HRM]:AFTER[Knes]
{
	@TechRequired = aerodynamicSystems
	@cost *= 1
	@entryCost *= 1
	spacePlaneSystemUpgradeType = knesLiftingBody
}

// Tier 8 - aerospaceComposites

// Tier 9 - advAerospaceEngineering



//// ********** Utility/Misc *********** \\\\

// ***** Landing Gear and Wheels ***** \\
// Tier 0 - Start

// Tier 1 - earlyFlight

// Tier 2 - stability

// Tier 3 - aviation

// Tier 4 - landing

// Tier 5 - fieldScience
@PART[_Knes_Skid]:AFTER[Knes]
{
	@TechRequired = fieldScience
	@cost *= 1
	@entryCost *= 1
}

// Tier 6 - advLanding
@PART[Knes_Hermes_Gear]:AFTER[Knes]
{
	@TechRequired = advLanding
	@cost *= 1
	@entryCost *= 1
}

// Tier 7 - heavyLanding

// Tier 8 - advancedMotors



// ***** Antenna ***** \\

// Tier 0 - start

// Tier 1 - engineering101
@PART[_Knes_ATV_Antenna|_Knes_DirectAntenna_bread]:AFTER[Knes]
{
	@TechRequired = engineering101
}

// Tier 2 - science201

// Tier 3 - basicScience


// Tier 4 - earlyProbes

// Tier 5 - communicationSatellites
@PART[_Knes_mrk_Antenna]:AFTER[Knes]
{
	@TechRequired = communicationSatellites
}

// Tier 6 - highGainCommunications

// Tier 7 - signalProcessing

// Tier 8 - digitalSignalProcessing

// Tier 9 - xBandCommunications

// Tier 10 - deepSpaceOpticalCommunications

// Tier 11 - quantumCommunications


//// ********* Logistics and Station/Moon Habitation ********* \\\\
// ***** Stations / Colony Pieces ***** \\

// Tier 0 - start

// Tier 1 - engineering101

// Tier 2 - serviceModules

// Tier 3 - skipped

// Tier 4 - recycling

// Tier 5 - hydroponics
@PART[_Knes_STEAM_Hatch]:AFTER[Knes]
{
	@TechRequired = hydroponics
	@entryCost *= 2
	@cost *= 4
	spacePlaneSystemUpgradeType = knes125
}

@PART[_Knes_Station_Module_ScienceLab]:AFTER[Knes]
{
	@TechRequired = earlyStations
	@entryCost *= 2
	@cost *= 5
	spacePlaneSystemUpgradeType = knes125
}

// Tier 6 - earlyStations
@PART[_Knes_Station_Module_Hab]:AFTER[Knes]
{
	@TechRequired = earlyStations
	@entryCost *= 2
	@cost *= 2
	spacePlaneSystemUpgradeType = knes125
}

@PART[_Knes_ATV_Cargo]:AFTER[Knes]
{
	@TechRequired = earlyStations
	@entryCost *= 2
	@cost *= 2
	spacePlaneSystemUpgradeType = knes25
}

@PART[_Knes_ATV_Cargo]:NEEDS[StationPartsExpansionRedux]:AFTER[Knes]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = cargoSwitch
		switcherDescription = #LOC_SSPX_Switcher_Cargo_Name
		baseVolume = 8000
		switchInFlight = True
		affectDragCubes = false
		SUBTYPE
		{
			name = Ore
			tankType = knesOre
			title = #LOC_SSPX_Switcher_Cargo_Ore
		}
	}
}


@PART[_Knes_STEAM_ScienceLab]:AFTER[Knes]
{
	@TechRequired = earlyStations
	@entryCost *= 2 // Make it more expensive given that it is smaller and earlier
	@cost *= 1
	spacePlaneSystemUpgradeType = knes125
}

@PART[_Knes_Station_Module_CrystalFactory]:AFTER[Knes]
{
	@TechRequired = earlyStations
	@entryCost *= 10 // Make it more expensive given that it is smaller and earlier
	@cost = 12000
	!RESOURCE[Crystal] {}
	spacePlaneSystemUpgradeType = knes125
}


// Tier 7 - shortTermHabitation
@PART[_Knes_STEAM_CrystalLab]:AFTER[Knes]
{
	@TechRequired = shortTermHabitation
	@entryCost *= 10
	@cost = 20000
	
	!RESOURCE[Crystal] {}
	spacePlaneSystemUpgradeType = knes125
}


// Tier 8 - longTermHabitation

// Tier 9 - advancedStations

// Tier 10 - colonization

// Tier 11 - advColonization


// ***** Re-entry Pods ***** \\

// Tier 3 - basicReentryModule
@PART[Knes_Crew_Pod_09375]:AFTER[Knes]
{
	@TechRequired = basicReentryModule
	@entryCost = 5000
	@cost = 1500
	spacePlaneSystemUpgradeType = knes125
}

// Tier 4 - reentryModule

// Tier 5 - advancedReentryModule
@PART[_Knes_mrk_Pod]:AFTER[Knes]
{
	@TechRequired = advancedReentryModule
	@entryCost = 9000
	@cost = 3000
	spacePlaneSystemUpgradeType = knes25
}

@PART[_Knes_mrk_Pod_Rescue]:AFTER[Knes]
{
	@TechRequired = advancedReentryModule
	@entryCost = 12000
	@cost = 5000
	spacePlaneSystemUpgradeType = knes25
}


@PART[_Knes_mrk_Pod]:NEEDS[StationPartsExpansionRedux]:AFTER[Knes]
{
	@entryCost = 7500
	@cost = 3000
	!RESOURCE[Crystal] {}
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = cargoSwitch
		switcherDescription = #LOC_SSPX_Switcher_Cargo_Name
		baseVolume = 1000
		switchInFlight = True
		affectDragCubes = false
		SUBTYPE
		{
			name = Ore
			tankType = knesOre
			title = #LOC_SSPX_Switcher_Cargo_Ore
		}
	}
}


// ***** Storage/Resources ***** \\
// Tier 0 - start

// Tier 1 - engineering101

// Tier 2 - serviceModules
@PART[Knes_Cargo_Pod_09375]:AFTER[Knes]
{
	@TechRequired = serviceModules
	spacePlaneSystemUpgradeType = knes125
}
@PART[Knes_Cargo_Pod_09375]:NEEDS[StationPartsExpansionRedux]:AFTER[Knes]
{
	@entryCost = 3000
	@cost = 1500
	!RESOURCE[Crystal] {}
	!RESOURCE[Ore] {}
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = cargoSwitch
		switcherDescription = #LOC_SSPX_Switcher_Cargo_Name
		baseVolume = 750
		switchInFlight = True
		affectDragCubes = false
		SUBTYPE
		{
			name = Ore
			tankType = knesOre
			title = #LOC_SSPX_Switcher_Cargo_Ore
		}
	}
}

// Tier 3 - Skipped

// Tier 4 - storageTech

// Tier 5 - earlyLogistics
@PART[_Knes_mrk_SM_Cargo|_Knes_mrk_SM_Rescue|_Knes_mrk_SM_Extended]:AFTER[Knes]
{
	@TechRequired = earlyLogistics
	@entryCost *= 1
	@cost *= 1
	spacePlaneSystemUpgradeType = knes25
}

@PART[_Knes_STEAM_125_cargo]:AFTER[Knes]
{
	@TechRequired = earlyLogistics
	@entryCost *= 1
	@cost *= 1
	spacePlaneSystemUpgradeType = knes125
}

@PART[_Knes_mrk_Cargo]:AFTER[Knes]
{
	@TechRequired = earlyLogistics
	@entryCost *= 1
	@cost *= 1
	spacePlaneSystemUpgradeType = knes25
}

@PART[_Knes_STEAM_Cargo_Tank]:AFTER[Knes]
{
	@TechRequired = earlyLogistics
	@cost += 600 // Otherwise it is a costless part due to the cost of the MonoPropellant
	spacePlaneSystemUpgradeType = knes125
}

@PART[_Knes_mrk_Cargo]:NEEDS[StationPartsExpansionRedux]:AFTER[Knes]
{
	@entryCost = 7500
	@cost = 3000
	!RESOURCE[Crystal] {}
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = cargoSwitch
		switcherDescription = #LOC_SSPX_Switcher_Cargo_Name
		baseVolume = 5000
		switchInFlight = True
		affectDragCubes = false
		SUBTYPE
		{
			name = Ore
			tankType = knesOre
			title = #LOC_SSPX_Switcher_Cargo_Ore
		}
	}
}


@PART[_Knes_STEAM_125_cargo]:NEEDS[StationPartsExpansionRedux]:AFTER[Knes]
{
	!RESOURCE[Ore] {}
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = cargoSwitch
		switcherDescription = #LOC_SSPX_Switcher_Cargo_Name
		baseVolume = 1200
		switchInFlight = True
		affectDragCubes = false
		SUBTYPE
		{
			name = Ore
			tankType = knesOre
			title = #LOC_SSPX_Switcher_Cargo_Ore
		}
	}
}

// Tier 6 - logistics
@PART[_Knes_ATV_SM]:AFTER[Knes]
{
	@TechRequired = logistics
	@entryCost *= 1
	@cost *= 1
	spacePlaneSystemUpgradeType = knes25
}

// Tier 7 - isru

// Tier 8 - advLogistics

// Tier 9 - advOffworldMining

// Tier 10 - resourceExploitation



// ***** Solar and Fuel Cells ***** \\

// Tier 0 - start

// Tier 1 Engineering 101 - engineering101

// Tier 2 - Science 201 - science201

// Tier 3 - batteryTech
@PART[_Knes_Flat_SolarPanel_NanoSat]:AFTER[Knes]
{
	@TechRequired = batteryTech
	solarPanelUpgradeTier = 3
}

// Tier 4 - electrics
@PART[_Knes_mrk_SolarPanel|_Knes_mrk_SolarPanel_Nano|_Knes_mrk_SolarPanel_Pyld]:AFTER[Knes]
{
	@TechRequired = electrics
	solarPanelUpgradeTier = 4
}

// Tier 5 - advElectrics
@PART[_Knes_ATV_SolarPanel|_Knes_mrk_SolarPanel_Pyld_Track]:AFTER[Knes]
{
	@TechRequired = advElectrics
	solarPanelUpgradeTier = 5
}

// Tier 6 - largeElectrics (High-Power Electrics)
@PART[_Knes_mrk_SolarArray]:AFTER[Knes]
{
	@TechRequired = largeElectrics
	solarPanelUpgradeTier = 6
}

// Tier 7 - advSolarTech 

// Tier 8 - Advanced Photovoltaic Materials (advPVMaterials) / Cutting-Edge Solar Technology (cuttingEdgeSolarTech)

// Tier 9 - Microwave Power Transmission / Exotic Solar Technology (exoticSolarTech)

// Tier 10 - Omega Solar Technology (omegaSolarTech)

// ***** Batteries ***** \\

// Tier 0

// Tier 1 Engineering 101 - engineering101

// Tier 2 - Science 201 - science201

// Tier 3 - Basic Science - basicScience

// Tier 4 - Electrics - electrics

// Tier 5 - Advanced Electrics - advElectrics
@PART[_Knes_STEAM_Power_Module]:AFTER[Knes] 
{
	@TechRequired = advElectrics
	@cost *= 6
	@entryCost *= 12 // Quite cheap otherwise compared to stock
}


// Tier 6 - High-Power Electrics // largeElectrics

// Tier 7 - Specialized Electrics - specializedElectrics

// Tier 8 - Experimental Electrics - experimentalElectrics

// Tier 9 - High Tech Electrical Systems - highTechElectricalSystems

// Tier 10 - High Power Electrical Systems - highPowerElectricalSystems

// Tier 11 - Experimental Electrical Systems - experimentalElectricalSystems

// Tier 12 - Exotic Electrical Systems - exoticElectricalSystems


// ***** Flight Control: Monopropellant Tanks, RCS Thrusters, SAS Modules, Launch Escape Systems ***** \\
// Tier 0 - Start

// Tier 1 - earlyFlight
@PART[_Knes_Veronique_Aileron]:AFTER[Knes]
{
	@TechRequired = earlyFlight
	structuralUpgradeType = 0_2
}

// Tier 2 - basicFlightControl
@PART[_Knes_RCS_Bump_tank]:AFTER[Knes] 
{
	@TechRequired = basicFlightControl
	@cost *= 1
	@entryCost *= 1
	fuelTankUpgradeType = standardMonoPropellant
}

// Tier 3 - flightControl
@PART[_Knes_Control_LowProfile_RCS_0625|Knes_EscapeTower_Small]:AFTER[Knes]
{
	@TechRequired = flightControl
	@cost *= 1
	@entryCost *= 1
	
}

@PART[Knes_Utility_SafeSystem]:AFTER[Knes]
{
	@TechRequired = flightControl
	@cost *= 1
	@entryCost *= 1
	structuralUpgradeType = 3_4
}

@PART[Knes_MonoProp_FuelTank_Medium_09375|Knes_MonoProp_FuelTank_Nano_09375]:AFTER[Knes]
{
	@TechRequired = flightControl
	@cost *= 1
	@entryCost *= 1
	fuelTankUpgradeType = standardMonoPropellant
}



// Tier 4 - advFlightControl
@PART[_Knes_RCS_3way|_Knes_mrk_LES]:AFTER[Knes] 
{
	@TechRequired = advFlightControl
	@cost *= 1
	@entryCost *= 1
}

@PART[Knes_Utility_SafeSystem_1875]:AFTER[Knes] 
{
	@TechRequired = advFlightControl
	@cost *= 1
	@entryCost *= 1
	structuralUpgradeType = 3_4
}


// Tier 5 - specializedControl
@PART[_Knes_RCS_Bump_roll|_Knes_mrk_Thruster]:AFTER[Knes] 
{
	@TechRequired = specializedControl
	@cost *= 1
	@entryCost *= 1
}

// Tier 6 - experimentalControl

// Tier 7 - exoticControl


//// ********* Decouplers/Separators/DockingPorts/EnginePlates ********* \\\\

// Tier 0

// Tier 1

// Tier 2 Basic Construction - basicConstruction
@PART[Knes_Decoupler_G0625|_Knes_Diamant_Decoupler_0625|_Knes_Veronique_Decoupler_03125]:AFTER[Knes] 
{
	@TechRequired = basicConstruction
	@cost *= 1
	@entryCost *= 1
	structuralUpgradeType = 0_2
}

// Tier 3 Decoupling - decoupling
@PART[Knes_Decoupler_Radial_Small|Knes_Decoupler_G1250|Knes_Decoupler_G09375|_Knes_Diamant_Decoupler_09375]:AFTER[Knes] 
{
	@TechRequired = decoupling
	@cost *= 1
	@entryCost *= 1
	structuralUpgradeType = 3_4
}

// Tier 4 Docking - docking
@PART[Knes_Decoupler_G1875|Knes_DockingPortJr_0625]:AFTER[Knes] 
{
	@TechRequired = docking
	@cost *= 1
	@entryCost *= 1
	structuralUpgradeType = 3_4
}

// Tier 5 Advanced Decoupling -advancedDecoupling
@PART[Knes_Decoupler_Radial_big]:AFTER[Knes] 
{
	@TechRequired = advancedDecoupling
	@cost *= 2
	@entryCost *= 2
	structuralUpgradeType = 5_6
}

@PART[_Knes_mrk_ECBM_Active|_Knes_mrk_ECBM]:AFTER[Knes]
{
	@TechRequired = advancedDecoupling
	@cost *= 1
	@entryCost *= 1
	structuralUpgradeType = 5_6
}

@PART[Knes_Decoupler_G2500|_Knes_mrk_Decoupler]:AFTER[Knes]
{
	@TechRequired = advancedDecoupling
	@cost *= 1
	@entryCost *= 1
	structuralUpgradeType = 5_6
}

// Tier 6 Engine Plates - enginePlates
@PART[Knes_Decoupler_G3750]:AFTER[Knes] 
{
	@TechRequired = enginePlates
	@cost *= 1
	@entryCost *= 1
	structuralUpgradeType = 5_6
}

// Tier 7 Advanced Docking - advancedDocking
@PART[Knes_Decoupler_G5000]:AFTER[Knes] 
{
	@TechRequired = advancedDocking
	@cost *= 1
	@entryCost *= 1
	structuralUpgradeType = 7_8
}

// Tier 8 Advanced Engine Plates - advancedEnginePlates

// Tier 9 Automated Decoupling Systems - automatedDecouplingSystems

// Tier 10 extremeFuelStorage


// ***** Parachutes ***** \\

// Tier 2 - survivability
@PART[_Knes_Vesta_Parachute_03125|Knes_Parachute_Inline_0625]:AFTER[Knes] 
{
	parachuteUpgradeType = standard
}
// Tier 3 - enhancedSurvivability

// Tier 4 - spaceExploration
@PART[Knes_Paraglider_Steerable_srf|Knes_Paraglider_srf|_Knes_mrk_Parachute]:AFTER[Knes] 
{
	@TechRequired = spaceExploration
	@cost *= 1
	@entryCost *= 1
	parachuteUpgradeType = standard
}

// Tier 5 - advExploration


// ***** Liquid Fuel ***** \\

// Tier 0 - start

// Tier 1 - basicRocketry; 0.625m Fuel Tank


// Tier 2 - earlyFuelSystems ; Intro of the 1.25m tank, a larger 0.625 piece
@PART[_Knes_Nano_Cryo_FuelTank_09375]:AFTER[Knes] 
{
	@TechRequired = earlyFuelSystems
	@cost *= 1
	@entryCost *= 4
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size1
}

@PART[_Knes_Diamant2_FuelTank_nano_0625|_Knes_Veronique_FuelTank_03125]:AFTER[Knes] 
{
	@TechRequired = earlyFuelSystems
	@cost *= 1
	@entryCost *= 1.5
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size0
}
@PART[_Knes_Mireille_LFO_short_09375]:AFTER[Knes] 
{
	@TechRequired = earlyFuelSystems
	@cost *= 1
	@entryCost *= 1.5
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size1
}


// Tier 3 - basicFuelSystems // Intro of the 1.875 if Making History installed
@PART[_Knes_Diamant2_FuelTank_small_0625]:AFTER[Knes] 
{
	@TechRequired = basicFuelSystems
	@cost *= 1
	@entryCost *= 2
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size0
}
@PART[_Knes_Mireille_LFO_medium_09375]:AFTER[Knes] 
{
	@TechRequired = basicFuelSystems
	@cost *= 1
	@entryCost *= 2
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size1
}

// Tier 4 - fuelSystems // Intro of the 2.5m
@PART[_Knes_L3S_H4|]:AFTER[Knes] 
{
	@TechRequired = fuelSystems
	@cost *= 1
	@entryCost += 3000
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size1p5
	
}

@PART[_Knes_L3S_Cryo_LH2_125|_Knes_Coralie_LFO_125|_Knes_Mireille_LFO_long_09375]:AFTER[Knes] 
{
	@TechRequired = fuelSystems
	@cost *= 1
	@entryCost *= 4
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size1
}

@PART[_Knes_Small_Cryo_FuelTank_09375]:AFTER[Knes] 
{
	@TechRequired = fuelSystems
	@cost *= 1
	@entryCost *= 3
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size1
}

@PART[_Knes_Diamant2_FuelTank_Long_0625]:AFTER[Knes] 
{
	@TechRequired = fuelSystems
	@cost *= 1
	@entryCost *= 3.5
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size0
}

// Tier 5 - advFuelSystems - Intro of the 3.75m
@PART[_Knes_DiamantA_FuelTank_09375]:AFTER[Knes] 
{
	@TechRequired = advFuelSystems
	@cost *= 1
	@entryCost *= 8
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size1
}

@PART[Knes_Fuel_Tanks_Small|_Knes_Vesta_FuelTank_0625_3125]:AFTER[Knes] 
{
	@TechRequired = advFuelSystems
	@cost *= 1
	@entryCost *= 1
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size0
}

@PART[_Knes_Carmen_FuelTank_125]:AFTER[Knes] 
{
	@TechRequired = advFuelSystems
	@cost *= 1
	@entryCost *= 5
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size1
}


// Tier 6 - largeVolumeContainment // Intro of the 5m Large Volume Containment
@PART[Knes_Fuel_Tanks_Medium]:AFTER[Knes] 
{
	@TechRequired = largeVolumeContainment
	@cost *= 1
	@entryCost *= 1
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size3
}
@PART[_Knes_DiamantB_FuelTank_09375]:AFTER[Knes] 
{
	@TechRequired = largeVolumeContainment
	@cost *= 1
	@entryCost *= 8
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size1
}
@PART[Knes_Fuel_Tanks_1875_H10]:AFTER[Knes] 
{
	@TechRequired = largeVolumeContainment
	@cost *= 1
	@entryCost *= 2.5
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size1p5
}

@PART[_Knes_L3S_H8|_Knes_L3S_L33]:AFTER[Knes] 
{
	@TechRequired = largeVolumeContainment
	@cost *= 1
	@entryCost *= 2.5
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size1p5
}
@PART[_Knes_L3S_H22]:AFTER[Knes] 
{
	@TechRequired = largeVolumeContainment
	@cost *= 1
	@entryCost *= 5.5
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size2
}

@PART[_Knes_Carmen_FuelTank_Extended_125]:AFTER[Knes] 
{
	@TechRequired = largeVolumeContainment
	@cost *= 1
	@entryCost *= 5
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size1
}





// Tier 7 - highPerformanceFuelSystems // Intro of the 7.5m High Performance Fuel Systems
@PART[_Knes_L3S_H45]:AFTER[Knes] 
{
	@TechRequired = largeVolumeContainment
	@cost *= 1
	@entryCost *= 3
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size2
}

// Tier 8 - specializedFuelStorage Specialized Fuel Storage
@PART[Knes_Fuel_Tanks_EPC]:AFTER[Knes] 
{
	@TechRequired = specializedFuelStorage
	@cost *= 1
	@entryCost *= 1
	fuelTankUpgradeType = standardLiquidFuel
	fuelTankSizeUpgrade = size3
}

// Tier 9 - exoticFuelStorage

// Tier 10 - extremeFuelStorage



//// ********* Engines ********* \\\\

// ***** Liquid Fuel ***** \\

// Tier 0 - start, just the small jet engine to allow for the aeronautics branch

// Tier 1 - basicRocketry , a basic 0.625m engine that helps get us off the ground

@PART[_Knes_Vesta_Engine_0625]:AFTER[Knes] // LRBA-V "Gauntness" Engine
{	
	%cost = 400 // Do not know why these do not have a cost...
	@MODULE[ModuleEnginesFX]
	{
		!atmosphereCurve {} // Delete the original, OP in high pressure atmosphere
		atmosphereCurve
        {
            key = 0 255
            key = 1 200
			key = 6 0.001
        }
	}
	@title = MT-2 "Celtica" Liquid Fuel Engine 
	@TechRequired = basicRocketry
	@entryCost = 2000
	
	engineUpgradeType = standardLFO
	engineNumber = 2
	engineNumberUpgrade = 2C
	engineName = Celtica
	engineNameUpgrade = Galatia
	enginePartUpgradeName = celticaUpgrade
}


@PART[_Knes_Veronique_Engine_03125]:AFTER[Knes] // AGI-E "Vekin" Engine
{	
	@title = MT-0 "Vekin" Liquid Fuel Engine 
	@TechRequired = basicRocketry
	@entryCost = 1000
	%cost = 400
	@MODULE[ModuleEngines*]
	{
		!atmosphereCurve {} // Delete the original, OP in high pressure atmosphere
		atmosphereCurve
        {
            key = 0 260
            key = 1 230
			key = 6 0.001
        }
	}
	
	engineUpgradeType = standardLFO
	engineNumber = 0
	engineNumberUpgrade = 0A
	engineName = Vekin
	engineNameUpgrade = Hobelar
	enginePartUpgradeName = vekinUpgrade
}

@PART[_Knes_H3_Engine_0625]:NEEDS[!CryoEngines]:AFTER[Knes] // KEREB-D "Olaf" Cryogenic Engine
{	
	@title = MT-7 "Morwenna" Liquid Fuel Engine 
	@TechRequired = basicRocketry
	
	@entryCost = 2000
	@cost *= 1
	
	// Need this to process first and will use this as the basis in which the balance hydrolox/metholox version
	@MODULE[ModuleEnginesFX]
	{
		!atmosphereCurve {} // Delete the original, OP in high pressure atmosphere
		atmosphereCurve
        {
            key = 0 290
            key = 1 213
			key = 6 0.001
        }
	}
	
	engineUpgradeType = standardLFO
	engineNumber = 7
	engineNumberUpgrade = 12A
	engineName = Morwenna
	engineNameUpgrade = Ysabelle
	enginePartUpgradeName = morwennaUpgrade
}

// Tier 2 - generalRocketry ; Stronger 0.625m engine and initial 1.25m engine
@PART[_Knes_Mireille_Engine_09375]:AFTER[Knes] // M-R6 "Mirabelle" Rocket Engine
{	
	@title = M-R6 "Mirabelle" Liquid Fuel Engine 
	@TechRequired = generalRocketry
	
	@entryCost = 3500
	@cost = 800
	
	@MODULE[ModuleEnginesFX]
	{
		@maxThrust = 65
		!atmosphereCurve {} // Delete the original, OP in high pressure atmosphere
		atmosphereCurve
        {
            key = 0 260
            key = 1 245
			key = 4 0.001
        }
	}
	
	engineUpgradeType = standardLFO
	engineNumber = R6
	engineNumberUpgrade = R6+
	engineName = Mirabelle
	engineNameUpgrade = Nausicaä
	enginePartUpgradeName = mirabelleUpgrade
}

@PART[_Knes_L3S_HM4_Engine]:NEEDS[!CryoEngines]:AFTER[Knes] // HM4 "Themis" Cryogenic Engine
{	
	@title = MT-23 "Chilawee" Liquid Fuel Engine
	@TechRequired = generalRocketry
	
	@entryCost = 2500
	@cost *= 1
	
	@MODULE[ModuleEnginesFX]
	{
		@maxThrust = 45 // Increase thrust
		!atmosphereCurve {} // Delete the original, OP in high pressure atmosphere
		atmosphereCurve
        {
            key = 0 295 // Decrease ISP
            key = 1 210
			key = 6 0.001
        }
	}
	
	engineUpgradeType = standardLFO
	engineNumber = 23
	engineNumberUpgrade = 23A
	engineName = Chilawee
	engineNameUpgrade = Chikanee
	enginePartUpgradeName = chilaweeUpgrade
}


@PART[_Knes_H2_Engine_09375]:NEEDS[!CryoEngines]:AFTER[Knes] // KEREB-D "Crinkle" Cryogenic Engine
{	
	@title = MT-17 "Bianca" Liquid Fuel Engine 
	@TechRequired = generalRocketry
	@entryCost = 2500
	@cost *= 1
	
	@MODULE[ModuleEnginesFX]
	{
		!atmosphereCurve {} // Delete the original, OP in high pressure atmosphere
		atmosphereCurve
        {
            key = 0 310
            key = 1 90
			key = 6 0.001
        }
	}
	
	engineUpgradeType = standardLFO
	engineNumber = 17
	engineNumberUpgrade = 17F
	engineName = Bianca
	engineNameUpgrade = Bernard
	enginePartUpgradeName = biancaUpgrade
}



// Tier 3 - advRocketry ; Intro of the 1.875m engine in Making History
@PART[_Knes_Diane_Engine_125]:AFTER[Knes] // M-R12 "Calypso" Rocket Engine
{	
	@title = M-R12 "Calypso" Liquid Fuel Engine 
	@TechRequired = advRocketry
	@entryCost = 5000
	@cost = 1500
	
	@MODULE[ModuleEnginesFX]
	{
		@maxThrust = 250
		!atmosphereCurve {} // Delete the original, OP in high pressure atmosphere
		atmosphereCurve
        {
            key = 0 280
            key = 1 255
			key = 4 0.001
        }
	}
	
	engineUpgradeType = standardLFO
	engineNumber = R12
	engineNumberUpgrade = R14
	engineName = Calypso
	engineNameUpgrade = Athena
	enginePartUpgradeName = calypsoUpgrade
}

@PART[_Knes_Cora_Engine_SL]:AFTER[Knes] // C-R12 "Penelope" Rocket Engine
{	
	@title = C-SL12 "Penelope" Liquid Fuel Engine 
	@TechRequired = advRocketry
	@entryCost = 4000
	@cost = 1000
	
	@MODULE[ModuleEnginesFX]
	{
		@maxThrust = 140.0
		!atmosphereCurve {} // Delete the original, OP in high pressure atmosphere
		atmosphereCurve
        {
            key = 0 280
            key = 1 260
			key = 4 0.001
        }
	}
	
	engineUpgradeType = standardLFO
	engineNumber = SL12
	engineNumberUpgrade = SSL9
	engineName = Penelope
	engineNameUpgrade = Helen
	enginePartUpgradeName = penelope2Upgrade
}

@PART[_Knes_Cora_Engine_1]:AFTER[Knes] // C-R12 "Penelope" Rocket Engine
{	
	@title = C-R12 "Penelope" Liquid Fuel Engine 
	@TechRequired = advRocketry
	
	@entryCost = 4000
	@cost = 1000
	
	@MODULE[ModuleEnginesFX]
	{
		!atmosphereCurve {} // Delete the original, OP in high pressure atmosphere
		atmosphereCurve
        {
            key = 0 305
            key = 1 285
			key = 4 0.001
        }
	}
	
	engineUpgradeType = standardLFO
	engineNumber = R12
	engineNumberUpgrade = S9
	engineName = Penelope
	engineNameUpgrade = Helen
	enginePartUpgradeName = penelopeUpgrade
}

@PART[_Knes_Diamant_Engine_09375]:AFTER[Knes] // KEREB-D "Riotous" Engine
{
	// Need this to process first
	
}

@PART[_Knes_Diamant_Engine_09375]:AFTER[Knes] // KEREB-D "Riotous" Engine
{	
	@title = AR-2 "Winesap" Liquid Fuel Engine 
	@TechRequired = advRocketry
	@entryCost = 5000
	@cost *= 1
	@MODULE[ModuleEnginesFX]
	{
		!atmosphereCurve {} // Delete the original, OP in high pressure atmosphere
		atmosphereCurve
        {
            key = 0 250
            key = 1 213
			key = 4 0.001
        }
	}
	
	engineUpgradeType = standardLFO
	engineNumber = 2
	engineNumberUpgrade = 2A
	engineName = Winesap
	engineNameUpgrade = Honeycrisp
	enginePartUpgradeName = winesapUpgrade
}

@PART[Knes_Engine_Zebulon]:AFTER[Knes] // HM7 "Zebulon" Liquid Fuel Engine
{	
	@TechRequired = advRocketry
	@entryCost = 5000
	@cost *= 1
	
	engineUpgradeType = standardLFO
	engineNumber = 7
	engineNumberUpgrade = 7Q
	engineName = Zebulon
	engineNameUpgrade = Reuben
	enginePartUpgradeName = zebulonUpgrade
}

@PART[_Knes_L3S_Engine_Viking5]:AFTER[Knes] // L3S "Viking 5" Liquid Fuel Engine
{	
	@TechRequired = advRocketry
	@entryCost = 7500
	@cost = 1456
	
	engineUpgradeType = standardLFO
	engineNumber = L3S
	engineNumberUpgrade = L3S-Mk2
	engineName = Viking 5
	engineNameUpgrade = Viking 5X
	enginePartUpgradeName = viking5Upgrade
}

// Tier 4 - heavyRocketry Heavy Rocketry, Intro of 2.5m engines
@PART[_Knes_L3S_L33_Engine]:AFTER[Knes] // L33 "Byrding" Liquid Fuel Engine
{	
	@TechRequired = heavyRocketry
	@entryCost = 18000
	@cost = 3900
	
	engineUpgradeType = standardLFO
	engineNumber = 33
	engineNumberUpgrade = 33J
	engineName = Byrding
	engineNameUpgrade = Knarr
	enginePartUpgradeName = byrdingUpgrade
}

// Tier 5 - heavierRocketry Heavier Rocketry
@PART[_Knes_Catherine_Stage_1875]:AFTER[Knes] // Heracles "Arcas" Stage
{	
	@title = L-20 "Arcas" Liquid Fuel Engine Cluster
	@TechRequired = heavierRocketry
	@entryCost = 10000
	@cost += 2000
	@MODULE[ModuleEnginesFX]
	{
		!atmosphereCurve {}
		atmosphereCurve
        {
			key = 0 300
			key = 1 280
			key = 6 0.001
		}
	}
	
	engineUpgradeType = standardLFO
	engineNumber = 20
	engineNumberUpgrade = 24
	engineName = Arcas
	engineNameUpgrade = Erato
	enginePartUpgradeName = arcasUpgrade
}

@PART[_Knes_L3S_PAL]:AFTER[Knes] // Ariane "Drako" PAL Booster
{	
	@title = L-35 "Drako" Liquid Fuel Engine
	@TechRequired = heavierRocketry
	@entryCost = 10000
	@cost += 2000
	@MODULE[ModuleEnginesFX]
	{
		@maxThrust = 295
		!atmosphereCurve {}
		atmosphereCurve
        {
			key = 0 274
			key = 1 246
			key = 6 0.001
		}
	}
	
	engineUpgradeType = standardLFO
	engineNumber = 35
	engineNumberUpgrade = 41
	engineName = Drako
	engineNameUpgrade = Tatsu
	enginePartUpgradeName = drakoUpgrade
}

@PART[_Knes_L3S_L3S_HM60_Engine]:AFTER[Knes] // HM60 "Themis" Liquid Fuel Engine
{	
	@mass = 2.0 // A bit heavier
	@TechRequired = heavierRocketry
	@entryCost = 25000
	@cost = 5600
	
	engineUpgradeType = standardLFO
	engineNumber = 60
	engineNumberUpgrade = 62B
	engineName = Themis
	engineNameUpgrade = Oracle
	enginePartUpgradeName = themisUpgrade
}

// Tier 6 - evenHeavierRocketry Even Heavier Rocketry Intro of 3.75m engines
@PART[_Knes_L3S_L140]:AFTER[Knes] // Ariane L-140 "Drakkar" Stage Fuel Engine
{	
	@title = L-140 "Drakkar" Liquid Fuel Engine Cluster
	@TechRequired = evenHeavierRocketry
	@entryCost = 27000
	@cost += 2000
	
	@MODULE[ModuleEnginesFX]
	{
		!atmosphereCurve {}
		atmosphereCurve
        {
			key = 0 295
			key = 1 275
			key = 6 0.001
		}
	}
	
	engineUpgradeType = standardLFO
	engineNumber = 140
	engineNumberUpgrade = 145
	engineName = Drakkar
	engineNameUpgrade = Kvalsund
	enginePartUpgradeName = drakkarUpgrade
}

@PART[_Knes_L3S_L220]:AFTER[Knes] // Ariane L-220 "Valkyrie" Stage
{	
	@title = L-220 "Valkyrie" Liquid Fuel Engine Cluster
	@TechRequired = evenHeavierRocketry
	@entryCost = 35000
	@cost += 4000
	@MODULE[ModuleEnginesFX]
	{
		@maxThrust = 960
		!atmosphereCurve {}
		atmosphereCurve
        {
			key = 0 300
			key = 1 280
			key = 6 0.001
		}
	}
	
	engineUpgradeType = standardLFO
	engineNumber = 220
	engineNumberUpgrade = 229A
	engineName = Valkyrie
	engineNameUpgrade = Höðr
	enginePartUpgradeName = knesvalkyrieUpgrade
}


@PART[_Knes_L3S_L220N]:AFTER[Knes] // Ariane L-220N "Ragnarok" Stage
{	
	@title = L-220N "Ragnarok" Liquid Fuel Engine Cluster
	@TechRequired = evenHeavierRocketry
	@entryCost = 35000
	@cost += 4000
	@MODULE[ModuleEnginesFX]
	{
		@maxThrust = 960
		!atmosphereCurve {}
		atmosphereCurve
        {
			key = 0 300
			key = 1 280
			key = 6 0.001
		}
	}
	
	engineUpgradeType = standardLFO
	engineNumber = 220
	engineNumberUpgrade = 229A
	engineName = Ragnarok
	engineNameUpgrade = Nehalennia
	enginePartUpgradeName = ragnarokUpgrade
}

// Tier 7 - veryHeavyRocketry Very Heavy Rocketry
@PART[Knes_Engine_Vulcain]:AFTER[Knes] // Ariane 5 "Vulcain" Liquid Fuel Engine
{	
	@title = AR-75 "Vulcain" Liquid Fuel Engine 
	@TechRequired = veryHeavyRocketry
	
	@entryCost *= 3
	@cost *= 3
	
	engineUpgradeType = standardLFO
	engineNumber = 75
	engineNumberUpgrade = 75Q
	engineName = Vulcain
	engineNameUpgrade = Minervain
	enginePartUpgradeName = vulcainUpgrade
}

@PART[Knes_Engine_EPS]:AFTER[Knes] // RS-72 "Aestus" Liquid Fuel Engine
{	
	@title = RS-72 "Aestus" Liquid Fuel Engine 
	@TechRequired = veryHeavyRocketry
	@entryCost *= 10
	@cost *= 1.5
	
	engineUpgradeType = standardLFO
	engineNumber = 72
	engineNumberUpgrade = 73
	engineName = Aestus
	engineNameUpgrade = Quickus
	enginePartUpgradeName = aestusUpgrade
}

// Tier 8 - experimentalRocketry Experimental Rocketry

// Tier 9 - giganticRocketry

// Tier 10 - colossalRocketry


// ***** Liquid Hydrogen / Liquid Methane ***** \\

// Tier 0 - start, just the small jet engine to allow for the aeronautics branch

// Tier 1 - basicCryoRocketry , a basic 0.625m engine that helps get us off the ground

// Tier 2 - generalCryoRocketry ; Stronger 0.625m engine and initial 1.25m engine

// Tier 3 - advancedCryoRocketry ; Intro of the 1.875m engine in Making History

// Tier 4 - heavyCryoRocketry Heavy Rocketry, Intro of 2.5m engines

// Tier 5 - heavierCryoRocketry Heavier Rocketry

// Tier 6 - evenHeavierCryoRocketry Even Heavier Rocketry Intro of 3.75m engines

// Tier 7 - veryHeavyCryoRocketry Very Heavy Rocketry

// Tier 8 - experimentalCryoRocketry Experimental Rocketry

// Tier 9 - giganticCryoRocketry

// Tier 10 - colossalCryoRocketry


// ***** Speciality Liquid Fuel/Mono Engines ***** \\

// Tier 4 - propulsionSystems
@PART[_Knes_Diamant_Aileron_B]:AFTER[Knes] // KEREB-D "Reactionary" Fin
{	
	@title = KR-AQ2 "Reactionary" Fin
	@TechRequired = propulsionSystems
	@entryCost *= 2
	@cost *= 2
	engineUpgradeType = standardLFO
	engineNumber = AQ2
	engineNumberUpgrade = AQ3
	engineName = Reactionary
	engineNameUpgrade = Reactionary 2
	enginePartUpgradeName = reactionaryUpgrade

}
@PART[_Knes_L3S_H8_Separatron]:AFTER[Knes]
{
	@TechRequired = propulsionSystems
	@MODULE[ModuleEnginesFX]
	{
		@maxThrust = 5.0 // halve the max thrust and add it a bit earlier so we get some variety.
	}
}

// Tier 5 - precisionPropulsion
@PART[_Knes_L3S_L33_Separatron]:AFTER[Knes]
{
	@TechRequired = precisionPropulsion
}

@PART[_Knes_Utility_Adapter_09375_0625]:AFTER[Knes]
{
	
}
@PART[_Knes_Utility_Adapter_09375_0625]:AFTER[Knes]
{
	@TechRequired = precisionPropulsion
	@MODULE[ModuleEnginesFX]
	{
		!atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 290
			key = 1 150
			key = 6 0.001
		}
	}
	@title ^= :Racoon:Raccoon:
	
	engineUpgradeType = standardLFO
	engineNumber = 7
	engineNumberUpgrade = 8
	engineName = Raccoon
	engineNameUpgrade = Beaver
	enginePartUpgradeName = raccoonUpgrade
}


@PART[Knes_Service_Module_Viking_09375]:AFTER[Knes]
{
	
}
@PART[Knes_Service_Module_Viking_09375]:AFTER[Knes]
{
	@TechRequired = precisionPropulsion
	@MODULE[ModuleEnginesFX]
	{
		!atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 290
			key = 1 150
			key = 6 0.001
		}
	}
	@MODULE[ModuleEnginesRCSFX]
	{
		!atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 260
			key = 1 150
			key = 6 0.001
		}
	}
	@RESOURCE[MonoPropellant]
	{
		@amount = 25
		@maxAmount = 25
	}
	
	engineUpgradeType = standardLFO
	engineNumber = 09
	engineNumberUpgrade = 12
	engineName = Viking
	engineNameUpgrade = Packer
	enginePartUpgradeName = vikingSMUpgrade
	
}

@PART[Knes_MonoProp_Engine_srf]:AFTER[Knes]
{
	@title = Mk-11 "Æsir" MonoPropellant Engine
	@TechRequired = precisionPropulsion
	@entryCost = 1000
	@MODULE[ModuleEnginesFX]
	{
		!atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 290 // 340 seems a bit high
			key = 1 130
			key = 6 0.001
		}
	}
	
	engineUpgradeType = standardMono
	engineNumber = 31
	engineNumberUpgrade = 31A
	engineName = Æsir
	engineNameUpgrade = Týr
	enginePartUpgradeName = asirUpgrade
}


@PART[_Knes_MonoProp_Engine_1]:AFTER[Knes]
{
	@TechRequired = precisionPropulsion
	@MODULE[ModuleEnginesFX]
	{
		!atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 295 // 340 seems a bit high
			key = 1 130
			key = 6 0.001
		}
	}
	@RESOURCE[MonoPropellant]
	{
		@amount = 9
		@maxAmount = 9
	}
	@title ^= :Monoprop:MonoPropellant:
	@title ^= :Themis:Mnemosyne:
	
	engineUpgradeType = standardMono
	engineNumber = 31
	engineNumberUpgrade = 31A
	engineName = Mnemosyne
	engineNameUpgrade = Moneta
	enginePartUpgradeName = mnemosyneUpgrade
}


@PART[_Knes_MonoProp_Engine_2]:AFTER[Knes]
{
	
}
@PART[_Knes_MonoProp_Engine_2]:AFTER[Knes]
{
	@title ^= :Monoprop:MonoPropellant:
	@TechRequired = precisionPropulsion
	@MODULE[ModuleEnginesFX]
	{
		!atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 290 // 340 seems a bit high
			key = 1 130
			key = 6 0.001
		}
	}
	@RESOURCE[MonoPropellant]
	{
		@amount = 9
		@maxAmount = 9
	}
	
	engineUpgradeType = standardMono
	engineNumber = 31
	engineNumberUpgrade = 31A
	engineName = Artemis
	engineNameUpgrade = Diana
	enginePartUpgradeName = knesartemisUpgrade
}


// Tier 6 - experimentalPropulsion
@PART[Knes_Hermes_Engine_Mk91]:AFTER[Knes]
{
	@title ^= :Monoprop:MonoPropellant:
	@entryCost = 3500
	@cost = 450
	@TechRequired = experimentalPropulsion
	@MODULE[ModuleEnginesFX]
	{
		!atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 295 // 340 seems a bit high
			key = 1 190
			key = 6 0.001
		}
	}
	@RESOURCE[MonoPropellant] // Add a bit more MonoPropellant to help "balance" part given the decrease ISP
	{
		@amount = 15
		@maxAmount = 15
	}
	engineUpgradeType = standardMono
	engineNumber = 91
	engineNumberUpgrade = 92R
	engineName = Callisto
	engineNameUpgrade = Actaeon
	enginePartUpgradeName = callistoUpgrade
}

// Tier 7 - exoticPropulsion or ionPropulsion

// Tier 8 - advIonPropulsion or aBitMoreExoticPropulsion

// Tier 9 - plasmaPropulsion or advGriddedThrusters or expAircraftEngines

// Tier 10 - advEMSystems or expGriddedThrusters or hybridAircraftEngines

// Tier 11 - specializedPlasmaGeneration or exoticGriddedThrusters

// Tier 12 - exoticPlasmaPropulsion


// Knes and BetterSRBs pass runs later as Knes has an AFTER[Knes] patch that modifies booster thrust behaviour
// ***** Solid Rocket Boosters ***** \\

// Tier 0 - start
// Good starting solid rocket to get off ground, barely
@PART[_Knes_Booster_P03]:NEEDS[!CNAR]:AFTER[Knes] // KEREB-D "Hector" PO3 Booster
{	
	@title = P-3 "Anubis" Solid Fuel Booster
	@TechRequired = start
}
@PART[_Knes_Booster_P03]:NEEDS[CNAR]:AFTER[Knes] // KEREB-D "Hector" PO3 Booster
{	
	@title = P-3 "Anubis" Solid Fuel Booster
	@TechRequired = soundingRockets
}

@PART[_Knes_Booster_P03]:NEEDS[BetterSRBs,Knes]:FOR[zKiwiTechTree]
{	
	@description ^= :105% to 50% regressive thrust curve: :
	@description ^= :105% to 66% regressive thrust curve: :
	BetterSRBsTag = True
	@MODULE[ModuleEngines*]
	{
		maxThrust01 = #$maxThrust$
		@maxThrust01 *= 0.8 
		maxThrust02 = #$maxThrust$
		@maxThrust02 *= 1.2 
		!atmosphereCurve{}
		atmosphereCurve
		{
			key = 0 230
			key = 1 200
			key = 10.6 0.001
		}
		useThrustCurve = true
		!thrustCurve {} // Get rid of the existing
		thrustCurve
		{
			key = 0 0.1 0 35
			key = 0.03 0.801 0.76 0.76
			key = 0.61 1.2418 0.76 -0.62
			key = 1 1 -0.62 0
		}
	}
	MODULE
	{
		name = ModuleTweakMaxResource
		resourceName = SolidFuel
	}
}

@PART[_Knes_Diamant_Booster_P064_0625]:AFTER[Knes] // KEREB-D "Mutineer" Booster
{	
	@title = P-6-4 "Hathor" Solid Fuel Booster
	@TechRequired = start
}

@PART[_Knes_Diamant_Booster_P064_0625]:NEEDS[CNAR]:AFTER[Knes] // KEREB-D "Mutineer" Booster with CNAR
{
	@TechRequired = soundingRockets
}

@PART[_Knes_Diamant_Booster_P064_0625]:NEEDS[BetterSRBs,Knes]:FOR[zKiwiTechTree]
{	
	@description ^= :105% to 50% regressive thrust curve: :
	@description ^= :105% to 66% regressive thrust curve: :
	BetterSRBsTag = True
	@MODULE[ModuleEngines*]
	{
		maxThrust01 = #$maxThrust$
		@maxThrust01 *= 0.8 
		maxThrust02 = #$maxThrust$
		@maxThrust02 *= 1.2 
		!atmosphereCurve{}
		atmosphereCurve
		{
			key = 0 280
			key = 1 220
			key = 10.6 0.001
		}
		useThrustCurve = true
		!thrustCurve {} // Get rid of the existing
		thrustCurve
		{
			key = 0 0.1 0 35
			key = 0.03 0.801 0.76 0.76
			key = 0.61 1.2418 0.76 -0.62
			key = 1 1 -0.62 0
		}
	}
	MODULE
	{
		name = ModuleTweakMaxResource
		resourceName = SolidFuel
	}
}


// Tier 1, soundingRockets - looking at just a slightly more powerful 0.625m part
@PART[_Knes_DiamantBP4_Booster_Rita_09375]:AFTER[Knes] // KEREB-D "Obelix" Booster
{	
	@title = P-1 "Osiris" Solid Fuel Booster
	@TechRequired = soundingRockets
}

@PART[_Knes_DiamantBP4_Booster_Rita_09375]:NEEDS[BetterSRBs,Knes]:FOR[zKiwiTechTree]
{	
	@description ^= :105% to 50% regressive thrust curve: :
	@description ^= :105% to 66% regressive thrust curve: :
	BetterSRBsTag = True
	@MODULE[ModuleEngines*]
	{
		maxThrust01 = #$maxThrust$
		@maxThrust01 *= 0.8 
		maxThrust02 = #$maxThrust$
		@maxThrust02 *= 1.2 
		!atmosphereCurve{}
		atmosphereCurve
		{
			key = 0 280
			key = 1 220
			key = 10.6 0.001
		}
		useThrustCurve = true
		!thrustCurve {} // Get rid of the existing
		thrustCurve
		{
			key = 0 0.1 0 35
			key = 0.03 0.801 0.76 0.76
			key = 0.61 1.2418 0.76 -0.62
			key = 1 1 -0.62 0
		}
	}
	MODULE
	{
		name = ModuleTweakMaxResource
		resourceName = SolidFuel
	}
}




@PART[_Knes_Topaze_Booster_0625]:AFTER[Knes] // KEREB-D "Insurgent" Booster
{	
	@title = P-2 "Thoth" Solid Fuel Booster
	@TechRequired = soundingRockets
}

@PART[_Knes_Topaze_Booster_0625]:NEEDS[BetterSRBs,Knes]:FOR[zKiwiTechTree]
{	
	@description ^= :105% to 50% regressive thrust curve: :
	@description ^= :105% to 66% regressive thrust curve: :
	BetterSRBsTag = True
	@MODULE[ModuleEngines*]
	{
		maxThrust01 = #$maxThrust$
		@maxThrust01 *= 0.8 
		maxThrust02 = #$maxThrust$
		@maxThrust02 *= 1.2 
		!atmosphereCurve{}
		atmosphereCurve
		{
			key = 0 265
			key = 1 240
			key = 10.6 0.001
		}
		useThrustCurve = true
		!thrustCurve {} // Get rid of the existing
		thrustCurve
		{
			key = 0 0.1 0 35
			key = 0.03 0.801 0.76 0.76
			key = 0.61 1.2418 0.76 -0.62
			key = 1 1 -0.62 0
		}
	}
	MODULE
	{
		name = ModuleTweakMaxResource
		resourceName = SolidFuel
	}
}

// Tier 2, tinyBoosters - Introduce a 1.25m SRB
@PART[_Knes_Diamant2_Booster_Rita2_9375]:AFTER[Knes] // KEREB-D "Stocky" Booster
{	
	@title = P-5 "Horus" Solid Fuel Booster
	@TechRequired = tinyBoosters
}

@PART[_Knes_Diamant2_Booster_Rita2_9375]:NEEDS[BetterSRBs,Knes]:FOR[zKiwiTechTree]
{	
	@description ^= :105% to 50% regressive thrust curve: :
	@description ^= :105% to 66% regressive thrust curve: :
	BetterSRBsTag = True
	@MODULE[ModuleEngines*]
	{
		maxThrust01 = #$maxThrust$
		@maxThrust01 *= 0.8 
		maxThrust02 = #$maxThrust$
		@maxThrust02 *= 1.2 
		!atmosphereCurve{}
		atmosphereCurve
		{
			key = 0 265
			key = 1 240
			key = 10.6 0.001
		}
		useThrustCurve = true
		!thrustCurve {} // Get rid of the existing
		thrustCurve
		{
			key = 0 0.1 0 35
			key = 0.03 0.801 0.76 0.76
			key = 0.61 1.2418 0.76 -0.62
			key = 1 1 -0.62 0
		}
	}
	MODULE
	{
		name = ModuleTweakMaxResource
		resourceName = SolidFuel
	}
}


@PART[_Knes_Diamant2_Booster_P10_9375]:AFTER[Knes] // KEREB-D "Dumby" Booster
{	
	@title = P-10 "Re" Solid Fuel Booster
	@TechRequired = tinyBoosters
}

@PART[_Knes_Diamant2_Booster_P10_9375]:NEEDS[BetterSRBs]:AFTER[Knes]
{	
	@description ^= :105% to 50% regressive thrust curve: :
	@description ^= :105% to 66% regressive thrust curve: :
	BetterSRBsTag = True
	@MODULE[ModuleEngines*]
	{
		maxThrust01 = #$maxThrust$
		@maxThrust01 *= 0.8 
		maxThrust02 = #$maxThrust$
		@maxThrust02 *= 1.2 
		!atmosphereCurve{}
		atmosphereCurve
		{
			key = 0 265
			key = 1 240
			key = 10.6 0.001
		}
		useThrustCurve = true
		!thrustCurve {} // Get rid of the existing
		thrustCurve
		{
			key = 0 0.1 0 35
			key = 0.03 0.801 0.76 0.76
			key = 0.61 1.2418 0.76 -0.62
			key = 1 1 -0.62 0
		}
	}
	MODULE
	{
		name = ModuleTweakMaxResource
		resourceName = SolidFuel
	}
}

@PART[_Knes_L3S_PAP]:AFTER[Knes] // KEREB-D "Pollux" PAP Booster
{	
	@title = P-13 "Menhit" Solid Fuel Booster
	@TechRequired = tinyBoosters
}

@PART[_Knes_L3S_PAP]:NEEDS[BetterSRBs,Knes]:FOR[zKiwiTechTree]
{	
	@description ^= :105% to 50% regressive thrust curve: :
	@description ^= :105% to 66% regressive thrust curve: :
	BetterSRBsTag = True
	@MODULE[ModuleEngines*]
	{
		maxThrust01 = #$maxThrust$
		@maxThrust01 *= 0.8 
		maxThrust02 = #$maxThrust$
		@maxThrust02 *= 1.2 
		!atmosphereCurve{}
		atmosphereCurve
		{
			key = 0 265
			key = 1 240
			key = 10.6 0.001
		}
		useThrustCurve = true
		!thrustCurve {} // Get rid of the existing
		thrustCurve
		{
			key = 0 0.1 0 35
			key = 0.03 0.801 0.76 0.76
			key = 0.61 1.2418 0.76 -0.62
			key = 1 1 -0.62 0
		}
	}
	MODULE
	{
		name = ModuleTweakMaxResource
		resourceName = SolidFuel
	}
}

// Tier 3, smallBoosters - Some more powerful 1.25m SRB
@PART[_Knes_Diamant2_Booster_P16_9375]:AFTER[Knes] // KEREB-D "Chunky" Booster
{	
	@title = P-16 "Ptah" Solid Fuel Booster
	@TechRequired = smallBoosters
}

@PART[_Knes_Diamant2_Booster_P16_9375]:NEEDS[BetterSRBs,Knes]:FOR[zKiwiTechTree]
{	
	@description ^= :105% to 50% regressive thrust curve: :
	@description ^= :105% to 66% regressive thrust curve: :
	BetterSRBsTag = True
	@MODULE[ModuleEngines*]
	{
		maxThrust01 = #$maxThrust$
		@maxThrust01 *= 0.8 
		maxThrust02 = #$maxThrust$
		@maxThrust02 *= 1.2 
		!atmosphereCurve{}
		atmosphereCurve
		{
			key = 0 265
			key = 1 240
			key = 10.6 0.001
		}
		useThrustCurve = true
		!thrustCurve {} // Get rid of the existing
		thrustCurve
		{
			key = 0 0.1 0 35
			key = 0.03 0.801 0.76 0.76
			key = 0.61 1.2418 0.76 -0.62
			key = 1 1 -0.62 0
		}
	}
	MODULE
	{
		name = ModuleTweakMaxResource
		resourceName = SolidFuel
	}
}

@PART[Knes_Booster_P35]:AFTER[Knes] // P35
{	
	@title = P-35 "Amon" Solid Fuel Booster 
	@TechRequired = smallBoosters
}

@PART[Knes_Booster_P35]:NEEDS[BetterSRBs,Knes]:FOR[zKiwiTechTree]
{	
	BetterSRBsTag = True
	@MODULE[ModuleEngines*]
	{
		maxThrust01 = #$maxThrust$
		@maxThrust01 *= 0.8 
		maxThrust02 = #$maxThrust$
		@maxThrust02 *= 1.2 
		!atmosphereCurve{}
		atmosphereCurve
		{
			key = 0 258
			key = 1 235
			key = 10.6 0.001
		}
		useThrustCurve = true
		thrustCurve
		{
			key = 0 0.1 0 35
			key = 0.03 0.801 0.76 0.76
			key = 0.61 1.2418 0.76 -0.62
			key = 1 1 -0.62 0
		}
	}
	MODULE
	{
		name = ModuleTweakMaxResource
		resourceName = SolidFuel
	}
}

@PART[_Knes_L3S_P40]:AFTER[Knes] // P40
{	
	@title = P-40 "Sopdu" Solid Fuel Booster 
	@TechRequired = smallBoosters
}

@PART[_Knes_L3S_P40]:NEEDS[BetterSRBs,Knes]:FOR[zKiwiTechTree]
{	
	BetterSRBsTag = True
	@MODULE[ModuleEngines*]
	{
		maxThrust01 = #$maxThrust$
		@maxThrust01 *= 0.8 
		maxThrust02 = #$maxThrust$
		@maxThrust02 *= 1.2 
		!atmosphereCurve{}
		atmosphereCurve
		{
			key = 0 258
			key = 1 235
			key = 10.6 0.001
		}
		useThrustCurve = true
		thrustCurve
		{
			key = 0 0.1 0 35
			key = 0.03 0.801 0.76 0.76
			key = 0.61 1.2418 0.76 -0.62
			key = 1 1 -0.62 0
		}
	}
	MODULE
	{
		name = ModuleTweakMaxResource
		resourceName = SolidFuel
	}
}



// Tier 4, mediumBoosters - Intro of a solid 1.875 m booster found within Missing History Patch

@PART[Knes_Booster_P80]:AFTER[Knes] // P80
{	
	@title = P-80 "Bastet" Solid Fuel Booster 
	@TechRequired = mediumBoosters
	@entryCost = 7500
}

@PART[Knes_Booster_P80]:NEEDS[BetterSRBs,Knes]:FOR[zKiwiTechTree]
{	
	BetterSRBsTag = True
	@MODULE[ModuleEngines*]
	{
		maxThrust01 = #$maxThrust$
		@maxThrust01 *= 0.8 
		maxThrust02 = #$maxThrust$
		@maxThrust02 *= 1.2 
		!atmosphereCurve{}
		atmosphereCurve
		{
			key = 0 258
			key = 1 235
			key = 10.6 0.001
		}
		useThrustCurve = true
		thrustCurve
		{
			key = 0 0.1 0 35
			key = 0.03 0.801 0.76 0.76
			key = 0.61 1.2418 0.76 -0.62
			key = 1 1 -0.62 0
		}
	}
	MODULE
	{
		name = ModuleTweakMaxResource
		resourceName = SolidFuel
	}
}

// Tier 5, largeBoosters - 2.5m booster


// Tier 6, largerBoosters - Pollux from Making History makes this branch
@PART[Knes_Booster_EAP]:AFTER[Knes] // Ariane 5 "EAP" Solid Fuel Booster // Scale comparison with the Ram suggests it should have 50% more solid fuel
{	
	@title = P-90 "EAP" Solid Fuel Booster 
	@TechRequired = largeBoosters
	@RESOURCE[SolidFuel]
	{
		@amount = 6800
		@maxAmount = 6800
	}
	@cost = 6000
	@entryCost = 15000
}

@PART[Knes_Booster_EAP]:NEEDS[BetterSRBs,Knes]:FOR[zKiwiTechTree]
{	
	BetterSRBsTag = True
	@MODULE[ModuleEngines*]
	{
		@maxThrust = 2700
		maxThrust01 = #$maxThrust$
		@maxThrust01 *= 0.8 
		maxThrust02 = #$maxThrust$
		@maxThrust02 *= 1.2 
		!atmosphereCurve{}
		atmosphereCurve
		{
			key = 0 258
			key = 1 235
			key = 10.6 0.001
		}
		useThrustCurve = true
		thrustCurve
		{
			key = 0 0.1 0 35
			key = 0.03 0.801 0.76 0.76
			key = 0.61 1.2418 0.76 -0.62
			key = 1 1 -0.62 0
		}
	}
	MODULE
	{
		name = ModuleTweakMaxResource
		resourceName = SolidFuel
	}
}

// Tier 7 - hugeBoosters
@PART[_Knes_L3S_P120C]:AFTER[Knes] // P80
{	
	@title = P-120C "Sekhmet" Solid Fuel Booster 
	@TechRequired = hugeBoosters
}

@PART[_Knes_L3S_P120C]:NEEDS[BetterSRBs,Knes]:FOR[zKiwiTechTree]
{	
	BetterSRBsTag = True
	@MODULE[ModuleEngines*]
	{
		maxThrust01 = #$maxThrust$
		@maxThrust01 *= 0.8 
		maxThrust02 = #$maxThrust$
		@maxThrust02 *= 1.2 
		!atmosphereCurve{}
		atmosphereCurve
		{
			key = 0 258
			key = 1 235
			key = 10.6 0.001
		}
		useThrustCurve = true
		thrustCurve
		{
			key = 0 0.1 0 35
			key = 0.03 0.801 0.76 0.76
			key = 0.61 1.2418 0.76 -0.62
			key = 1 1 -0.62 0
		}
	}
	MODULE
	{
		name = ModuleTweakMaxResource
		resourceName = SolidFuel
	}
}

@PART[_Knes_L3S_P120E]:AFTER[Knes] // P80
{	
	@title = P-120E "Ra" Solid Fuel Booster 
	@TechRequired = hugeBoosters
}

@PART[_Knes_L3S_P120E]:NEEDS[BetterSRBs,Knes]:FOR[zKiwiTechTree]
{	
	BetterSRBsTag = True
	@MODULE[ModuleEngines*]
	{
		maxThrust01 = #$maxThrust$
		@maxThrust01 *= 0.8 
		maxThrust02 = #$maxThrust$
		@maxThrust02 *= 1.2 
		!atmosphereCurve{}
		atmosphereCurve
		{
			key = 0 258
			key = 1 235
			key = 10.6 0.001
		}
		useThrustCurve = true
		thrustCurve
		{
			key = 0 0.1 0 35
			key = 0.03 0.801 0.76 0.76
			key = 0.61 1.2418 0.76 -0.62
			key = 1 1 -0.62 0
		}
	}
	MODULE
	{
		name = ModuleTweakMaxResource
		resourceName = SolidFuel
	}
}

// Tier 8 - gargantuanBoosters


// ***** Thermals ***** \\

// Tier 0 - start

// Tier 1 - engineering101

// Tier 2 - science201

// Tier 3 - batteryTech
@PART[Knes_Heatshield_09375]:AFTER[Knes]
{	
	@TechRequired = batteryTech
}

// Tier 4 - electrics

// Tier 5 - heatManagementSystems
@PART[_Knes_mrk_HeatSheild]:AFTER[Knes]
{	
	@TechRequired = heatManagementSystems
}

// Tier 6 - intermediateHeatManagement

// Tier 7 - advHeatManagement

// Tier 8 - experimentalHeatManagement

// Tier 9 - specializedRadiators
