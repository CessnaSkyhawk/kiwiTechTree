// Kiwi's Tech Tree Overhaul - RCS Upgrade Settings Patch
// Version 2.0
// Created 16 January 2021 for KSP 1.11.1
// Last Updated: 19 July 2021 for KSP 1.12.1
// 19 July 2021: Moved RCS upgrades here; Added support for parts with two RCSFX modules (curses BDB...)
// Borrows heavily from Rational Resources code from JadeOfMaar
// Primary Switch Thrust Multipliers and ISPs based off discussions with Clamp-O-Tron and Spaceman.Spiff.


PARTUPGRADE
{
	type = rcs
	name = rcs1Upgrade
	partIcon = RCSBlock_v2
	techRequired = specializedControl
	entryCost = 50000
	cost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.
	title = RCS Fuel Upgrade
	basicInfo = More Fuel Types
	manufacturer = Kiwi Imagineers
	description = Our imagineers dreamt about making RCS thrusters fuelier have "made it so".
}

// Tier 6 - experimentalControl

// Tier 7 - exoticControl
PARTUPGRADE
{
	type = rcs
	name = rcs2Upgrade
	partIcon = RCSBlock_v2
	techRequired = exoticControl
	entryCost = 50000
	cost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.
	title = RCS Fuel Upgrade 2
	basicInfo = More Fuel Types
	manufacturer = Kiwi Imagineers
	description = Our imagineers dreamt about making RCS thrusters even more fuelier have "made it so".
}



//Delete any competing Fuel Switch for compatibility
@PART[*]:HAS[@MODULE[ModuleRCSFX]:HAS[#resourceName[MonoPropellant]],MODULE[ModuleB9PartSwitch]:HAS[#moduleID[RCS]],~rcsUpgrade[off]]:NEEDS[B9PartSwitch]:LAST[zzKiwiTechTree]
{
	!MODULE[ModuleB9PartSwitch]:HAS[#moduleID[RCS]] {}
}
	