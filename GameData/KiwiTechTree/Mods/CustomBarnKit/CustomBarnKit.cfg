// Kiwi's Tech Tree Overhaul (CustomBarnKit Patch)
// Version 2.0
// Created: 27 September 2020 for KSP 1.9.1
// Last Updated: 17 July 2021
// 25 October 2020: Increased the part count a bit more and improved the NEEDS pass for Sigma Dimensions
// 26 October 2020: Changed KiwiAerospace to KiwiTechTree
// 19 November 2020: Better support for Bureaucracy
// 17 July 2021: Fixed typo for SigDim courtesy of Tony48.
// Originally borrowed from Unkerballed Start 1.2.0 courtesy of theonegalen

@CUSTOMBARNKIT:FOR[KiwiTechTree]:NEEDS[!Bureaucracy,!SigDim,!JNSQ]
{
	@VAB
	{
		@partCountLimit = 46, 255, -1
	}
	@SPH
	{
		@partCountLimit = 46, 255, -1
	}
}

// Allow more parts if JNSQ or Sigma Dimensions is installed to account for the larger planet radius, so it isn't overly grindy to get into orbit.

@CUSTOMBARNKIT:FOR[KiwiTechTree]:NEEDS[!Bureaucracy,SigDim]
{
	@VAB
	{
		@partCountLimit = 72, 255, -1
	}
	@SPH
	{
		@partCountLimit = 72, 255, -1
	}
}

@CUSTOMBARNKIT:FOR[KiwiTechTree]:NEEDS[!Bureaucracy,JNSQ]
{
	@VAB
	{
		@partCountLimit = 72, 255, -1
	}
	@SPH
	{
		@partCountLimit = 72, 255, -1
	}
}

@CUSTOMBARNKIT:FOR[KiwiTechTree]:NEEDS[Bureaucracy,!SigDim,!JNSQ]
{
    @VAB
    {
        @partCountLimit = 46, 64, 128, 256, -1
    }

    @SPH
    {
        @partCountLimit = 46, 64, 128, 256, -1
    }
}

@CUSTOMBARNKIT:FOR[KiwiTechTree]:NEEDS[Bureaucracy,SigDim,!JNSQ]
{
    @VAB
    {
        @partCountLimit = 70, 140, 210, 280, -1
    }

    @SPH
    {
        @partCountLimit = 70, 140, 210, 280, -1
    }
}

@CUSTOMBARNKIT:FOR[KiwiTechTree]:NEEDS[Bureaucracy,!SigDim,JNSQ]
{
    @VAB
    {
        @partCountLimit = 70, 140, 210, 280, -1
    }

    @SPH
    {
        @partCountLimit = 70, 140, 210, 280, -1
    }
}
