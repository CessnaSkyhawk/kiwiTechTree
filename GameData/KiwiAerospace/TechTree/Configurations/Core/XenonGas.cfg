// Kiwi's CTT Overhaul (XenonGas Patch)
// Version 0.1
// Last Updated: 18 August 2020 for KSP 1.9.1
// Increase cost of XenonGas to make it a larger trade-off to using Argon if NearFuturePropulsion is installed

// Do not reduce this below 4 (default KSP value)
@RESOURCE_DEFINITION[XenonGas]:NEEDS[CommunityTechTree&NearFuturePropulsion]:FOR[KiwiAerospace]
{
	@unitCost = 10
}

// Change the cost of any tank holding Xenon to reflect the higher cost from XenonGas.cfg
// Baseline code is borrowed from CryoTanksFuelTankSwitcher.cfg in CryoTanks mod by Nertea
@PART[*]:HAS[@RESOURCE[XenonGas],!MODULE[InterstellarFuelSwitch],!MODULE[ModuleEnginesFX],!MODULE[ModuleEngines],!MODULE[FSfuelSwitch],!MODULE[WBIConvertibleStorage],!MODULE[WBIResourceSwitcher]]:NEEDS[!ModularFuelTanks&!RealFuels]:FOR[zzz_KiwiAerospace]
{
	%totalCap = #$RESOURCE[XenonGas]/maxAmount$
	%xenonCost *= #$@RESOURCE_DEFINITION[XenonGas]/unitCost$
	@xenonCost += -4 //Subtract Stock cost of Xenon per unit
	@xenonCost *= #$totalCap$
	
	@cost += #$xenonCost$
}