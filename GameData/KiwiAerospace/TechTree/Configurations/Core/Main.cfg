// Kiwi's CTT Overhaul
// Version 0.1
// Last Updated: 5 August 2020 for KSP 1.9.1
// Based on: Zee's Probes Before Crew CTT Overhaul Version 2.8


/////////// Custom Parts

+PART[basicFin]:NEEDS[CommunityTechTree&!000_ReStock]
{
	@name = size0_basicFin
	@rescaleFactor = 0.5
	@cost = 100
	@title = Tiny Basic Fin
	@description = Little more than a sharp sheet of metal, all this really seems to do is increase crew paper-cut probabilities by 342%.
	@mass = 0.005
	@MODULE[ModuleLiftingSurface]
	{
		@deflectionLiftCoeff = 0.04
		%dragAtMaxAoA = 0.06
	}
	MODEL
	{
		model = Squad/Parts/Aero/basicFin/basicFin/basicFin
	}
}
// Use Restock model if installed rather than whitelist
+PART[basicFin]:NEEDS[CommunityTechTree&000_ReStock]
{
	@name = size0_basicFin
	@rescaleFactor = 0.5
	@cost = 100
	@title = Tiny Basic Fin
	@description = Little more than a sharp sheet of metal, all this really seems to do is increase crew paper-cut probabilities by 342%.
	@mass = 0.005
	@MODULE[ModuleLiftingSurface]
	{
		@deflectionLiftCoeff = 0.04
		%dragAtMaxAoA = 0.06
	}
	MODEL
	{
		model = ReStock/Assets/Aero/restock-winglet-basic-1
	}
}

+PART[GearFixed]:NEEDS[CommunityTechTree]
{
	@name = miniGearFixed
	@rescaleFactor = 0.75
	@title = Mini Fixed Landing Gear
	@description = Simple cute, but small wheel-on-a-stick Landing Gear to bring your birds down safely. (That means your airplanes, LightYear Co. does not encourage attempting to attach landing gear to actual birds)
	@TechRequired = start
}




//// ********* Aerodynamics ********* \\\\

// ***** Cockpits ***** \\

// Tier 0 - Start
@PART[seatExternalCmd]:NEEDS[CommunityTechTree] // EAS-1 External Command Seat, allowing for Giving Aircraft a Purpose to start early
{
	@TechRequired = start
}	


// Make this available if Luciole isn't installed
+PART[Mark2Cockpit]:NEEDS[CommunityTechTree&!Luciole]
{
	@name = Mark0Cockpit
	@rescaleFactor = 0.5
	@cost = 1000
	@title = Mk0 Cockpit
	@description = Kerbals need to squeeze in through the tiny door to fit into the cockpit, but the effort is worth the hassle.
	@mass = 0.5
	@skinMaxTemp = 1100
	@TechRequired = start
	@RESOURCE[ElectricCharge]
	{
		@amount = 50
		@maxAmount = 50
	}
	-RESOURCE[MonoPropellant]
	{
	}
	@MODULE[ModuleReactionWheel]
	{
		@PitchTorque = 5
		@YawTorque = 5
		@RollTorque = 5
		@RESOURCE[ElectricCharge]
		{
			@rate = 0.15
		}
	}
}

// Tier 1 - earlyFlight
@PART[Mark2Cockpit]:NEEDS[CommunityTechTree] // Mk1 Inline Cockpit (Not a typo)
{
	@TechRequired = earlyFlight
	@RESOURCE[ElectricCharge]
	{
		@amount = 100
		@maxAmount = 100
	}
}


// Tier 2 - stability
@PART[MK1CrewCabin]:NEEDS[CommunityTechTree]
{
	@TechRequired = stability
}

// Tier 3 - aviation
@PART[Mark1Cockpit]:NEEDS[CommunityTechTree]
{
	@TechRequired = aviation
	@RESOURCE[ElectricCharge]
	{
		@amount = 100
		@maxAmount = 100
	}
}

// Tier 4 - streamlinedFlight
@PART[mk2Cockpit_Inline]:NEEDS[CommunityTechTree]
{
	@TechRequired = streamlinedFlight
	@RESOURCE[ElectricCharge]
	{
		@amount = 250
		@maxAmount = 250
	}
}

@PART[JetEngine]:NEEDS[CommunityTechTree]
{
	@TechRequired = streamlinedFlight
}
@PART[CircularIntake]:NEEDS[CommunityTechTree]
{
	@TechRequired = streamlinedFlight
}
@PART[airScoop]:NEEDS[CommunityTechTree]
{
	@TechRequired = streamlinedFlight
}
@PART[nacelleBody]:NEEDS[CommunityTechTree]
{
	@TechRequired = streamlinedFlight
}


// Tier 5 - supersonicFlight
@PART[mk2Cockpit_Standard]:NEEDS[CommunityTechTree]
{
	@TechRequired = supersonicFlight
	@RESOURCE[ElectricCharge]
	{
		@amount = 200
		@maxAmount = 200
	}
}

@PART[mk2CrewCabin]:NEEDS[CommunityTechTree]
{
	@TechRequired = supersonicFlight
}

@PART[IntakeRadialLong]:NEEDS[CommunityTechTree]
{
	@TechRequired = supersonicFlight
}

@PART[ramAirIntake]:NEEDS[CommunityTechTree]
{
	@TechRequired = supersonicFlight
}

// Tier 6 - highAltitudeFlight
@PART[mk3Cockpit_Shuttle]:NEEDS[CommunityTechTree]
{
	@TechRequired = highAltitudeFlight
	@RESOURCE[ElectricCharge]
	{
		@amount = 1000
		@maxAmount = 1000
	}
}

@PART[shockConeIntake]:NEEDS[CommunityTechTree]
{
	@TechRequired = highAltitudeFlight
}

@PART[turboFanEngine]:NEEDS[CommunityTechTree]
{
	@TechRequired = highAltitudeFlight
}

@PART[radialEngineBody]:NEEDS[CommunityTechTree]
{
	@TechRequired = highAltitudeFlight
}

// Tier 7 - hypersonicFlight
@PART[mk3CrewCabin]:NEEDS[CommunityTechTree]
{
	@cost = 28500
	@entryCost = 48900
	@TechRequired = hypersonicFlight
}

@PART[RAPIER]:NEEDS[CommunityTechTree]
{
	@TechRequired = hypersonicFlight
	@entryCost = 250000
	@cost = 25000
}

// Tier 8 - aerospaceTech

// Tier 9 - expAircraftEngines




// ***** Structural & Wings ***** \\
//Tier 0 - Start
@PART[miniIntake]:NEEDS[CommunityTechTree]
{
	@TechRequired = start
	//@TechRequired = earlyFlight
}

@PART[basicFin]:NEEDS[CommunityTechTree]
{
	@cost = 175
}
//Tier 1 - earlyFlight
@PART[MK1Fuselage]:NEEDS[CommunityTechTree]
{
	@TechRequired = earlyFlight
}
@PART[winglet]:NEEDS[CommunityTechTree]
{
	@TechRequired = earlyFlight
}

// Tier 2 - stability
@PART[standardNoseCone]:NEEDS[CommunityTechTree]
{
	@TechRequired = stability
}

@PART[wingConnector2]:NEEDS[CommunityTechTree]
{
	@TechRequired = stability
}

@PART[wingConnector5]:NEEDS[CommunityTechTree]
{
	@TechRequired = stability
}

@PART[tailfin]:NEEDS[CommunityTechTree]
{
	@TechRequired = stability
}

@PART[StandardCtrlSrf]:NEEDS[CommunityTechTree]
{
	@TechRequired = stability
}

@PART[R8winglet]:NEEDS[CommunityTechTree]
{
	@TechRequired = stability
}

// Tier 3 - aviation
@PART[winglet3]:NEEDS[CommunityTechTree]
{
	@TechRequired = aviation
}


// Tier 4 - aerodynamicSystems
@PART[MK1IntakeFuselage]:NEEDS[CommunityTechTree]
{
	@TechRequired = aerodynamicSystems
}

@PART[mk2_1m_Bicoupler]:NEEDS[CommunityTechTree]
{
	@TechRequired = aerodynamicSystems
}
@PART[mk2SpacePlaneAdapter]:NEEDS[CommunityTechTree]
{
	@TechRequired = aerodynamicSystems
}
@PART[mk2FuselageShortLFO]:NEEDS[CommunityTechTree]
{
	@TechRequired = aerodynamicSystems
}
@PART[mk2FuselageShortLiquid]:NEEDS[CommunityTechTree]
{
	@TechRequired = aerodynamicSystems
}
@PART[mk2CargoBayS]:NEEDS[CommunityTechTree]
{
	@TechRequired = aerodynamicSystems
}

// Tier 5 - advAerodynamics
@PART[wingStrake]:NEEDS[CommunityTechTree]
{
	@TechRequired = advAerodynamics
}
@PART[structuralWing]:NEEDS[CommunityTechTree]
{
	@TechRequired = advAerodynamics
}
@PART[adapterSize2-Mk2]:NEEDS[CommunityTechTree]
{
	@TechRequired = advAerodynamics
}
@PART[mk2_1m_AdapterLong]:NEEDS[CommunityTechTree]
{
	@TechRequired = advAerodynamics
}
@PART[mk2FuselageLongLFO]:NEEDS[CommunityTechTree]
{
	@TechRequired = advAerodynamics
}
@PART[mk2Fuselage]:NEEDS[CommunityTechTree]
{
	@TechRequired = advAerodynamics
}
@PART[mk2FuselageShortMono]:NEEDS[CommunityTechTree]
{
	@TechRequired = advAerodynamics
}
@PART[structuralPylon]:NEEDS[CommunityTechTree]
{
	@TechRequired = advAerodynamics
}
@PART[mk2CargoBayL]:NEEDS[CommunityTechTree]
{
	@TechRequired = advAerodynamics
}
@PART[mk2DockingPort]:NEEDS[CommunityTechTree]
{
	@TechRequired = advAerodynamics
}

// Tier 6 - heavyAerodynamics
@PART[AdvancedCanard]:NEEDS[CommunityTechTree]
{
	@TechRequired = heavyAerodynamics
}
@PART[mk3FuselageLF_25]:NEEDS[CommunityTechTree]
{
	@TechRequired = heavyAerodynamics
}

@PART[mk3FuselageLF_50]:NEEDS[CommunityTechTree]
{
	@TechRequired = heavyAerodynamics
}

@PART[mk3FuselageLFO_25]:NEEDS[CommunityTechTree]
{
	@TechRequired = heavyAerodynamics
}

@PART[mk3FuselageLFO_50]:NEEDS[CommunityTechTree]
{
	@TechRequired = heavyAerodynamics
}

@PART[mk3FuselageMONO]:NEEDS[CommunityTechTree]
{
	@TechRequired = heavyAerodynamics
}

@PART[adapterMk3-Size2]:NEEDS[CommunityTechTree]  // mk3 > 2.5
{
	@TechRequired = heavyAerodynamics
}

@PART[adapterMk3-Size2Slant]:NEEDS[CommunityTechTree]  // mk3 > 2.5slant
{
	@TechRequired = heavyAerodynamics
}

@PART[adapterMk3-Mk2]:NEEDS[CommunityTechTree]  // mk3 > mk2
{
	@TechRequired = heavyAerodynamics
}

@PART[adapterEngines]:NEEDS[CommunityTechTree]  // fuel-less mk3 engine mount
{
	@TechRequired = heavyAerodynamics
}

// Tier 7 - experimentalAerodynamics
@PART[mk3FuselageLF_100]:NEEDS[CommunityTechTree]
{
	@TechRequired = experimentalAerodynamics
}
@PART[adapterSize3-Mk3]:NEEDS[CommunityTechTree]  // mk3 > 3.7
{
	@TechRequired = experimentalAerodynamics
}
@PART[mk3FuselageLFO_100]:NEEDS[CommunityTechTree]
{
	@TechRequired = experimentalAerodynamics
}

// Tier 8 - aerospaceComposites

// Tier 9 - advAerospaceEngineering



// ***** Rotors ***** \\

// Tier 0 - start

// Tier 1 - earlyFlight

// Tier 2 - stability

// Tier 3 - aviation

// Tier 4 - subsonicFlight

// Tier 5 - efficientFlightSystems

// Tier 6 - advancedFlightSystems

// Tier 7 - specializedFlightSystems




//// ********* Command Modules ********* \\\\

// ***** Command Modules ***** \\

// Tier 4 - simpleCommandModules
@PART[mk1pod_v2]:NEEDS[CommunityTechTree]
{
	@TechRequired = simpleCommandModules
	@entryCost = 5750
	@cost = 1350
	@RESOURCE[ElectricCharge]
	{
		@amount = 100
		@maxAmount = 100
	}
}

// Tier 5 - commandModules
@PART[landerCabinSmall]:NEEDS[CommunityTechTree]
{
	@TechRequired = commandModules
	@RESOURCE[ElectricCharge]
	{
		@amount = 150
		@maxAmount = 150
	}
}

// Tier 6 - heavyCommandModules
@PART[mk2LanderCabin_v2]:NEEDS[CommunityTechTree]
{
	@TechRequired = heavyCommandModules
	@entryCost = 8200
	@cost = 4000
	@RESOURCE[ElectricCharge]
	{
		@amount = 250
		@maxAmount = 250
	}
}

@PART[mk1-3pod]:NEEDS[CommunityTechTree]
{
	@TechRequired = heavyCommandModules
	@entryCost = 11500
	@cost = 4250
	@RESOURCE[ElectricCharge]
	{
		@amount = 500
		@maxAmount = 500
	}
}

// Tier 7 - specializedCommandModules

// Tier 8 - specializedCommandCenters or specializedLanders

// Tier 9 - heavyLanders or heavyCommandCenters



//// ********* Construction ********* \\\\

// ***** Adapters, Fairings, Rocket Nose Cones ***** \\
// Tier 0

// Tier 1 - Basic Rocketry

// Tier 2 - Basic Construction
@PART[launchClamp1]:NEEDS[CommunityTechTree] // Launch Stability Enhancer
{
	@TechRequired = basicConstruction
}
@PART[adapterSmallMiniShort]:NEEDS[CommunityTechTree]
{
	@TechRequired = basicConstruction
}


// Tier 3 - General Construction
@PART[fairingSize1]:NEEDS[CommunityTechTree] // 1.25 m
{
	@TechRequired = generalConstruction
}

// Tier 4 - Advanced Construction
@PART[pointyNoseConeA]:NEEDS[CommunityTechTree]
{
	@TechRequired = advConstruction
}

@PART[pointyNoseConeB]:NEEDS[CommunityTechTree]
{
	@TechRequired = advConstruction
}

@PART[rocketNoseCone_v2]:NEEDS[CommunityTechTree]
{
	@TechRequired = advConstruction
}


// Tier 5 - Specialized Construction
@PART[fairingSize2]:NEEDS[CommunityTechTree] // 2.5 m
{
	@TechRequired = specializedConstruction
}

@PART[rocketNoseConeSize3]:NEEDS[CommunityTechTree] // 3.75 m cone
{
	@TechRequired = specializedConstruction
}

// Tier 6 - Advanced MetalWorks
@PART[fairingSize3]:NEEDS[CommunityTechTree] // 3.75 m
{
	@TechRequired = advMetalworks
}
@PART[adapterLargeSmallBi]:NEEDS[CommunityTechTree]
{
	@TechRequired = advMetalworks
}

@PART[adapterLargeSmallTri]:NEEDS[CommunityTechTree]
{
	@TechRequired = advMetalworks
}

@PART[adapterLargeSmallQuad]:NEEDS[CommunityTechTree]
{
	@TechRequired = advMetalworks
}



// Tier 7 - Nanolathing

// Tier 8 - Exotic Alloys



// ***** Structural Parts ***** \\
// Tier 0

// Tier 1 - Basic Rocketry
@PART[trussPiece1x]:NEEDS[CommunityTechTree]
{
	@cost = 50
	@entryCost = 600
	@TechRequired = basicRocketry
}

// Tier 2 - Basic Construction
@PART[Mk1FuselageStructural]:NEEDS[CommunityTechTree] // Mk1 Structural Fuselage
{
	@TechRequired = basicConstruction
}

// Tier 3 - General Construction

// Tire 4 - Advanced Construction
@PART[stackBiCoupler_v2]:NEEDS[CommunityTechTree]
{
	@TechRequired = advConstruction
}

@PART[largeAdapter]:NEEDS[CommunityTechTree]
{
	@TechRequired = advConstruction
}

// Tier 5 - Specialized Construction
@PART[stationHub]:NEEDS[CommunityTechTree]
{
	@TechRequired = specializedConstruction
}

@PART[trussPiece3x]:NEEDS[CommunityTechTree]
{
	@TechRequired = specializedConstruction
}

@PART[stackTriCoupler_v2]:NEEDS[CommunityTechTree]
{
	@TechRequired = specializedConstruction
}

@PART[stackQuadCoupler]:NEEDS[CommunityTechTree]
{
	@TechRequired = specializedConstruction
}

@PART[structuralPanel1]:NEEDS[CommunityTechTree]
{
	@TechRequired = specializedConstruction
}

@PART[structuralIBeam3]:NEEDS[CommunityTechTree]
{
	@TechRequired = specializedConstruction
}

@PART[structuralIBeam1]:NEEDS[CommunityTechTree]
{
	@TechRequired = specializedConstruction
}

@PART[structuralMiniNode]:NEEDS[CommunityTechTree]
{
	@TechRequired = specializedConstruction
}

@PART[strutCube]:NEEDS[CommunityTechTree]
{
	@TechRequired = specializedConstruction
}

@PART[strutOcto]:NEEDS[CommunityTechTree]
{
	@TechRequired = specializedConstruction
}

// Tier 6 - Composites

// Tier 7 - Meta-Materials

// Tier 8 - Orbital Assembly

// Tier 9 - Orbital Megastructures


//// ********* Decouplers/Separators/DockingPorts/EnginePlates ********* \\\\

// Tier 0

// Tier 1

// Tier 2 Basic Construction
@PART[Decoupler_0]:NEEDS[CommunityTechTree] // 0.625 m
{
	@TechRequired = basicConstruction
}

// Tier 3 Decoupling
@PART[Decoupler_1]:NEEDS[CommunityTechTree] // 1.25 m
{
	@TechRequired = decoupling
}

@PART[radialDecoupler]:NEEDS[CommunityTechTree] // TT-38K Radial Decoupler
{
	@TechRequired = decoupling
}

@PART[Separator_0]:NEEDS[CommunityTechTree] // 0.625 m
{
	@TechRequired = decoupling
}


// Tier 4 Docking
@PART[Separator_1]:NEEDS[CommunityTechTree] // 1.25
{
	@TechRequired = docking
}

@PART[radialDecoupler2]:NEEDS[CommunityTechTree] // TT-70 Radial Decoupler
{
	@TechRequired = docking
}

@PART[dockingPort3]:NEEDS[CommunityTechTree] // Clamp-O-Tron Docking Port Jr
{
	@TechRequired = docking
	@entryCost = 7000
	@cost = 450
}

// Tier 5 Advanced Decoupling
@PART[Decoupler_2]:NEEDS[CommunityTechTree] // 2.5 m
{
	@TechRequired = advancedDecoupling
}

@PART[radialDecoupler1-2]:NEEDS[CommunityTechTree] // Hydraulic Manifold
{
    @TechRequired = advancedDecoupling
}

@PART[dockingPort2]:NEEDS[CommunityTechTree]  // Clamp-O-Tron Docking Port
{
	@TechRequired = advancedDecoupling
	@entryCost = 8500
	@cost = 600
}


// Tier 6 Engine Plates
@PART[Separator_2]:NEEDS[CommunityTechTree] // 2.5m
{
	@TechRequired = enginePlates
}

@PART[Decoupler_3]:NEEDS[CommunityTechTree] // 3.75m
{
    @TechRequired = enginePlates
}

@PART[dockingPort1]:NEEDS[CommunityTechTree] // Shielded Clamp-O-Tron Docking Port
{
	@TechRequired = enginePlates
	@entryCost = 9200
	@cost = 750
}

@PART[dockingPortLarge]:NEEDS[CommunityTechTree] // Clamp-O-Tron Docking Port Sr
{
	@TechRequired = enginePlates
	@entryCost = 12500
	@cost = 980
}

@PART[dockingPortLateral]:NEEDS[CommunityTechTree] // Inline Clamp-O-Tron
{
	@TechRequired = enginePlates
	@entryCost = 9800
	@cost = 750
}

// Tier 7 Advanced Docking
@PART[Separator_3]:NEEDS[CommunityTechTree] // 3.75 m
{
    @TechRequired = advancedDocking
}


// Tier 8 Advanced Engine Plates

// Tier 9 Automated Decoupling Systems



//// ********* Electric / Solar / Heat ********* \\\\


// ***** Batteries ***** \\

// Tier 0

// Tier 1 Engineering 101
@PART[batteryPack]:NEEDS[CommunityTechTree] // z100
{
	@TechRequired = engineering101
}

// Tier 2 - Science 201
@PART[batteryBankMini]:NEEDS[CommunityTechTree] // z200 Inline
{
	@TechRequired = science201
}

// Tier 3 - Basic Science

// Tier 4 - Electrics
@PART[ksp_r_largeBatteryPack]:NEEDS[CommunityTechTree] // z400
{
	@TechRequired = electrics
}

// Tier 5 - Advanced Electrics
@PART[batteryBank]:NEEDS[CommunityTechTree] // z1k
{
	@TechRequired = advElectrics
}

// Tier 6 - High-Power Electrics //largeElectrics

// Tier 7 - Specialized Electrics

// Tier 8 - Experimental Electrics

// Tier 9 - High Tech Electrical Systems

// Tier 10 - High Power Electrical Systems

// Tier 11 - Experimental Electrical Systems

// Tier 12 - Exotic Electrical Systems





// ***** Solar and Fuel Cells ***** \\

// Tier 0

// Tier 1 Engineering 101


// Tier 2 - Science 201
@PART[FuelCell]:NEEDS[CommunityTechTree] // Fuel Cell first, then solar
{
	@TechRequired = science201
}


// Tier 3 - batteryTech
@PART[solarPanels5]:NEEDS[CommunityTechTree] // OX-STAT 0.3 Sec, Fixed
{
	@TechRequired = batteryTech
}
@PART[LgRadialSolarPanel]:NEEDS[CommunityTechTree]
{
	@TechRequired = batteryTech
}

// Tier 4 - electrics
@PART[solarPanels3]:NEEDS[CommunityTechTree]
{
	@TechRequired = electrics
}

@PART[solarPanels4]:NEEDS[CommunityTechTree]
{
	@TechRequired = electrics
}

// Tier 5 - advElectrics
@PART[solarPanels1]:NEEDS[CommunityTechTree] 
{
	@TechRequired = advElectrics
}

@PART[solarPanels2]:NEEDS[CommunityTechTree]
{
	@TechRequired = advElectrics
}

// Tier 6 - largeElectrics (High-Power Electrics)

// Tier 7 - advSolarTech 
@PART[largeSolarPanel]:NEEDS[CommunityTechTree]
{
	@TechRequired = advSolarTech
}

// Tier 8 - Advanced Photovoltaic Materials (advPVMaterials) / Cutting-Edge Solar Technology (cuttingEdgeSolarTech)

// Tier 9 - Microwave Power Transmission / Exotic Solar Technology (exoticSolarTech)









//// ********* Engines ********* \\\\

// ***** Liquid Fuel ***** \\

// Tier 0, just the small jet engine to allow for the aeronautics branch
@PART[miniJetEngine]:NEEDS[CommunityTechTree]
{
	@TechRequired = start
}

// Tier 1, a basic 0.625m engine that helps get us off the ground
@PART[liquidEngineMini_v2]:NEEDS[CommunityTechTree] // Spark
{
	@TechRequired = basicRocketry
}

// Tier 2; Stronger 0.625m engine and initial 1.25m engine
@PART[liquidEngine]:NEEDS[CommunityTechTree&!ReStockPlus] // LV-T30 "Reliant" Liquid Fuel Engine if Restock+ Not Installed
{
	@TechRequired = generalRocketry
}

// Tier 3; Intro of the 1.875m engine in Making History
@PART[liquidEngine]:NEEDS[CommunityTechTree&ReStockPlus] // LV-T30 "Reliant" Liquid Fuel Engine when Restock+ Installed
{
	@TechRequired = advRocketry
}

@PART[liquidEngine2]:NEEDS[CommunityTechTree] // LV-T45 "Swivel"
{
	@TechRequired = advRocketry
}

// Tier 4 Heavy Rocketry, Intro of 2.5m engines

// Tier 5 Heavier Rocketry
@PART[engineLargeSkipper_v2]:NEEDS[CommunityTechTree] // RE-I5 "Skipper"
{
	@TechRequired = heavierRocketry
}

@PART[liquidEngine2-2_v2]:NEEDS[CommunityTechTree] // RE-L10 "Poodle"
{
	@TechRequired = heavierRocketry
}

// Tier 6 Even Heavier Rocketry Intro of 3.75m engines
@PART[liquidEngineMainsail_v2]:NEEDS[CommunityTechTree] // RE-M3 "Mainsail" Liquid Fuel Engine
{
	@TechRequired = evenHeavierRocketry
}

// Tier 7 Very Heavy Rocketry
@PART[Size2LFB]:NEEDS[CommunityTechTree] // LFB KR-1x2 "Twin-Boar" Liquid Fuel Engine
{
	@TechRequired = veryHeavyRocketry
}

// Tier 8 Experimental Rocketry
@PART[SSME]:NEEDS[CommunityTechTree] // S3 KS-25 "Vector" Liquid Fuel Engine
{
	@TechRequired = experimentalRocketry
}

@PART[Size3EngineCluster]:NEEDS[CommunityTechTree] // S3 KS-25x4 "Mammoth" Liquid Fuel Engine
{
	@TechRequired = experimentalRocketry
}

@PART[Size3AdvancedEngine]:NEEDS[CommunityTechTree] // Kerbodyne KR-2L+ "Rhino"
{
	@TechRequired = experimentalRocketry
}



// ***** Speciality Liquid Fuel/Mono Engines ***** \\

// Tier 4 - propulsionSystems


// Tier 5 - precisionPropulsion
@PART[radialLiquidEngine1-2]:NEEDS[CommunityTechTree] // Mk-55 "Thud" Liquid Fuel Engine
{
	@TechRequired = precisionPropulsion
}


// Tier 6 - experimentalPropulsion
@PART[toroidalAerospike]:NEEDS[CommunityTechTree] // T-1 Toroidal Aerospike "Dart" Liquid Fuel Engine
{
	@TechRequired = experimentalPropulsion
}



// ***** Solid Rocket Boosters ***** \\

// Tier 0
// Good starting solid rocket to get off ground, barely
@PART[Mite]:NEEDS[CommunityTechTree]
{
	@TechRequired = start
	@cost = 85
}

// Tier 1, looking at just a slightly more powerful 0.625m part
@PART[Shrimp]:NEEDS[CommunityTechTree]			// F3S0 "Shrimp" Solid Fuel Booster
{
	@TechRequired = soundingRockets
	@entryCost = 750
	@cost = 150
}

// Tier 2, Introduce a 1.25m SRB
@PART[solidBooster_sm_v2]:NEEDS[CommunityTechTree] // Flea
{
	@TechRequired = tinyBoosters
}

// Tier 3, Some more powerful 1.25m SRB

@PART[solidBooster_v2]:NEEDS[CommunityTechTree] // RT-10 "Hammer"
{
	@TechRequired = smallBoosters
}

@PART[solidBooster1-1]:NEEDS[CommunityTechTree] // BACC "Thumper" Solid Fuel Booster
{
	@TechRequired = smallBoosters
}

// Tier 4, Intro of a solid 1.875 m booster found within Missing History Patch


// Tier 5, 2.5m booster
@PART[MassiveBooster]:NEEDS[CommunityTechTree] // S1 SRB-KD25k "Kickback"
{
	@TechRequired = largeBoosters
}

// Tier 6, Pollux from Making History makes this branch

// Tier 7
@PART[Thoroughbred]:NEEDS[CommunityTechTree] // S2-17 "Thoroughbred" Solid Fuel Booster
{
	@TechRequired = hugeBoosters
	@entryCost = 27000
	@cost = 9000
}

// Tier 8
@PART[Clydesdale]:NEEDS[CommunityTechTree] // S2-33 "Clydesdale" Solid Fuel Booster
{
	@TechRequired = gargantuanBoosters
	@entryCost = 54000
	@cost = 18500
}


//// ********* Fuel Tanks ********* \\\\

// ***** Liquid Fuel ***** \\

// Tier 0
@PART[miniFuselage]:NEEDS[CommunityTechTree] // Mk0 Liquid Fuel Fuselage
{
	@TechRequired = start
}

// Tier 1; 0.625m Fuel Tank
@PART[miniFuelTank]:NEEDS[CommunityTechTree&!ReStockPlus] // Oscar-B Fuel Tank if ReStock Plus not installed
{
	@TechRequired = basicRocketry
}

// Tier 2; Intro of the 1.25m tank, a larger 0.625 piece
@PART[miniFuelTank]:NEEDS[CommunityTechTree&ReStockPlus] // Oscar-B Fuel Tank if ReStock Plus Installed
{
	@TechRequired = earlyFuelSystems
}

@PART[adapterSmallMiniTall]:NEEDS[CommunityTechTree] // FL-A10 Adapter
{
	@TechRequired = earlyFuelSystems
}

@PART[fuelTankSmallFlat]:NEEDS[CommunityTechTree] // FL-T100 Fuel Tank
{
	@TechRequired = earlyFuelSystems
}

// Tier 3 // Intro of the 1.875 if Making History installed
@PART[fuelTankSmall]:NEEDS[CommunityTechTree] // FL-T200 Fuel Tank
{
	@TechRequired = basicFuelSystems
}

// Tier 4
@PART[fuelTank]:NEEDS[CommunityTechTree] // FL-T400 Fuel Tank
{
	@TechRequired = fuelSystems
}
@PART[Rockomax8BW]:NEEDS[CommunityTechTree] // 2.5  Rockomax  short-8
{
	@TechRequired = fuelSystems
}

@PART[adapterSize2-Size1]:NEEDS[CommunityTechTree] // 2.5 to 1.25 Adapter
{
	@TechRequired = fuelSystems
}

@PART[adapterSize2-Size1Slant]:NEEDS[CommunityTechTree] // 2.5 to 1.25 Slant Adapter
{
	@TechRequired = fuelSystems
}

// Tier 5
@PART[fuelTank_long]:NEEDS[CommunityTechTree] // FL-T800 Fuel Tank
{
	@TechRequired = advFuelSystems
}
@PART[Rockomax16_BW]:NEEDS[CommunityTechTree] // 2.5  Rockomax  med-16
{
	@TechRequired = advFuelSystems
}
@PART[Size3SmallTank]:NEEDS[CommunityTechTree] // Kerbodyne S3-3600 Tank
{
	@TechRequired = advFuelSystems
}
@PART[Size3To2Adapter_v2]:NEEDS[CommunityTechTree] // Kerbodyne ADTP-2-3
{
	@TechRequired = advFuelSystems
}


// Tier 6 Large Volume Containment
@PART[Rockomax32_BW]:NEEDS[CommunityTechTree] // 2.5  Rockomax  med-32
{
	@TechRequired = largeVolumeContainment
}
@PART[Size3MediumTank]:NEEDS[CommunityTechTree] // Kerbodyne S3-7200 Tank
{
	@TechRequired = largeVolumeContainment
}


// Tier 7 High Performance Fuel Systems

@PART[Rockomax64_BW]:NEEDS[CommunityTechTree] // 2.5  Rockomax  large-64
{
	@TechRequired = highPerformanceFuelSystems
}

@PART[Size3LargeTank]:NEEDS[CommunityTechTree] // Kerbodyne S3-14400 Tank
{
	@TechRequired = highPerformanceFuelSystems
}

// Tier 8 Specialized Fuel Storage


// ***** Speciality Liquid Fuel Tanks ***** \\

// Tier 3 - fuelLines
@PART[fuelLine]:NEEDS[CommunityTechTree] // FTX-2 External Fuel Duct
{
	@TechRequired = fuelLines
}
@PART[ReleaseValve]:NEEDS[CommunityTechTree] // Fuel Release Valve
{
	@TechRequired = fuelLines
}


// Tier 4 - flexibleFuelSolutions
@PART[externalTankCapsule]:NEEDS[CommunityTechTree] // R-11 "Baguette" External Tank
{
	@TechRequired = flexibleFuelSolutions
}
@PART[externalTankRound]:NEEDS[CommunityTechTree] // R-11 "Baguette" External Tank
{
	@TechRequired = flexibleFuelSolutions
}
@PART[externalTankToroid]:NEEDS[CommunityTechTree] // R-11 "Baguette" External Tank
{
	@TechRequired = flexibleFuelSolutions
}

// Tier 5 - advancedFlexibleFuelSolutions



//// ********* Probes and Communication ********* \\\\

// ***** Probes ***** \\

// Tier 0 - start
@PART[probeCoreSphere_v2]:NEEDS[CommunityTechTree]
{
	@TechRequired = start
	%MODULE[ModuleSAS] {}
}

// Tier 1 - engineering101

// Tier 2 - science201
@PART[probeCoreOcto_v2]:NEEDS[CommunityTechTree]
{
	@TechRequired = science201
	@RESOURCE[ElectricCharge]
	{
		@amount = 50
		@maxAmount = 50
	}
}

// Tier 3 - basicScience
@PART[probeCoreHex_v2]:NEEDS[CommunityTechTree]
{
	@TechRequired = basicScience
	@RESOURCE[ElectricCharge]
	{
		@amount = 100
		@maxAmount = 100
	}
}

// Tier 4 - earlyProbes
@PART[probeCoreCube]:NEEDS[CommunityTechTree]
{
	@TechRequired = earlyProbes
	@RESOURCE[ElectricCharge]
	{
		@amount = 150
		@maxAmount = 150
	}
}

// Tier 5 - communicationSatellites
@PART[roverBody_v2]:NEEDS[CommunityTechTree]
{
	@TechRequired = communicationSatellites
	@RESOURCE[ElectricCharge]
	{
		@amount = 200
		@maxAmount = 200
	}
}

@PART[probeCoreOcto2_v2]:NEEDS[CommunityTechTree]
{
	@TechRequired = communicationSatellites
	@RESOURCE[ElectricCharge]
	{
		@amount = 250
		@maxAmount = 250
	}
}

// Tier 6 - unmannedTech
@PART[mk2DroneCore]:NEEDS[CommunityTechTree]
{
	@TechRequired = unmannedTech
	@RESOURCE[ElectricCharge]
	{
		@amount = 200
		@maxAmount = 200
	}
}

@PART[probeStackSmall]:NEEDS[CommunityTechTree]
{
	@TechRequired = unmannedTech
	@RESOURCE[ElectricCharge]
	{
		@amount = 100
		@maxAmount = 100
	}
}

// Tier 7 - advUnmanned
@PART[HECS2_ProbeCore]:NEEDS[CommunityTechTree]
{
	@TechRequired = advUnmanned
	@RESOURCE[ElectricCharge]
	{
		@amount = 500
		@maxAmount = 500
	}
}

// Tier 8 - largeUnmanned
@PART[probeStackLarge]:NEEDS[CommunityTechTree]
{
	@TechRequired = largeUnmanned
	@entryCost = 62000
	@cost = 5200
	@RESOURCE[ElectricCharge]
	{
		@amount = 100
		@maxAmount = 100
	}
}

// Tier 9 - artificialIntelligence



// ***** Antenna ***** \\

// Tier 0 - start
@PART[SurfAntenna]:NEEDS[CommunityTechTree] // Comm 16-s
{
	@TechRequired = start
	@MODULE[ModuleDataTransmitter]
	{
		@packetInterval = 0.8
		@packetResourceCost = 14.0
		@antennaPower = 250000
	}
}

// Tier 1 - engineering101

// Tier 2 - science201
@PART[longAntenna]:NEEDS[CommunityTechTree] // Comm 16
{
	@TechRequired = science201
	@MODULE[ModuleDataTransmitter]
	{
		@antennaPower = 1000000
	}
}

// Tier 3 - basicScience
@PART[HighGainAntenna5]:NEEDS[CommunityTechTree] // hg-5
{
	@TechRequired = basicScience
	@MODULE[ModuleDataTransmitter]
	{
		@antennaPower = 5000000
	}
}

// Tier 4 - earlyProbes

// Tier 5 - communicationSatellites
@PART[mediumDishAntenna]:NEEDS[CommunityTechTree] // DTS-M1
{
	@TechRequired = communicationSatellites
	@MODULE[ModuleDataTransmitter]
	{
		@antennaPower = 5000000000
	}
}

@PART[RelayAntenna5]:NEEDS[CommunityTechTree] // RA-2
{
	@TechRequired = communicationSatellites
	@entryCost = 9600
	@cost = 1900
	@MODULE[ModuleDataTransmitter]
	{
		@antennaPower = 2000000000
	}
}

// Tier 6 - highGainCommunications
@PART[HighGainAntenna]:NEEDS[CommunityTechTree] // HG-55
{
	@TechRequired = highGainCommunications
	@entryCost = 15200
	@cost = 2400
	@MODULE[ModuleDataTransmitter]
	{
		@antennaPower = 20000000000
	}
}

// Tier 7 - signalProcessing
@PART[RelayAntenna50]:NEEDS[CommunityTechTree] // RA-15
{
	@TechRequired = signalProcessing
	@entryCost = 29700
	@cost = 3500
	@MODULE[ModuleDataTransmitter]
	{
		@antennaPower = 15000000000
	}
}

// Tier 8 - digitalSignalProcessing
@PART[commDish]:NEEDS[CommunityTechTree] // Comm 88-88
{
	@TechRequired = digitalSignalProcessing
	@entryCost = 37500
	@cost = 4200
	@MODULE[ModuleDataTransmitter]
	{
		@antennaPower = 100000000000
	}
}

// Tier 9 - xBandCommunications
@PART[RelayAntenna100]:NEEDS[CommunityTechTree] // RA-100
{
	@TechRequired = xBandCommunications
	@entryCost = 55000
	@cost = 4800
	@MODULE[ModuleDataTransmitter]
	{
		@antennaPower = 75000000000
	}
}

// Tier 10 - deepSpaceOpticalCommunications

// Tier 11 - quantumCommunications


//// ********** Utility/Misc *********** \\\\

// ***** Landing Gear and Wheels ***** \\
// Tier 0 - Start
@PART[GearFree]:NEEDS[CommunityTechTree]
{
	@TechRequired = start
}

// Tier 1 - earlyFlight
@PART[GearFixed]:NEEDS[CommunityTechTree]
{
	@TechRequired = earlyFlight
}

// Tier 2 - stability
@PART[miniLandingLeg]:NEEDS[CommunityTechTree]
{
	@TechRequired = stability
}
@PART[SmallGearBay]:NEEDS[CommunityTechTree] // Small Landing Gear 
{
	@TechRequired = stability
}

// Tier 3 - aviation

// Tier 4 - landing
@PART[GearSmall]:NEEDS[CommunityTechTree] // Medium Landing Gear 
{
	@TechRequired = landing
}

@PART[roverWheel2]:NEEDS[CommunityTechTree] // RoveMax Model S2
{
	@TechRequired = landing
}

// Tier 5 - fieldScience
@PART[GearMedium]:NEEDS[CommunityTechTree] // Large Landing Gear 
{
	@TechRequired = fieldScience
}

// Tier 6 - advLanding
@PART[GearLarge]:NEEDS[CommunityTechTree] // Extra Large Landing Gear 
{
	@TechRequired = advLanding
}

// Tier 7 - heavyLanding
@PART[wheelMed]:NEEDS[CommunityTechTree] //TR-2L Ruggedized Vehicular Wheel
{
	@TechRequired = heavyLanding
}


// Tier 8 - advancedMotors




// ***** Flight Control ***** \\
// Tier 0 - Start

// Tier 1 - earlyFlight

// Tier 2 - stability or survivability for SAS
@PART[sasModule]:NEEDS[CommunityTechTree] // 0.6 Reaction Wheel
{
	@TechRequired = survivability // Keep on surviability
}

// Tier 3 - flightControl
@PART[rcsTankMini]:NEEDS[CommunityTechTree] // 0.6  RCS  FL-R10
{
	@TechRequired = flightControl
}

@PART[advSasModule]:NEEDS[CommunityTechTree] // 1.2 Reaction Wheel
{
	@TechRequired = flightControl
}

@PART[linearRcs]:NEEDS[CommunityTechTree]  //  Place-Anywhere 7 Linear RCS Port
{
	@TechRequired = flightControl
}

@PART[LaunchEscapeSystem]:NEEDS[CommunityTechTree] // Launch Escape System
{
	@TechRequired = flightControl
}

// Tier 4 - advFlightControl
@PART[RCSFuelTank]:NEEDS[CommunityTechTree] // 1.2  RCS  FL-R25
{
	@TechRequired = advFlightControl
}

// Tier 5 - specializedControl
@PART[RCSTank1-2]:NEEDS[CommunityTechTree] // 2.5  RCS  FL-R1
{
	@TechRequired = specializedControl
}

@PART[asasmodule1-2]:NEEDS[CommunityTechTree] // Advanced Reaction Wheel Module, Large
{
	@TechRequired = specializedControl
}

// Tier 6 - experimentalControl

// Tier 7 - exoticControl





// ***** Thermals ***** \\

// Tier 0 - start

// Tier 1 - engineering101

// Tier 2 - science201
@PART[HeatShield0]:NEEDS[CommunityTechTree]
{
	@TechRequired = science201
}

// Tier 3 - batteryTech
@PART[HeatShield1]:NEEDS[CommunityTechTree]
{
	@TechRequired = batteryTech
}

// Tier 4 - electrics

// Tier 5 - heatManagementSystems
@PART[HeatShield2]:NEEDS[CommunityTechTree]
{
	@TechRequired = heatManagementSystems
}

// Tier 6 - intermediateHeatManagement
@PART[HeatShield3]:NEEDS[CommunityTechTree]
{
	@TechRequired = intermediateHeatManagement
}
@PART[foldingRadMed]:NEEDS[CommunityTechTree]
{
	@TechRequired = intermediateHeatManagement
}

// Tier 7 - advHeatManagement
@PART[InflatableHeatShield]:NEEDS[CommunityTechTree]
{
	@TechRequired = advHeatManagement
}

@PART[foldingRadLarge]:NEEDS[CommunityTechTree]
{
	@TechRequired = advHeatManagement
}
// Tier 8 - skipped

// Tier 9 - specializedRadiators


// ***** Ladders and Lights ***** \\

// Tier 4 - spaceExploration
@PART[ladder1]:NEEDS[CommunityTechTree] 
{
	@TechRequired = spaceExploration
}

@PART[spotLight1]:NEEDS[CommunityTechTree] 
{
	@TechRequired = spaceExploration
}

@PART[spotLight2]:NEEDS[CommunityTechTree] 
{
	@TechRequired = spaceExploration
}

// Tier 5 - advExploration



@PART[telescopicLadder]:NEEDS[CommunityTechTree] 
{
	@TechRequired = advExploration
}

@PART[telescopicLadderBay]:NEEDS[CommunityTechTree] 
{
	@TechRequired = advExploration
}






//// ********* Logistics and Station/Moon Habitation ********* \\\\
// ***** Stations / Colony Pieces ***** \\

// Tier 0 - start

// Tier 1 - engineering101

// Tier 2 - serviceModules

// Tier 3 - skipped

// Tier 4 - recycling

// Tier 5 - hydroponics

// Tier 6 - earlyStations
@PART[crewCabin]:NEEDS[CommunityTechTree] 
{
	@TechRequired = earlyStations
}

@PART[cupola]:NEEDS[CommunityTechTree]
{
	@TechRequired = earlyStations
	@entryCost = 8500
	@cost = 3200
}

// Tier 7 - shortTermHabitation
@PART[Large_Crewed_Lab]:NEEDS[CommunityTechTree]  // MPL
{
	@TechRequired = shortTermHabitation
}

// Tier 8 - longTermHabitation

// Tier 9 - advancedStations

// Tier 10 - colonization

// Tier 11 - advColonization




// ***** Storage/Resources ***** \\\\
// Tier 0

// Tier 1 - engineering101

// Tier 2 - serviceModules
@PART[ServiceBay_125_v2]:NEEDS[CommunityTechTree]
{
	@TechRequired = serviceModules
}

// Tier 3 - Skipped

// Tier 4 - storageTech


// Tier 5 - earlyLogistics
@PART[ServiceBay_250_v2]:NEEDS[CommunityTechTree]
{
	@TechRequired = earlyLogistics
}

// Tier 6 - logistics

// Tier 7 - isru
@PART[MiniDrill]:NEEDS[CommunityTechTree]
{
	@TechRequired = isru
}
@PART[MiniISRU]:NEEDS[CommunityTechTree]
{
	@TechRequired = isru
}
@PART[RadialOreTank]:NEEDS[CommunityTechTree]
{
	@TechRequired = isru
}
@PART[SmallTank]:NEEDS[CommunityTechTree] // Small Holding Tank
{
	@TechRequired = isru
}


// Tier 8 - advLogistics
@PART[ISRU]:NEEDS[CommunityTechTree]
{
	@TechRequired = advLogistics
}

@PART[RadialDrill]:NEEDS[CommunityTechTree]
{
	@TechRequired = advLogistics
}



// Tier 9 - advOffworldMining
@PART[LargeTank]:NEEDS[CommunityTechTree] // Large Holding Tank
{
	@TechRequired = advOffworldMining
}

// Tier 10 - resourceExploitation



// ***** Parachutes ***** \\


@PART[parachuteSingle]:NEEDS[CommunityTechTree]
{
	@cost = 472
	@entryCost = 3500
	@TechRequired = survivability
}

@PART[parachuteRadial|radialDrogue]:NEEDS[CommunityTechTree]
{
	@TechRequired = enhancedSurvivability
}

@PART[parachuteLarge]:NEEDS[CommunityTechTree]
{
	@TechRequired = enhancedSurvivability
}

@PART[parachuteDrogue]:NEEDS[CommunityTechTree]
{
	@TechRequired = enhancedSurvivability
}

































//// ********* Science ********* \\\\

// Add Telemetry Report to Probes \\
@PART[*]:HAS[@MODULE[ModuleCommand],#vesselType[Probe]]:NEEDS[CommunityTechTree]
{
	MODULE
	{
		name = ModuleScienceExperiment	
		experimentID = telemetryReport
		experimentActionName = Telemetry Report
		resetActionName = Discard Telemetry
		reviewActionName = Review Telemetry
		useStaging = False	
		useActionGroups = True
		hideUIwhenUnavailable = True	
		rerunnable = True
		xmitDataScalar = 1.0
	}
}

EXPERIMENT_DEFINITION
{
	id = telemetryReport
	title = Telemetry Report
	baseValue = 2
	scienceCap = 2
	dataScale = 1
	requireAtmosphere = False
	situationMask = 63
	biomeMask = 3
	
	RESULTS
	{
		default = The probe's onboard computers have successfully recorded current telemetry data.
		default = Sensors are functioning nominally. Telemetry data logged!
		default = Current location verified, data stored and awaiting transmission.
	}
}

// Tier 0 - start

// Science
@PART[sensorThermometer]:NEEDS[CommunityTechTree]
{
	@TechRequired = start
}

@PART[sensorBarometer]:NEEDS[CommunityTechTree]
{
	@TechRequired = start
}

// Tier 1  - engineering101
@PART[GooExperiment]:NEEDS[CommunityTechTree] // Move this here if ReStockPlus Installed
{
	@TechRequired = engineering101
}

// Tier 2 - science201 
@PART[sensorAccelerometer]:NEEDS[CommunityTechTree]
{
	@TechRequired = science201
}

// Tier 3 - basicScience
@PART[science_module]:NEEDS[CommunityTechTree]  // Materials Lab
{
	@TechRequired = basicScience
}

// Tier 4 - appliedScience
@PART[sensorGravimeter]:NEEDS[CommunityTechTree]
{
	@TechRequired = appliedScience
}
@PART[sensorAtmosphere]:NEEDS[CommunityTechTree]
{
	@TechRequired = appliedScience
}

// Tier 5 - exactScience
@PART[SurveyScanner]:NEEDS[CommunityTechTree]
{
	@TechRequired = exactScience
}

// Tier 6 - scienceTech
@PART[InfraredTelescope]:NEEDS[CommunityTechTree]
{
	@TechRequired = scienceTech
}
@PART[OrbitalScanner]:NEEDS[CommunityTechTree]
{
	@TechRequired = scienceTech
}

// Tier 7 - advScienceTech or specializedScienceTech // Resource Detection goes in advScienceTech
@PART[SurfaceScanner]:NEEDS[CommunityTechTree] 
{
	@TechRequired = advScienceTech
}

// Tier 8 - experimentalScience or longTermScienceTech // Resource Detection goes in experimentalScience

// Tier 9 - scientificOutposts

// Tier 10 - highEnergyScience

// Tier 11 - appliedHighEnergyPhysics

// Tier 12 - ultraHighEnergyPhysics





















