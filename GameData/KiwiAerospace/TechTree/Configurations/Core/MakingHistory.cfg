// Kiwi's CTT Overhaul (Making History Patch)
// Version 0.1
// Last Updated: 5 August 2020 for KSP 1.9.1
// Based on: Zee's Probes Before Crew CTT Overhaul Version 2.8

/////////// Making History Expansion Parts
+PART[InflatableAirlock]:NEEDS[CommunityTechTree,SquadExpansion]		// InflatableAirlock
{
	@name = InflatableAirlock_Size1
	@TechRequired = enginePlates
	@entryCost = 12000
	@cost = 850
	@title = Clamp-O-Tron Inflatable Airlock
	@description = This is the same old inflatable airlock that you love, but now compatible with the Clamp-O-Tron sized system!
	@mass *= 1.2
	@MODULE[ModuleDockingNode]
	{
		@nodeType = size1
	}
}

//// ***************** 1.8 Bonus Parts

@PART[Size_1_5_Cone]:NEEDS[CommunityTechTree,SquadExpansion]	// Protective Rocket Nosecone Mk5A
{
	@TechRequired = advConstruction
	@entryCost = 2500
	@cost = 160
}





//// ********* Command Modules ********* \\\\

// ***** Command Modules ***** \\

// Tier 4 - simpleCommandModules

// Tier 5 - commandModules
@PART[Mk2Pod]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = commandModules
	@entryCost = 7500
	@cost = 2850
	@RESOURCE[ElectricCharge]
	{
		@amount = 150
		@maxAmount = 150
	}
}

// Tier 6 - heavyCommandModules

// Tier 7 - specializedCommandModules

// Tier 8 - specializedCommandCenters or specializedLanders

// Tier 9 - heavyLanders or heavyCommandCenters


// ***** Re-entry Pods ***** \\

// Tier 3 - basicReentryModule
@PART[kv1Pod]:NEEDS[CommunityTechTree,SquadExpansion]
{
	@TechRequired = basicReentryModule
	@entryCost = 5250
	@cost = 1250
}

// Tier 4 - reentryModule
@PART[kv2Pod]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = reentryModule
	@entryCost = 6450
	@cost = 2000
}

// Tier 5 - advancedReentryModule
@PART[kv3Pod]:NEEDS[CommunityTechTree,SquadExpansion]
{
	@TechRequired = advancedReentryModule
	@entryCost = 7850
	@cost = 3000
}


// MEM isn't a Command Module
@PART[MEMLander]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = advExploration
	@entryCost = 7400
	@cost = 3500
	@RESOURCE[ElectricCharge]
	{
		@amount = 200
		@maxAmount = 200
	}
}


//// ********* Construction ********* \\\\

// ***** Adapters, Fairings ***** \\
// Tier 0

// Tier 1 - Skipped

// Tier 2 - Basic Construction

// Tier 3 - General Construction

// Tier 4 - Advanced Construction
@PART[fairingSize1p5]:NEEDS[CommunityTechTree,SquadExpansion] // 1.875 m
{
    @TechRequired = advConstruction
}

// Tier 5 - Specialized Construction

// Tier 6 - Advanced MetalWorks

// Tier 7 - Nanolathing
@PART[fairingSize4]:NEEDS[CommunityTechTree,SquadExpansion] // 5 m
{
    @TechRequired = nanolathing
}

// Tier 8 - Exotic Alloys


// ***** Structural Parts ***** \\
// Tier 0

// Tier 1 - Basic Rocketry

// Tier 2 - Basic Construction
@PART[Tube1]:NEEDS[CommunityTechTree,SquadExpansion] // T-12 Structural Tube
{
    @TechRequired = basicConstruction
}

// Tier 3 - General Construction
@PART[Tube1p5]:NEEDS[CommunityTechTree,SquadExpansion] // T-18 Structural Tube
{
    @TechRequired = generalConstruction
}

// Tire 4 - Advanced Construction
@PART[Tube2]:NEEDS[CommunityTechTree,SquadExpansion] // T-25 Structural Tube
{
    @TechRequired = advConstruction
}

// Tier 5 - Specialized Construction
@PART[Tube3]:NEEDS[CommunityTechTree,SquadExpansion] // T-37 Structural Tube
{
    @TechRequired = specializedConstruction
}

@PART[Triangle0]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = specializedConstruction
}

@PART[Triangle1]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = specializedConstruction
}

@PART[Panel0]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = specializedConstruction
}

@PART[Panel1]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = specializedConstruction
}

@PART[EquiTriangle0]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = specializedConstruction
}

@PART[EquiTriangle1]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = specializedConstruction
}

// Tier 6 - Composites
@PART[Tube4]:NEEDS[CommunityTechTree,SquadExpansion] // T-50 Structural Tube
{
    @TechRequired = composites
}


// Tier 7 - Meta-Materials

// Tier 8 - Orbital Assembly

// Tier 9 - Orbital Megastructures



//// ********* Decouplers/Separators/DockingPorts/EnginePlates ********* \\\\

// Tier 4 Docking
@PART[Decoupler_1p5]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = docking
}

// Tier 5 Advanced Decoupling
@PART[Separator_1p5]:NEEDS[CommunityTechTree,SquadExpansion] // 1.875 m
{
    @TechRequired = advancedDecoupling
}

@PART[Size1p5_Strut_Decoupler]:NEEDS[CommunityTechTree,SquadExpansion] // 1.875 m
{
    @TechRequired = advancedDecoupling
}

@PART[EnginePlate1p5]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = advancedDecoupling
	@entryCost = 3000
	@cost = 500
}

@PART[InflatableAirlock]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = advancedDecoupling
	@entryCost = 9500
	@cost = 750
}

// Tier 6 Engine Plates
@PART[EnginePlate2]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = enginePlates
	@entryCost = 5000
	@cost = 800
}

// Tier 7 Advanced Docking
@PART[Decoupler_4]:NEEDS[CommunityTechTree,SquadExpansion] // 5m
{
    @TechRequired = advancedDocking
}

@PART[EnginePlate3]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = advancedDocking
	@entryCost = 10000
	@cost = 1500
}

// Tier 8 Advanced Engine Plates

@PART[Separator_4]:NEEDS[CommunityTechTree,SquadExpansion] // 5m
{
    @TechRequired = advancedEnginePlates
}

@PART[EnginePlate4]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = advancedEnginePlates
	@entryCost = 15000
	@cost = 2000
}

// Tier 9 Automated Decoupling Systems















//// ********* Engines ********* \\\\

// ***** Liquid Fuel ***** \\





// Tier 3; Intro of the 1.875m engine in Making History
@PART[LiquidEngineRK-7]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = advRocketry
	@entryCost = 7000
	@cost = 1700
}

// Tier 4 Heavy Rocketry, Intro of 2.5m engines
@PART[LiquidEngineLV-TX87]:NEEDS[CommunityTechTree&SquadExpansion] // LV-TX87 "Bobcat" Liquid Fuel Engine
{
	@entryCost = 9000
	@TechRequired = heavyRocketry
}
@PART[LiquidEngineLV-T91]:NEEDS[CommunityTechTree&SquadExpansion] // LV-T91 "Cheetah" Liquid Fuel Engine
{
	@entryCost = 7000
	@TechRequired = heavyRocketry
}
@PART[LiquidEngineRE-I2]:NEEDS[CommunityTechTree,SquadExpansion] // RE-I2 "Skiff" Liquid Fuel Engine
{
    @TechRequired = heavyRocketry
	@entryCost = 12000
	@cost = 3500
}

// Tier 5 Heavier Rocketry


// Tier 6 Even Heavier Rocketry
@PART[LiquidEngineKE-1]:NEEDS[CommunityTechTree,SquadExpansion] // KE-1 "Mastodon" Liquid Fuel Engine
{
    @TechRequired = evenHeavierRocketry
}

// Tier 7 Very Heavy Rocketry
@PART[LiquidEngineRE-J10]:NEEDS[CommunityTechTree,SquadExpansion] // RE-J10 "Wolfound" Liquid Fuel Engine
{
    @TechRequired = veryHeavyRocketry
	@entryCost = 45000
	@cost = 5200
}

// ***** Solid Rocket Boosters ***** \\
// Tier 0

// Tier 1

// Tier 2

// Tier 3

// Tier 4

// Tier 5


// Tier 6
@PART[Pollux]:NEEDS[CommunityTechTree,SquadExpansion]			// THK "Pollux" Solid Fuel Booster
{
	@TechRequired = largerBoosters
	@entryCost = 15000
	@cost = 6000
}





//// ********* Fuel Tanks ********* \\\\
@PART[Size1p5_Size2_Adapter_01]:NEEDS[CommunityTechTree,SquadExpansion] // A215 -  1.8 > 2.5 long
{
    @TechRequired = advFuelSystems
}

@PART[Size1p5_Tank_05]:NEEDS[CommunityTechTree,SquadExpansion] // c1000  1.8 long + seperatron 
{
    @TechRequired = advFuelSystems
}


// ***** Liquid Fuel ***** \\
// Tier 0

// Tier 1

// Tier 2


// Tier 3
@PART[Size1p5_Size0_Adapter_01]:NEEDS[CommunityTechTree,SquadExpansion] // FL-A150 Fuel Tank Adapter - Size 1.5 to Size 0
{
    @TechRequired = basicFuelSystems
}

@PART[Size1p5_Size1_Adapter_02]:NEEDS[CommunityTechTree,SquadExpansion] // FL-A151S Fuel Tank Adapter - Size 1.5 to Size 1
{
    @TechRequired = basicFuelSystems
}

@PART[Size1p5_Tank_01]:NEEDS[CommunityTechTree,SquadExpansion] // FL-TX220 Fuel Tank
{
    @TechRequired = basicFuelSystems
}

// Tier 4
@PART[Size1p5_Tank_02]:NEEDS[CommunityTechTree,SquadExpansion] // FL-TX440 Fuel Tank
{
    @TechRequired = fuelSystems
}

@PART[Size1p5_Adapter_01]:NEEDS[CommunityTechTree,SquadExpansion] // FL-A151L Fuel Tank Adapter - Size 1.5 to Size 1 Long
{
    @TechRequired = fuelSystems
}

@PART[Size1p5_Size2_Adapter_02]:NEEDS[CommunityTechTree,SquadExpansion] // FL-A2151S Fuel Tank Adapter - Size 2 to Size 1.5 
{
    @TechRequired = fuelSystems
}

// Tier 5
@PART[Size1p5_Tank_03]:NEEDS[CommunityTechTree,SquadExpansion] // FL-TX900 Fuel Tank
{
    @TechRequired = advFuelSystems
}

// Tier 6
@PART[Size1p5_Tank_04]:NEEDS[CommunityTechTree,SquadExpansion] // FL-TX1800 Fuel Tank
{
    @TechRequired = largeVolumeContainment
}
@PART[Size4_Tank_01]:NEEDS[CommunityTechTree,SquadExpansion] // Kerbodyne S4-64 Fuel Tank
{
    @TechRequired = largeVolumeContainment
}
@PART[Size3_Size4_Adapter_01]:NEEDS[CommunityTechTree,SquadExpansion] // Kerbodyne S3-S4 Adapter Tank
{
    @TechRequired = largeVolumeContainment
}

// Tier 7 High Performance Fuel Systems
@PART[Size4_Tank_02]:NEEDS[CommunityTechTree,SquadExpansion] // Kerbodyne S4-128 Fuel Tank
{
    @TechRequired = highPerformanceFuelSystems
}

// Tier 8 Specialized Fuel Storage
@PART[Size4_Tank_03]:NEEDS[CommunityTechTree,SquadExpansion] // Kerbodyne S4-256 Fuel Tank
{
    @TechRequired = specializedFuelStorage
}

// Tier 9
@PART[Size4_Tank_04]:NEEDS[CommunityTechTree,SquadExpansion] // Kerbodyne S4-512 Fuel Tank
{
    @TechRequired = exoticFuelStorage
}


//// ********* Logistics ********* \\\\

// ***** Storage ***** \\\\
// Tier 0

// Tier 1 - Engineering 101

// Tier 2 - Service Modules
@PART[Size1to0ServiceModule]:NEEDS[CommunityTechTree,SquadExpansion] // SM-6A Service Module
{
    @TechRequired = serviceModules
}

// Tier 3 - Skipped

// Tier 4 - Storage Technology
@PART[ServiceModule18]:NEEDS[CommunityTechTree,SquadExpansion] // SM-6A Service Module
{
    @TechRequired = serviceModules
}

// Tier 5 - Early Logistics
@PART[ServiceModule25]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = earlyLogistics
}

// Tier 6 - Logistics

// Tier 7 - Skipped

// Tier 8 - Skipped

// Tier 9 - Advanced Logistics

// Tier 10 - Colonization

// Tier 11 - Advanced Colonization





//// ***************** Utility/Structure


// ***** Flight Control ***** \\
// Tier 0 - Start

// Tier 1 - earlyFlight

// Tier 2 - stability

// Tier 3 - flightControl
@PART[monopropMiniSphere]:NEEDS[CommunityTechTree,SquadExpansion] // Stratus-V Minified Monopropellant Tank
{
    @TechRequired = flightControl
}

// Tier 4 - advFlightControl

// Tier 5 - specializedControl
@PART[Size1p5_Monoprop]:NEEDS[CommunityTechTree,SquadExpansion] // FL-R5 RCS Fuel Tank
{
    @TechRequired = specializedControl
}
// Tier 6 - experimentalControl

// Tier 7 - exoticControl






/// Nose Cone ***

@PART[rocketNoseConeSize4]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = exoticAlloys
}



// ***** Thermals ***** \\

// Tier 0 - start

// Tier 1 - engineering101

// Tier 2 - science201

// Tier 3 - batteryTech

// Tier 4 - electrics
@PART[HeatShield1p5]:NEEDS[CommunityTechTree,SquadExpansion]
{
    @TechRequired = electrics
}

// Tier 5 - heatManagementSystems

// Tier 6 - intermediateHeatManagement

// Tier 7 - advHeatManagement

// Tier 8 - skipped

// Tier 9 - specializedRadiators

















