// Kiwi's CTT Overhaul (Missing History Patch 1.8.2)
// Version 0.1
// Last Updated: 9 August 2020 for KSP 1.9.1
// Notes: Added a patch to replace the "Stomper" with the Restock mesh if Restock is available.
// Based on: Zee's Probes Before Crew CTT Overhaul Version 2.8

// Hide Duplicate Porkjet engines if both ReStockPlus and Missing History installed that aren't excluded within MissingHistory itself if Restock is installed.
// Valiant
@PART[liquidEngineT15]:NEEDS[CommunityTechTree&MissingHistory&ReStockPlus]
{
	%TechHidden = True
	@category = none
	@subcategory = 0
	!MODULE[ModuleTestSubject] {}
}

// Pug
@PART[liquidEngine303]:NEEDS[CommunityTechTree&MissingHistory&ReStockPlus]
{
	%TechHidden = True
	@category = none
	@subcategory = 0
	!MODULE[ModuleTestSubject] {}
}

// Engine Plate 1
@PART[EnginePlate1]:NEEDS[CommunityTechTree&ReStockPlus]:AFTER[MissingHistory]
{
	%TechHidden = True
	@category = none
	@subcategory = 0
	!MODULE[ModuleTestSubject] {}
}

@PART[probeStack_1p5]:NEEDS[CommunityTechTree&ReStockPlus]:AFTER[MissingHistory]
{
	%TechHidden = True
	@category = none
	@subcategory = 0
	!MODULE[ModuleTestSubject] {}
}

@PART[reactionWheel_1p5]:NEEDS[CommunityTechTree&ReStockPlus]:AFTER[MissingHistory]
{
	%TechHidden = True
	@category = none
	@subcategory = 0
	!MODULE[ModuleTestSubject] {}
}

//// ********* Command Modules ********* \\\\

// ***** Command Modules ***** \\

// Tier 4 - simpleCommandModules

// Tier 5 - commandModules
@PART[commandPod_1p5]:NEEDS[CommunityTechTree]:AFTER[MissingHistory] // Mk2-B "Palici" Command Pod
{
	@TechRequired = commandModules
}

// Tier 6 - heavyCommandModules

// Tier 7 - specializedCommandModules

// Tier 8 - specializedCommandCenters or specializedLanders

// Tier 9 - heavyLanders or heavyCommandCenters

//// ********* Electric / Solar / Heat ********* \\\\

// ***** Batteries ***** \\

// Tier 0

// Tier 1 Engineering 101

// Tier 2 - Science 201

// Tier 3 - Basic Science

// Tier 4 - Electrics

// Tier 5 - Advanced Electrics
// To-do Replace the texture with Restock (Done)
@PART[battery_1p5]:NEEDS[CommunityTechTree]:AFTER[MissingHistory] // Z-2K Rechargeable Battery Bank
{
	@TechRequired = advElectrics  // Technically not changing this, but was originally placing this in High-Power Electrics
}
@PART[battery_1p5]:NEEDS[CommunityTechTree&000_ReStock]:AFTER[MissingHistory]
{
	!mesh = DELETE
	MODEL,* {}
	MODEL
	  {
		model = ReStock/Assets/Electrical/restock-battery-125-1
		position = 0.0, 0.0, 0.0
		scale = 1,1,1
		rotation = 0, 0, 0
	  }
	  !DRAG_CUBE {}
	  DRAG_CUBE
	  {
		cube = Default, 0.2808,0.7744,0.7051, 0.2808,0.7723,0.7051, 1.217,0.9607,0.1416, 1.217,0.9608,0.1416, 0.2808,0.7686,0.7051, 0.2808,0.7705,0.7051, 0,0,0, 1.25,0.2231,1.25
	  }
}

// Tier 6 - High-Power Electrics


// Tier 7 - Advanced Solar Technology

// Tier 8 - Experimental Electrics

// Tier 9 - High Tech Electrical Systems

// Tier 10 - High Power Electrical Systems

// Tier 11 - Experimental Electrical Systems

// Tier 12 - Exotic Electrical Systems

//// ********* Engines ********* \\\\

// ***** Solid Rocket Boosters ***** \\
@PART[solidBooster_1p5]:NEEDS[CommunityTechTree]:AFTER[MissingHistory] // RT-25 "Stomper" Solid Fuel Booster
{
	@TechRequired = mediumBoosters
	@entryCost = 5000
	@cost = 1800
}
// Restock Model Patch
@PART[solidBooster_1p5]:NEEDS[CommunityTechTree&000_ReStock]:AFTER[MissingHistory] // RT-25 "Stomper" Solid Fuel Booster
{
	!mesh = DELETE
	!MODEL {}
	MODEL
	  {
		model = ReStock/Assets/Engine/restock-engine-srb-thumper-1
		scale = 1.5, 1.11, 1.5
	  }
}

//// ********** Nuclear *********** \\\\
// ***** Nuclear Power ***** \\

// Tier 6 - nuclearPower

// Tier 7 - largeNuclearPower

// Tier 8 - advNuclearPower

// Tier 9 - expNuclearPower

// Tier 10 - exoticNuclearPower

// ***** Nuclear Propulsion ***** \\
// Tier 6 - nuclearPropulsion

// Tier 7 - improvedNuclearPropulsion
@PART[nuclearEngine_1p5]:NEEDS[CommunityTechTree]:AFTER[MissingHistory] // BKN-7 "Beacon" Heavy Nuclear Engine
{
	@TechRequired = improvedNuclearPropulsion
	@entryCost = 120000 // Making it a touch cheaper
	@cost = 30000 // Making a touch more expensive
}
// Tier 8 - advNuclearPropulsion

// Tier 9 - expNuclearPropulsion

// Tier 10 - exoticNuclearPropulsion








// ***** Storage/Resources ***** \\
// Tier 0

// Tier 1 - engineering101

// Tier 2 - serviceModules

// Tier 3 - Skipped

// Tier 4 - storageTech
@PART[ServiceBay_125_v2]:NEEDS[CommunityTechTree]:AFTER[MissingHistory]
{
	@TechRequired = storageTech
}

@PART[ServiceBay_187_v2]:NEEDS[CommunityTechTree]:AFTER[MissingHistory]
{
	@TechRequired = storageTech
}
// Tier 5 - earlyLogistics

// Tier 6 - logistics

// Tier 7 - isru

// Tier 8 - advLogistics

// Tier 9 - advOffworldMining

// Tier 10 - resourceExploitation
